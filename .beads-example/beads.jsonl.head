{"id":"roundtable-07e","content_hash":"3b2e8f996e0d81b796bcacf8afe98d71d14f2d199dbe0bc63dd545da8a53e331","title":"Phase 10.2: End-to-end publish failure safety test","description":"Simulate git push failure in e2e test: verify draft remains APPROVED, batch marked FAILED, and no published files exist. Ensure error handling and rollback logic work correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:52:24.343101394Z","updated_at":"2025-12-26T04:18:20.8548835Z","closed_at":"2025-12-26T04:18:20.85488878Z","source_repo":".","labels":["e2e","test"]}
{"id":"roundtable-09o","content_hash":"618e4add2bfba14b6b23cf2402cb4126869d576ce873ba3177412edeeb757243","title":"Fix Railway backend build failures + add CI build gate","description":"Railway deploy was failing due to backend TypeScript compile errors. Fix TS issues across backend/shared types and add a GitHub Actions build gate so failures are caught before deploy. Also update runbook with Railway build failure notes.","acceptance_criteria":"- `pnpm --filter @roundtable/backend... build` passes\n- `.github/workflows/ci.yml` runs backend build on PRs + main/master\n- `docs/operations/runbook.md` documents Railway build-failure troubleshooting","status":"closed","priority":1,"issue_type":"bug","assignee":"ChartreuseHill","created_at":"2026-01-02T15:39:46.274410706Z","updated_at":"2026-01-02T15:44:54.020322796Z","closed_at":"2026-01-02T15:44:22.617721591Z","source_repo":".","labels":["backend","build","ci","railway","typescript"]}
{"id":"roundtable-0af","content_hash":"60dde5f1b85a3026647d5cc25ad94a856c20a5073f6ff57c1f379b2fb3e60ac4","title":"Phase 4: Domain and SSL configuration","description":"Configure custom domain and SSL certificates.\n\nTasks:\n- Purchase/configure domain (roundtable.chat or similar)\n- Configure DNS A/CNAME records to point to Railway\n- Set up SSL/TLS certificates (Let's Encrypt via Railway)\n- Configure CSP headers for production domain\n- Test domain access\n- Configure email DKIM/SPF records\n\nFiles:\n- docs/operations/dns-records.md (new)\n\nAcceptance: Domain accessible via HTTPS, valid SSL certificate.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:27:04.637476874Z","updated_at":"2025-12-30T21:43:02.193517499Z","closed_at":"2025-12-30T21:43:02.193517499Z","source_repo":".","labels":["dns","ops","security"],"dependencies":[{"issue_id":"roundtable-0af","depends_on_id":"roundtable-voz","type":"blocks","created_at":"2025-12-30T21:27:04.644397023Z","created_by":"root"}]}
{"id":"roundtable-14b","content_hash":"30e68b816ac5b727156695bfd627df7d74601d902837425e652be28a81cc7cbe","title":"Epic: Reflection Journey","description":"Private reflection timeline for each founder to track thinking journey over time. View all my posts (chronological), private drafts, reflection notes I add. Prompts: What's changed since this post? What would I tell my past self?","status":"closed","priority":3,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-02T07:43:55.853060327Z","updated_at":"2026-01-02T08:01:07.922025756Z","closed_at":"2026-01-02T08:01:04.783079512Z","source_repo":".","labels":["epic","founder","reflection"]}
{"id":"roundtable-14b.1","content_hash":"24207c9796409ed6174f3d4f35f31e60e8ad1ae65ed9759df8679766e7604a09","title":"Task 1: Timeline API","description":"Create API endpoint for founder's private timeline. GET /api/me/timeline returns all my posts (chronological), private drafts, and reflection notes. Filterable by date range and content type. Authentication required.","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T07:44:10.845548911Z","updated_at":"2026-01-02T07:53:25.670075407Z","closed_at":"2026-01-02T07:53:25.670075407Z","source_repo":".","labels":["api","backend","reflection"]}
{"id":"roundtable-14b.2","content_hash":"050ce0d677312bf5d6cf3593b601de5049d632e301d066e6e595f4312d3556d7","title":"Task 2: Reflection notes","description":"Database migration and API for reflection notes. Add reflection_note to posts table (nullable, private). POST /api/posts/:id/reflection to add note. GET /api/me/reflections to list all notes. Notes are private to founder only.","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T07:44:18.490164329Z","updated_at":"2026-01-02T08:00:58.491489057Z","closed_at":"2026-01-02T08:00:58.491489057Z","source_repo":".","labels":["backend","database","reflection"],"dependencies":[{"issue_id":"roundtable-14b.2","depends_on_id":"roundtable-14b.1","type":"blocks","created_at":"2026-01-02T07:44:18.494333427Z","created_by":"root"}]}
{"id":"roundtable-14b.3","content_hash":"2772a128794b63d25a12f1fa35f1609694d88497dec05590429b2cc7114520fa","title":"Task 3: Portal UI","description":"Private Reflection Journey page in member portal. /app/journey shows chronological timeline with posts, drafts, and reflection notes. Add reflection button on each post with prompt: What's changed since you wrote this? What would you tell your past self? Calm, personal space for self-reflection.","status":"closed","priority":3,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T07:44:26.135025503Z","updated_at":"2026-01-02T07:55:30.765995314Z","closed_at":"2026-01-02T07:55:30.765995314Z","source_repo":".","labels":["frontend","portal","reflection"],"dependencies":[{"issue_id":"roundtable-14b.3","depends_on_id":"roundtable-14b.1","type":"blocks","created_at":"2026-01-02T07:44:26.136613389Z","created_by":"root"},{"issue_id":"roundtable-14b.3","depends_on_id":"roundtable-14b.2","type":"blocks","created_at":"2026-01-02T07:44:26.137356457Z","created_by":"root"}]}
{"id":"roundtable-1b7","content_hash":"63b330b044acffcc920b742da6ff27b93eec4431f71fe40efe1ef7f752d84185","title":"Phase 3.2: Add inbound email endpoint with idempotent validation","description":"Implement POST /inbound/email endpoint with plus token validation, dedupe logic, and secure logging. Create lib/dedupe.ts, lib/parsePlusToken.ts, and lib/logger.ts with PII redaction.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:43:31.030461567Z","updated_at":"2025-12-16T08:50:15.890177624Z","closed_at":"2025-12-16T08:50:15.890177624Z","source_repo":".","labels":["backend","email"]}
{"id":"roundtable-1kh","content_hash":"362714fe02baf59b1ae08885e68e8fdc04b855bf116bbb61e8755559537be916","title":"Implement Content Discovery Tags UI","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T02:52:29.310682879Z","updated_at":"2026-01-04T03:41:35.889302771Z","closed_at":"2026-01-04T03:41:35.889302771Z","source_repo":".","labels":["content-discovery","epic"]}
{"id":"roundtable-27c","content_hash":"9071c8e3d13ad083474b479cf883223baed02eb826e658a41e6f413bcc2a811f","title":"Implement MafDataCollector","description":"Implement MafDataCollector functionality\n\nLocation: lib/maf/supervision/data-collector.ts\n\nCurrent state: Stub that returns empty object from collect()\n\nRequired implementation:\n- Collect agent state data from tmux sessions\n- Gather task/bead progress information\n- Aggregate system metrics (CPU, memory, disk)\n- Return structured data for decision engine","status":"closed","priority":2,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-03T23:57:21.95150722Z","updated_at":"2026-01-04T01:21:01.889235382Z","closed_at":"2026-01-04T01:21:01.889235382Z","source_repo":".","labels":["data","maf","supervision"]}
{"id":"roundtable-29q","content_hash":"fbdf847f08c03b58e30d2aa2009b7b79a509237a400a471ae6dc9fae56f2ca1b","title":"Add lease expiry test assertion","description":"Add lease expiry test assertion\n\nLocation: lib/maf/__tests__/worker-heartbeat-lease.test.ts:148\n\nCurrent state: TODO comment notes test needed\n\nRequired implementation:\n- Assert scheduler can reclaim task after lease expiry\n- Test renew/lease expiry logic when wired\n- Verify heartbeat failure triggers task reassignment","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T23:57:46.27431927Z","updated_at":"2026-01-04T00:11:21.360826846Z","closed_at":"2026-01-04T00:11:21.360826846Z","source_repo":".","labels":["lease","maf","test"]}
{"id":"roundtable-2cv","content_hash":"8e4607e4264e5d9edf4efc87f98f7cbecf19583a0b7c90ac7fd2623d0482c117","title":"Implement Content Discovery Related Content recommendations","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T02:52:54.458715693Z","updated_at":"2026-01-04T03:41:35.891429264Z","closed_at":"2026-01-04T03:41:35.891429264Z","source_repo":".","labels":["content-discovery","epic"]}
{"id":"roundtable-2kt","content_hash":"d40c432759d70a772263369d91aad3496a0c735754b5a394204970cd75ef5607","title":"AI frameworks integration (Response Awareness + Superpowers)","description":"Goal: integrate Superpowers with Response Awareness (RA) for MAF tmux agents in a no-clash way (RA remains bead entrypoint; Superpowers is advisory via /sp-* wrappers).\n\nKey outcomes:\n- Implementors (Claude Code) always start beads with /response-awareness\n- Supervisor/Reviewer can run Codex in mixed-mode and suggest /sp-* when implementors are stuck\n- Updates are pull-based and easy via scripts (vendor upstream into .claude-external/ then sync into .claude/)\n\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- Implementor panes can run /response-awareness for bead work\\n- Implementor panes can run /sp-tdd, /sp-debug, /sp-write-plan, /sp-verify, /sp-brainstorm\\n- tmux agents can run mixed: Supervisor+Reviewer=codex, Implementors=claude\\n- Upstream updates are applied via scripts/ops/update-ai-frameworks.sh","status":"open","priority":2,"issue_type":"epic","assignee":"OrangePond","created_at":"2026-01-02T10:30:14.586425109Z","updated_at":"2026-01-04T18:03:01.998328461Z","source_repo":".","labels":["ai","docs","maf","response-awareness","superpowers"]}
{"id":"roundtable-2kt-ANALYSIS","content_hash":"f90809a18aaf8ce6f068e99df65586d99e95e241aa85a00b62867e3401b0af7b","title":"Analyze broken /sp-* commands and recommend fix approach","description":"TASK: Analyze broken /sp-* commands and recommend fix approach\n\nDELIVERABLE: Report at docs/analysis/superpowers-sp-commands-fix.md with:\n1. Root cause analysis (3-layer wrapper chain doesn't work)\n2. Option A vs Option B evaluation\n3. Clear recommendation with rationale\n4. Implementation outline\n\nOPTIONS:\n- Option A: Direct sub-agent fix (faster 30-60min, bypasses MAF)\n- Option B: Bead-based implementation (slower 60-90min, uses MAF infrastructure)\n\nCONTEXT:\nThe /sp-* commands are non-functional stubs. Wrapper-chain approach (command → skill → vendored skill) doesn't work because skill names aren't recognized and disable-model-invocation prevents processing.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T11:13:20Z","updated_at":"2026-01-04T11:22:21.008420317Z","closed_at":"2026-01-04T11:22:15.668223888Z","source_repo":".","labels":["analysis","maf","superpowers","tech-debt"]}
{"id":"roundtable-2kt.1","content_hash":"05a2cbc4704b3507e4e5adbebdf7b863e28eab65e503acd1e81cc2d1d4039e6e","title":"Write integration plan (RA + Superpowers)","description":"Document the workflow and guardrails in docs/plan/superpowers-integration.md (RA remains bead entrypoint; Superpowers only via /sp-* wrappers; mixed-mode tmux supported).\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- docs/plan/superpowers-integration.md exists and describes non-collision workflow\\n- Includes update strategy and mixed-mode roles","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T10:30:44.243818881Z","updated_at":"2026-01-04T11:10:20.817214113Z","closed_at":"2026-01-04T11:10:16.749571569Z","source_repo":".","labels":["ai","docs"]}
{"id":"roundtable-2kt.2","content_hash":"d1a9b029c2b2d845f4c67b256da6a19c11526ef45d4a8f6615208ae145bb09b0","title":"Vendor Superpowers + expose /sp-* commands","description":"Vendor obra/superpowers and sync its skills into .claude/skills; create repo-local /sp-* wrapper commands for implementors.\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- .claude/skills contains Superpowers skills with .superpowers-managed marker\\n- .claude/commands contains sp-* wrappers usable in Claude Code","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T10:30:50.35215184Z","updated_at":"2026-01-04T14:37:56.985626608Z","closed_at":"2026-01-04T14:37:56.985626608Z","source_repo":".","labels":["ai","superpowers","tooling"]}
{"id":"roundtable-2kt.3","content_hash":"f2a28d8a235277c0677dcc404cac28dc24cfa3b0b74449287a17ee6b6b73696b","title":"MAF mixed-mode + tmux layout resilience","description":"Ensure maf-cli:agents supports Supervisor+Reviewer=codex, Implementors=claude; add a rebuild script for expected 4-pane layout and document it.\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- scripts/maf/rebuild-maf-cli-agents.sh restores 4 panes\\n- docs mention rebuild + restart; prompt-agent uses env-resolved panes","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T10:30:56.452822465Z","updated_at":"2026-01-04T11:41:36.936936407Z","closed_at":"2026-01-04T11:41:36.936936407Z","source_repo":".","labels":["maf","tooling"]}
{"id":"roundtable-2kt.4","content_hash":"e21dc0cfe1fc25fa754f9c6f1535f2bb8592c195445a8ab5e1a3d760c7b17f12","title":"Vendor Response Awareness (RA) under .claude-external/response-awareness","description":"One-time setup to vendor Response Awareness (RA) under .claude-external/response-awareness and sync its skills/commands into .claude/.\n\nCurrent approach (default):\n- scripts/claude/update-response-awareness.sh vendors upstream RA via git clone + rsync (no nested .git dir)\n- Then syncs RA skills/commands into .claude/skills + .claude/commands\n\nUsage:\n  ./scripts/claude/update-response-awareness.sh\n  ./scripts/claude/update-response-awareness.sh --sync-only\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- .claude-external/response-awareness exists and contains upstream RA (vendored, no nested .git dir)\n- scripts/claude/update-response-awareness.sh runs end-to-end (vendor + sync skills + sync commands)\n","status":"open","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T10:31:02.488190605Z","updated_at":"2026-01-04T18:03:08.071624034Z","source_repo":".","labels":["ai","response-awareness","tooling"],"dependencies":[{"issue_id":"roundtable-2kt.4","depends_on_id":"roundtable-2kt","type":"parent-child","created_at":"2026-01-02T11:17:51.380534815Z","created_by":"root"}]}
{"id":"roundtable-2kt.5","content_hash":"7c83d81df93c1138b95f7e6b425ac4b9b7b2a49c8857e6efe73fefb75af91d89","title":"Validate end-to-end (Claude implementors + Codex supervisor/reviewer)","description":"Validation checklist after roundtable-2kt.4:\n- Run: scripts/claude/update-ai-frameworks.sh\n- In Claude implementor panes: /help shows /response-awareness + /sp-* wrappers\n- In tmux: scripts/maf/rebuild-maf-cli-agents.sh --force restores 4 panes\n- Manual restart works: scripts/maf/context-manager-v2.sh restart 0 (and pane restarts into correct role cmd)\n- Mixed mode confirmed via ps args for panes 0/1 (codex) and 2/3 (claude)\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- scripts/claude/update-ai-frameworks.sh runs without skipping RA\\n- /help in Claude implementor shows /response-awareness and /sp-* commands\\n- scripts/maf/context-manager-v2.sh restart \u003cpane\u003e works and restarts into correct role cmd","status":"open","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-02T10:31:08.60833135Z","updated_at":"2026-01-04T18:03:14.07519171Z","source_repo":".","labels":["maf","verification"],"dependencies":[{"issue_id":"roundtable-2kt.5","depends_on_id":"roundtable-2kt.4","type":"blocks","created_at":"2026-01-02T10:32:05.757036279Z","created_by":"Codex"},{"issue_id":"roundtable-2kt.5","depends_on_id":"roundtable-2kt","type":"parent-child","created_at":"2026-01-02T11:17:57.451542206Z","created_by":"root"}]}
{"id":"roundtable-2kt.6","content_hash":"7ff558c65cc72a7dc7aa2cd4bdd948316d7a98d52c40ad5c758b70f52e3e2198","title":"Maintenance playbook (effortless updates)","description":"Operator playbook for keeping RA + Superpowers updated:\n- Primary: scripts/claude/update-ai-frameworks.sh\n- If Superpowers only: scripts/claude/update-superpowers.sh\n- If RA only: scripts/claude/update-response-awareness.sh\n\nOptional:\n- If you enable semantic skill search for supervisors: scripts/claude/reindex-superpowers-skills.sh (requires .claude/hooks setup + vector store)\n\nNotes:\n- Treat .claude-external/* as generated; local edits there may be overwritten on the next update.\n- If something looks wrong, rerun scripts/claude/update-ai-frameworks.sh to re-vendor and re-sync .claude/skills and .claude/commands.\n\n**REOPENED NOTE**: This bead was falsely marked as closed on 2026-01-02. The actual implementation was never completed. Re-opening 2026-01-04 for proper implementation.","acceptance_criteria":"- Runbook/plan describes update cadence and 1-2 commands\n- Mentions that .claude-external/* is generated and can be regenerated by scripts","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-02T10:31:14.743372819Z","updated_at":"2026-01-04T12:01:00.614924648Z","closed_at":"2026-01-04T12:01:00.614924648Z","source_repo":".","labels":["docs","maintenance"],"dependencies":[{"issue_id":"roundtable-2kt.6","depends_on_id":"roundtable-2kt.4","type":"related","created_at":"2026-01-02T10:32:11.866075933Z","created_by":"Codex"},{"issue_id":"roundtable-2kt.6","depends_on_id":"roundtable-2kt","type":"parent-child","created_at":"2026-01-02T11:18:03.470784369Z","created_by":"root"}]}
{"id":"roundtable-3rp","content_hash":"2bc439e4aa6c73294b22e87a60c38167eda766cbefd6f6e7ed8cc021a6d58d61","title":"Phase 5: Monitoring and alerting","description":"Set up production monitoring and alerting.\n\nTasks:\n- Configure /health endpoint with detailed metrics\n- Set up Railway metrics dashboard\n- Configure error tracking (Sentry or similar)\n- Set up uptime monitoring (UptimeRobot or similar)\n- Configure alerting for failures\n- Document runbook for common issues\n\nFiles:\n- apps/backend/src/routes/health.ts (new)\n- docs/operations/monitoring.md (new)\n\nAcceptance: All monitoring green, alerts configured.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:27:18.345105351Z","updated_at":"2025-12-30T22:05:51.023041425Z","closed_at":"2025-12-30T22:05:51.023041425Z","source_repo":".","labels":["monitoring","ops"],"dependencies":[{"issue_id":"roundtable-3rp","depends_on_id":"roundtable-0af","type":"blocks","created_at":"2025-12-30T21:27:18.352877865Z","created_by":"root"}]}
{"id":"roundtable-3uv","content_hash":"85e08c12827183c21db14d204639912580d59b1eb22d771286dd7f01116d9c58","title":"Public resonance API","description":"Create public API endpoint for operators to signal resonance on published posts. POST /published/:id/resonance endpoint that accepts signal_type and optional note. No authentication required (anonymous readers). Email is stored as hash for privacy. Rate limited to prevent abuse.","acceptance_criteria":"POST /published/:id/resonance endpoint created; accepts signal_type (resonates/curious/similar-experience) and optional note; anonymous (no auth); email stored as hash; rate limited (100 req/hour); returns 201 on success; validates post exists and is published","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T05:58:42.725359106Z","updated_at":"2026-01-04T06:06:58.065121872Z","closed_at":"2026-01-04T06:06:58.065121872Z","source_repo":".","labels":["api","backend","epic","slow-match"]}
{"id":"roundtable-3ym","content_hash":"f477377724a0f6522357b46fc10ce6a04ac4333036aee94b2508941d4a47aa57","title":"Phase 7.2: Git client for batch publish to main","description":"Implement gitClient.ts with clone/pull, write files, git add/commit/push to main. Use temp working directory and GitHub token with least privilege. Include comprehensive idempotency tests using local bare repo.","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-15T17:48:02.534276373Z","updated_at":"2025-12-26T04:15:07.027280277Z","closed_at":"2025-12-26T04:15:07.027280277Z","source_repo":".","labels":["backend","git","publish"]}
{"id":"roundtable-42a","content_hash":"d0be45349a66f5c8c632d32cd418e832634ab0bee8a06e1e0f683c79f2ace290","title":"Fix homepage visual mismatch vs production screenshots","description":"Production screenshots are checked in under docs/screenshots.\n\nCompare current site homepage output (Eleventy, /) to:\n- docs/screenshots/roundtable-sg.png\n- docs/screenshots/roundtable-sg-dark-1920x911.png\n\nBring local implementation into congruence (homepage + header/nav + hero layout/background + footer in dark mode). Likely touchpoints: apps/site/src/index.njk, apps/site/src/_includes/base.njk, apps/site/src/_includes/nav.njk, apps/site/src/_includes/footer.njk, apps/site/src/assets/css/style.css.\n\nNotes:\n- Nav shows Published only when PUBLIC_LAUNCH=true (or SITE_SHOW_DEMO=true); production screenshot includes Published.\n","acceptance_criteria":"- Homepage matches docs/screenshots/roundtable-sg.png (light)\n- Homepage matches docs/screenshots/roundtable-sg-dark-1920x911.png (dark, 1920x911)\n- If env flags are required to match prod nav (e.g., PUBLIC_LAUNCH), document the required values in the bead notes","notes":"(Auto update) Owner should be Implementor-1 for site/UI fix; reviewer stays BlackDog for sign-off. Evidence screenshots in docs/screenshots/*; see comments.","status":"closed","priority":1,"issue_type":"bug","assignee":"GreenMountain","created_at":"2026-01-02T16:24:01.727876737Z","updated_at":"2026-01-03T18:40:52.633540196Z","closed_at":"2026-01-03T18:40:52.633540196Z","source_repo":".","labels":["frontend","homepage","site","visual"]}
{"id":"roundtable-4df","content_hash":"42d46cd74df48480145a29653cfbb577f23ab097cd70eab3f6790daf3c5d2333","title":"Implement SupervisorDecisionEngine","description":"Implement SupervisorDecisionEngine functionality\n\nLocation: lib/maf/supervision/decision-engine.ts\n\nCurrent state: Stub that returns empty array from decide()\n\nRequired implementation:\n- Analyze supervisor context (agents, tasks)\n- Generate prioritized decisions\n- Coordinate with decision table and data collector\n- Return actionable supervisor decisions","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-03T23:57:28.086315415Z","updated_at":"2026-01-04T01:47:21.599714891Z","closed_at":"2026-01-04T01:47:21.599714891Z","source_repo":".","labels":["framework","maf","supervision"]}
{"id":"roundtable-4dp","content_hash":"9eb7f60417fa2fcf3a94fcb1795d7ccf1c12c6e84da57bfd84f090966b6ef459","title":"Trusted Thinking Circles - Async collaboration for founders","description":"Share drafts with trusted advisors, get private feedback, test ideas before wider publication.\n\nFeatures:\n1. Draft Sharing - Share with specific circle members\n2. Private Feedback - Comment threads (member-only)\n3. Feedback Requests - Targeted questions\n4. Safe Withdrawal - Unshare anytime\n\nDatabase: draft_shares, draft_comments, feedback_requests\n\nAcceptance: Share drafts with specific members, comment threads, unshare functionality, feedback requests, notifications, access revoked on submission, 600+ tests passing.\n\nEstimated: 20-25 hours across 6 phases","status":"closed","priority":1,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-01T20:47:17.595605817Z","updated_at":"2026-01-02T03:53:13.332171749Z","closed_at":"2026-01-02T03:53:13.332171749Z","source_repo":".","labels":["collaboration","drafts","feedback"]}
{"id":"roundtable-4dp.1","content_hash":"960c93dea74e722757c0e8dcbcb2ca109b4bb19bdb766d2eb17d9d9bc2dfafd8","title":"Phase 1.1: Database migration for draft sharing tables","description":"Create SQLite migration for trusted collaboration features.\n\nFiles:\n- apps/backend/migrations/038_draft_shares.sql\n\nTables to create:\n1. draft_shares (id, draft_id, shared_by, shared_with, can_comment, created_at, expires_at)\n2. draft_comments (id, draft_id, author_id, comment, created_at, updated_at)\n3. feedback_requests (id, draft_share_id, question, answered_at, created_at)\n\nIndexes:\n- idx_draft_shares_draft_id on draft_shares(draft_id)\n- idx_draft_shares_shared_with on draft_shares(shared_with)\n- idx_draft_comments_draft_id on draft_comments(draft_id)\n\nAcceptance: Migration runs successfully, all tables and indexes created","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:47:44.566331257Z","updated_at":"2026-01-01T21:27:30.236426126Z","closed_at":"2026-01-01T21:27:30.236426126Z","source_repo":".","labels":["backend database migration collaboration"]}
{"id":"roundtable-4dp.10","content_hash":"d71da69ae8a006cd346142cee2200063a755db49471236f2cadf7b32c2e6b23c","title":"Phase 3.1: Comment panel component","description":"Create comment panel for shared drafts.\n\nFiles:\n- apps/backend/src/public/js/commentPanel.js (new)\n\nFeatures:\n- Shows all comments for shared draft\n- Author avatar, name, timestamp\n- Comment body with markdown rendering\n- Highlight own comments\n- \"Add comment\" input at bottom\n- Empty state (\"No comments yet\")\n\nCSS:\n- Swiss-spa styling\n- Calm, minimal design\n- Threaded visual hierarchy\n\nAcceptance: Component renders correctly, comments display, mobile responsive","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:49:48.76583495Z","updated_at":"2026-01-02T00:54:25.276562224Z","closed_at":"2026-01-02T00:54:25.276562224Z","source_repo":".","labels":["frontend portal comments"],"dependencies":[{"issue_id":"roundtable-4dp.10","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:49:48.768239379Z","created_by":"root"},{"issue_id":"roundtable-4dp.10","depends_on_id":"roundtable-4dp.3","type":"related","created_at":"2026-01-01T20:49:48.770400899Z","created_by":"root"}]}
{"id":"roundtable-4dp.11","content_hash":"168567a4c8776768419b5de6b20f72ad4d91bfc5d24b1305794ff8dc5e8de734","title":"Phase 3.2: Comment input with @-mentions","description":"Add @-mention support to comment input.\n\nFiles:\n- apps/backend/src/public/js/commentInput.js (new)\n\nFeatures:\n- @ triggers member autocomplete\n- Search members by name\n- Arrow key navigation\n- Enter to select\n- Shows avatar in autocomplete\n- Supports multiple mentions\n\nMarkdown:\n- Full markdown support\n- Live preview (optional)\n- Character counter (max 2000)\n\nAcceptance: @mentions work, autocomplete fast, markdown renders","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:49:55.194660149Z","updated_at":"2026-01-02T01:12:43.312577104Z","closed_at":"2026-01-02T01:12:43.312577104Z","source_repo":".","labels":["frontend portal mentions"],"dependencies":[{"issue_id":"roundtable-4dp.11","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:49:55.197189359Z","created_by":"root"},{"issue_id":"roundtable-4dp.11","depends_on_id":"roundtable-4dp.10","type":"related","created_at":"2026-01-01T20:49:55.198820462Z","created_by":"root"}]}
{"id":"roundtable-4dp.12","content_hash":"88d44b0bbb67684e8d14eeb341c2966da57edf8055bbf30c2da74d14d86e155c","title":"Phase 3.3: Comment threading display","description":"Implement flat comment thread display.\n\nFiles:\n- apps/backend/src/public/js/commentPanel.js (modify)\n\nFeatures:\n- Comments ordered chronologically\n- \"Newest first\" / \"Oldest first\" toggle\n- In-reply-to indicator (for future threading)\n- Collapse long comments\n- Timestamps (\"2 hours ago\" format)\n- Edit/delete buttons for own comments\n\nVisual:\n- Left border for own comments\n- Subtle background for author comments\n- Hover effects on comments\n\nAcceptance: Thread displays correctly, sorting works, mobile friendly","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:50:01.693304147Z","updated_at":"2026-01-02T01:29:37.002687483Z","closed_at":"2026-01-02T01:29:37.002687483Z","source_repo":".","labels":["frontend portal ui"],"dependencies":[{"issue_id":"roundtable-4dp.12","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:50:01.695681787Z","created_by":"root"},{"issue_id":"roundtable-4dp.12","depends_on_id":"roundtable-4dp.10","type":"related","created_at":"2026-01-01T20:50:01.697378449Z","created_by":"root"}]}
{"id":"roundtable-4dp.13","content_hash":"c7a3ea3e78c1e953a6b66a3fd49e1fda779eec228ab5b6c1b3b2cb2c58384283","title":"Phase 3.4: Comment edit and delete","description":"Add edit/delete functionality for own comments.\n\nFiles:\n- apps/backend/src/public/js/commentPanel.js (modify)\n\nFeatures:\n- Edit button on own comments\n- Delete button on own comments with confirmation\n- Inline edit mode (textarea replaces comment text)\n- \"Edited\" badge on modified comments\n- Cancel edit option\n\nAPI calls:\n- PUT /api/drafts/:id/comments/:commentId\n- DELETE /api/drafts/:id/comments/:commentId\n\nAcceptance: Edit works, delete works with confirmation, UI updates","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:50:08.053548504Z","updated_at":"2026-01-02T01:44:12.380163407Z","closed_at":"2026-01-02T01:44:12.380163407Z","source_repo":".","labels":["frontend portal ui"],"dependencies":[{"issue_id":"roundtable-4dp.13","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:50:08.054765678Z","created_by":"root"},{"issue_id":"roundtable-4dp.13","depends_on_id":"roundtable-4dp.10","type":"related","created_at":"2026-01-01T20:50:08.055479465Z","created_by":"root"}]}
{"id":"roundtable-4dp.14","content_hash":"280d0fea4ecb4a9ad804c8dd48760a72717f9c19ee21be3bc60db2da8052e5a1","title":"Phase 4.1: Feedback request modal","description":"Create modal for requesting feedback.\n\nFiles:\n- apps/backend/src/public/js/feedbackRequest.js (new)\n\nFeatures:\n- Opens from share dialog\n- Select from question templates OR custom question\n- Pre-built questions:\n  - \"What's unclear about this?\"\n  - \"What would make this better?\"\n  - \"Should I publish this?\"\n  - \"What am I missing?\"\n- Preview of question\n- Send to specific shared members\n\nAPI calls:\n- POST /api/draft-shares/:shareId/feedback-request\n\nAcceptance: Modal works, templates selectable, request sent successfully","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:50:26.892837459Z","updated_at":"2026-01-02T03:12:26.682790668Z","closed_at":"2026-01-02T03:12:26.682790668Z","source_repo":".","labels":["frontend portal feedback"],"dependencies":[{"issue_id":"roundtable-4dp.14","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:50:26.895904975Z","created_by":"root"},{"issue_id":"roundtable-4dp.14","depends_on_id":"roundtable-4dp.4","type":"related","created_at":"2026-01-01T20:50:26.897647658Z","created_by":"root"}]}
{"id":"roundtable-4dp.15","content_hash":"d2d03ea2784b1e6feef01a28a7e82ed65b6afd4e3d7b37f18a7359b5ffc2a4bf","title":"Phase 4.2: Pre-built question templates","description":"Implement question template system.\n\nFiles:\n- apps/backend/src/public/js/feedbackRequest.js (modify)\n\nTemplates:\n1. \"What's unclear about this?\"\n2. \"What would make this better?\"\n3. \"Should I publish this?\"\n4. \"What am I missing?\"\n5. \"What's your honest take?\"\n\nFeatures:\n- Radio button selection\n- Custom text input option\n- Template descriptions\n- \"Use custom\" option\n\nAcceptance: Templates work, custom option works, selection persists","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T20:50:33.365030475Z","updated_at":"2026-01-02T03:12:26.685104808Z","closed_at":"2026-01-02T03:12:26.685104808Z","source_repo":".","labels":["frontend portal feedback"],"dependencies":[{"issue_id":"roundtable-4dp.15","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:50:33.367641484Z","created_by":"root"},{"issue_id":"roundtable-4dp.15","depends_on_id":"roundtable-4dp.14","type":"related","created_at":"2026-01-01T20:50:33.369315196Z","created_by":"root"}]}
{"id":"roundtable-4dp.16","content_hash":"197550df6760f77b2ff6235a01b83d6f6905967d84bf03cf45ba0af4751412ab","title":"Phase 4.3: Feedback request list view","description":"Create page showing pending feedback requests.\n\nFiles:\n- apps/backend/src/routes/feedbackRequestsPage.ts (new)\n- apps/backend/src/public/feedback-requests.html (new)\n\nRoute: GET /app/feedback-requests\n\nFeatures:\n- List of feedback requests I need to answer\n- Shows: requester, draft title, question, request date\n- Filter by pending/answered\n- Click to view draft and answer\n- Badge for unanswered count\n\nAlso show requests I've made:\n- Status (pending/answered)\n- Response count\n- Link to view responses\n\nAPI calls:\n- GET /api/feedback-requests/pending\n- GET /api/drafts/:id/feedback-requests\n- PUT /api/feedback-requests/:id/answer\n\nAcceptance: Page displays correctly, filters work, mobile responsive","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:50:39.843330799Z","updated_at":"2026-01-02T03:16:30.384041014Z","closed_at":"2026-01-02T03:16:30.384041014Z","source_repo":".","labels":["frontend portal feedback"],"dependencies":[{"issue_id":"roundtable-4dp.16","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:50:39.844432334Z","created_by":"root"},{"issue_id":"roundtable-4dp.16","depends_on_id":"roundtable-4dp.4","type":"related","created_at":"2026-01-01T20:50:39.845142371Z","created_by":"root"}]}
{"id":"roundtable-4dp.17","content_hash":"d693f6187faaabc61276864646084e09d98f5faf4511cbc5fc9475b41231f721","title":"Phase 5.1: Portal badge for new shares and comments","description":"Add notification badges to portal navigation.\n\nFiles:\n- apps/backend/src/routes/notificationsApi.ts (new)\n- apps/backend/src/public/js/portalNav.js (modify)\n\nFeatures:\n- Badge count on portal nav items\n- \"Shared drafts\" badge (new shares)\n- \"Feedback\" badge (pending requests)\n- Real-time updates (poll every 30s)\n- Badge clears on page visit\n\nAPI endpoints:\n- GET /api/notifications/badges - Returns badge counts\n\nBadge logic:\n- Increment when draft shared with me\n- Increment when new comment on shared draft\n- Increment when new feedback request\n- Clear when viewing respective page\n\nAcceptance: Badges display correctly, update in real-time, clear properly","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:50:58.842386262Z","updated_at":"2026-01-02T03:13:54.365085232Z","closed_at":"2026-01-02T03:13:54.365085232Z","source_repo":".","labels":["backend portal notifications"],"dependencies":[{"issue_id":"roundtable-4dp.17","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:50:58.845683887Z","created_by":"root"}]}
{"id":"roundtable-4dp.18","content_hash":"50b1c8e308a79f1de517d13e3ef611ba337f10dd86ddf90b383adebec6c18fe5","title":"Phase 5.2: Email notifications for draft shares","description":"Send email notifications when draft is shared.\n\nFiles:\n- apps/backend/src/email/sendDraftShareEmail.ts (new)\n- apps/backend/workers/shareNotificationWorker.ts (new)\n\nEmail content:\n- Subject: \"X shared a draft with you\"\n- Sender name and circle\n- Draft title and excerpt\n- Link to view shared draft\n- Unsubscribe link\n\nTriggers:\n- When draft shared with member\n- Batch if multiple shares in short time\n\nAcceptance: Email sends correctly, template looks good, unsubscribe works","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:51:05.325390921Z","updated_at":"2026-01-02T03:13:54.367085774Z","closed_at":"2026-01-02T03:13:54.367085774Z","source_repo":".","labels":["backend email notifications"],"dependencies":[{"issue_id":"roundtable-4dp.18","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:51:05.329228094Z","created_by":"root"}]}
{"id":"roundtable-4dp.19","content_hash":"138428e6312ff0f482ef9efdb149f7b4342e033169c1e2ca3c51cb7cc3dcc7d1","title":"Phase 5.3: Email notifications for comments","description":"Send email notifications for new comments.\n\nFiles:\n- apps/backend/src/email/sendCommentEmail.ts (new)\n\nEmail content:\n- Subject: \"X commented on shared draft\"\n- Commenter name\n- Draft title\n- Comment excerpt\n- Link to view draft\n- Unsubscribe link\n\nTriggers:\n- When someone comments on shared draft\n- Batch if multiple comments in short time\n- Don't send if I'm the commenter\n\nAcceptance: Email sends correctly, template looks good, batching works","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:51:11.745121322Z","updated_at":"2026-01-02T03:13:54.367418082Z","closed_at":"2026-01-02T03:13:54.367418082Z","source_repo":".","labels":["backend email notifications"],"dependencies":[{"issue_id":"roundtable-4dp.19","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:51:11.747692031Z","created_by":"root"}]}
{"id":"roundtable-4dp.2","content_hash":"6474d97411ebae06c6e6648efcb0c8b7a7ba7b33a1474db4c7344cc74ed1ae7f","title":"Phase 1.2: Draft sharing API endpoints","description":"Create API endpoints for draft sharing functionality.\n\nFiles:\n- apps/backend/src/routes/draftSharingApi.ts (new)\n\nEndpoints:\n- POST /api/drafts/:id/share - Share draft with member\n- GET /api/drafts/:id/shares - List who draft is shared with\n- GET /api/drafts/shared-with-me - List drafts shared with current user\n- DELETE /api/drafts/:id/share/:personId - Unshare draft\n\nValidation:\n- Only draft owner can share\n- Can only share with circle members\n- can_comment permission respected\n- Optional expires_at for auto-expiry\n\nAcceptance: All endpoints working, authentication enforced, 95%+ test coverage","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:48:02.700511193Z","updated_at":"2026-01-01T21:32:30.487087437Z","closed_at":"2026-01-01T21:32:30.487087437Z","source_repo":".","labels":["backend api collaboration"],"dependencies":[{"issue_id":"roundtable-4dp.2","depends_on_id":"roundtable-4dp.1","type":"parent-child","created_at":"2026-01-01T20:48:02.703235072Z","created_by":"root"}]}
{"id":"roundtable-4dp.20","content_hash":"896899fccde327e7147bbcbbb28dda6d6a4190d92c7293d7895348f0efc8e5eb","title":"Phase 6.1: E2E tests for sharing workflow","description":"Create end-to-end tests for draft sharing.\n\nFiles:\n- apps/backend/test/e2e/draft-sharing-workflow.test.ts (new)\n\nTest scenarios:\n1. Share draft with member, verify access\n2. Share draft with multiple members\n3. Comment on shared draft\n4. Unshare draft, verify access revoked\n5. Feedback request flow\n6. Email notifications sent\n7. Access control (can't share with non-members)\n8. Expired share not accessible\n9. Submit to queue revokes all sharing\n\nAcceptance: All scenarios pass, tests are deterministic","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:51:28.704784132Z","updated_at":"2026-01-02T03:37:57.381915545Z","closed_at":"2026-01-02T03:37:57.381915545Z","source_repo":".","labels":["e2e test collaboration"],"dependencies":[{"issue_id":"roundtable-4dp.20","depends_on_id":"roundtable-4dp.2","type":"blocks","created_at":"2026-01-01T20:51:28.705866307Z","created_by":"root"},{"issue_id":"roundtable-4dp.20","depends_on_id":"roundtable-4dp.3","type":"blocks","created_at":"2026-01-01T20:51:28.706595794Z","created_by":"root"},{"issue_id":"roundtable-4dp.20","depends_on_id":"roundtable-4dp.4","type":"blocks","created_at":"2026-01-01T20:51:28.707250491Z","created_by":"root"}]}
{"id":"roundtable-4dp.21","content_hash":"fbf4d7036107869d6ff3670b74563e2f69941b94b1c146a7e835fd25e1e9cb32","title":"Phase 6.2: API tests for all collaboration endpoints","description":"Create comprehensive API tests.\n\nFiles:\n- apps/backend/test/draftSharingApi.test.ts (new)\n- apps/backend/test/draftCommentsApi.test.ts (new)\n- apps/backend/test/feedbackRequestsApi.test.ts (new)\n\nCoverage:\n- All CRUD operations\n- Authentication/authorization\n- Input validation\n- Error cases\n- Edge cases (expiry, permissions)\n\nTarget: 95%+ coverage\n\nAcceptance: All tests passing, coverage target met","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T20:51:35.053909822Z","updated_at":"2026-01-02T03:20:32.498916621Z","closed_at":"2026-01-02T03:20:32.498916621Z","source_repo":".","labels":["backend test api"],"dependencies":[{"issue_id":"roundtable-4dp.21","depends_on_id":"roundtable-4dp.2","type":"blocks","created_at":"2026-01-01T20:51:35.057556367Z","created_by":"root"},{"issue_id":"roundtable-4dp.21","depends_on_id":"roundtable-4dp.3","type":"blocks","created_at":"2026-01-01T20:51:35.060552774Z","created_by":"root"},{"issue_id":"roundtable-4dp.21","depends_on_id":"roundtable-4dp.4","type":"blocks","created_at":"2026-01-01T20:51:35.063436961Z","created_by":"root"}]}
{"id":"roundtable-4dp.22","content_hash":"d29d720b9d5d0ca463426510eb93fc6abbc2c8f965ca7c6658f7695cf0b1d59b","title":"Phase 6.3: Documentation updates for collaboration features","description":"Update documentation for trusted collaboration.\n\nFiles to update:\n- README.md - Add collaboration features overview\n- CLAUDE.md - Update development patterns\n- docs/product/features.md - Document sharing workflow\n- docs/api/collaboration.md - API reference (new)\n\nContent:\n- Feature overview\n- How sharing works\n- Privacy and access control\n- Email notification settings\n- Troubleshooting\n\nAcceptance: All docs updated, clear examples provided","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:51:41.380690271Z","updated_at":"2026-01-02T03:22:11.220478485Z","closed_at":"2026-01-02T03:22:11.220478485Z","source_repo":".","labels":["docs collaboration"],"dependencies":[{"issue_id":"roundtable-4dp.22","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:51:41.384236257Z","created_by":"root"}]}
{"id":"roundtable-4dp.3","content_hash":"a22a54fc4af8e37c1763b5c5ebb55a10feb7c1c3665618cc8cee1894cb2adbb8","title":"Phase 1.3: Draft comments API endpoints","description":"Create API endpoints for comment threads on shared drafts.\n\nFiles:\n- apps/backend/src/routes/draftCommentsApi.ts (new)\n\nEndpoints:\n- POST /api/drafts/:id/comments - Add comment\n- GET /api/drafts/:id/comments - Get all comments for draft\n- PUT /api/drafts/:id/comments/:commentId - Edit own comment\n- DELETE /api/drafts/:id/comments/:commentId - Delete own comment\n\nRules:\n- Only shared members can comment (if can_comment=true)\n- Only comment author can edit/delete\n- Markdown support in comments\n- No threading (flat comments for simplicity)\n\nAcceptance: All endpoints working, authorization enforced, 95%+ test coverage","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:48:32.749526485Z","updated_at":"2026-01-01T21:32:36.477501726Z","closed_at":"2026-01-01T21:32:36.477501726Z","source_repo":".","labels":["backend api comments"],"dependencies":[{"issue_id":"roundtable-4dp.3","depends_on_id":"roundtable-4dp.1","type":"parent-child","created_at":"2026-01-01T20:48:32.751939555Z","created_by":"root"}]}
{"id":"roundtable-4dp.4","content_hash":"463f754e6bd134b270fac37e2831bcf8dc4dfb54f50c0840f356381dedc2477b","title":"Phase 1.4: Feedback requests API","description":"Create API endpoints for targeted feedback requests.\n\nFiles:\n- apps/backend/src/routes/feedbackRequestsApi.ts (new)\n\nEndpoints:\n- POST /api/draft-shares/:shareId/feedback-request - Request feedback\n- GET /api/feedback-requests/pending - My pending feedback requests\n- PUT /api/feedback-requests/:id/answer - Answer feedback request\n- GET /api/drafts/:id/feedback-requests - Requests for my draft\n\nPre-built question templates:\n- \"What's unclear about this?\"\n- \"What would make this better?\"\n- \"Should I publish this?\"\n\nAcceptance: All endpoints working, templates work, 95%+ test coverage","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:48:39.189804095Z","updated_at":"2026-01-01T21:32:42.44825644Z","closed_at":"2026-01-01T21:32:42.44825644Z","source_repo":".","labels":["backend api feedback"],"dependencies":[{"issue_id":"roundtable-4dp.4","depends_on_id":"roundtable-4dp.1","type":"parent-child","created_at":"2026-01-01T20:48:39.190789921Z","created_by":"root"}]}
{"id":"roundtable-4dp.5","content_hash":"b6c726d9b4e666f432b031cbdc15351e590af1fef653451ae9f88e8b6ec71dad","title":"Phase 1.5: Access control middleware for shared drafts","description":"Create middleware to enforce draft sharing access rules.\n\nFiles:\n- apps/backend/src/lib/requireDraftAccess.ts (new)\n\nFunctions:\n- requireDraftAccess(db, options) - Returns middleware\n- Options: { requireOwner: bool, requireShared: bool, canComment: bool }\n\nRules:\n- Draft owner always has access\n- Shared members have access if share active\n- Comments require can_comment=true\n- Access revoked when draft submitted to queue\n- Expired shares are ignored\n\nAcceptance: Middleware working, all access rules enforced, 95%+ test coverage","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:48:45.509786526Z","updated_at":"2026-01-01T21:32:48.39898359Z","closed_at":"2026-01-01T21:32:48.39898359Z","source_repo":".","labels":["backend middleware authz"],"dependencies":[{"issue_id":"roundtable-4dp.5","depends_on_id":"roundtable-4dp.1","type":"parent-child","created_at":"2026-01-01T20:48:45.512654574Z","created_by":"root"}]}
{"id":"roundtable-4dp.6","content_hash":"f52795414749f6c90fec549e0abcda0118e36575db9c4ed24d3a3a1ddeadea47","title":"Phase 2.1: Member picker component for sharing","description":"Create reusable member picker component.\n\nFiles:\n- apps/backend/src/public/js/memberPicker.js (new)\n\nFeatures:\n- Search circle members by name/email\n- Multi-select support\n- Avatar display\n- Role badges (steward, advisor, etc.)\n- Keyboard navigation\n- Mobile responsive\n\nHTML template:\n- Modal dialog\n- Search input\n- Member list with checkboxes\n- Selected count display\n\nAcceptance: Component works, search is fast, mobile friendly","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:49:06.420213691Z","updated_at":"2026-01-01T23:08:47.695905187Z","closed_at":"2026-01-01T23:08:47.695905187Z","source_repo":".","labels":["frontend portal collaboration"],"dependencies":[{"issue_id":"roundtable-4dp.6","depends_on_id":"roundtable-4dp","type":"parent-child","created_at":"2026-01-01T20:49:06.421801445Z","created_by":"root"}]}
{"id":"roundtable-4dp.7","content_hash":"e76dbee048ebd89add9aca95046f824d4d97b72b6b1cc9e4b6bb42fa1eb7d6ab","title":"Phase 2.2: Share dialog in draft editor","description":"Add share functionality to draft editor.\n\nFiles:\n- apps/backend/src/public/draft.html (modify)\n- apps/backend/src/public/js/draftShare.js (new)\n\nFeatures:\n- \"Share with...\" button in draft editor toolbar\n- Opens member picker modal\n- Permission toggle (view-only vs. can comment)\n- Optional expiry date picker\n- \"Shared with\" list showing current shares\n- Unshare button for each share\n\nAPI calls:\n- POST /api/drafts/:id/share\n- GET /api/drafts/:id/shares\n- DELETE /api/drafts/:id/share/:personId\n\nAcceptance: Share dialog works, updates in real-time, errors handled gracefully","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:49:12.646669555Z","updated_at":"2026-01-01T23:49:28.503290116Z","closed_at":"2026-01-01T23:49:28.503290116Z","source_repo":".","labels":["frontend portal ui"],"dependencies":[{"issue_id":"roundtable-4dp.7","depends_on_id":"roundtable-4dp.2","type":"parent-child","created_at":"2026-01-01T20:49:12.649079305Z","created_by":"root"},{"issue_id":"roundtable-4dp.7","depends_on_id":"roundtable-4dp.6","type":"related","created_at":"2026-01-01T20:49:12.650646158Z","created_by":"root"}]}
{"id":"roundtable-4dp.8","content_hash":"3d7591155095aabbf492c552c5bd66ccfe6b8c785fa65bf362f8c77f93836fe9","title":"Phase 2.3: Shared with me - Drafts list view","description":"Create page showing drafts shared with current user.\n\nFiles:\n- apps/backend/src/routes/sharedDraftsPage.ts (new)\n- apps/backend/src/public/shared-drafts.html (new)\n\nRoute: GET /app/shared-drafts (members only)\n\nFeatures:\n- List of drafts shared with me\n- Shows: author, title, excerpt, shared date, can_comment status\n- Filter by author, expiry status\n- Click to view shared draft\n- Badge for unread comments\n\nAPI calls:\n- GET /api/drafts/shared-with-me\n\nAcceptance: Page displays correctly, filters work, mobile responsive","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:49:19.096949195Z","updated_at":"2026-01-02T00:16:35.006670723Z","closed_at":"2026-01-02T00:16:35.006670723Z","source_repo":".","labels":["frontend portal ui"],"dependencies":[{"issue_id":"roundtable-4dp.8","depends_on_id":"roundtable-4dp.2","type":"parent-child","created_at":"2026-01-01T20:49:19.09819994Z","created_by":"root"}]}
{"id":"roundtable-4dp.9","content_hash":"597a93d838332d3c02be2a65dd26edf9f43e82926c7a58b543132319962c45cd","title":"Phase 2.4: Unshare functionality","description":"Add ability to unshare drafts.\n\nFiles:\n- apps/backend/src/public/js/draftShare.js (modify)\n\nFeatures:\n- Unshare button on each shared member in share dialog\n- Confirmation dialog (\"Are you sure? They will lose access\")\n- Instant UI update\n- Toast notification on success\n\nAPI calls:\n- DELETE /api/drafts/:id/share/:personId\n\nEdge cases:\n- Can't unshare yourself (you're the owner)\n- Comments remain visible to draft owner\n- Shared member sees \"access revoked\" message\n\nAcceptance: Unshare works, confirmation works, UI updates immediately","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T20:49:25.479553264Z","updated_at":"2026-01-02T00:48:42.118326351Z","closed_at":"2026-01-02T00:48:42.118326351Z","source_repo":".","labels":["frontend portal ui"],"dependencies":[{"issue_id":"roundtable-4dp.9","depends_on_id":"roundtable-4dp.2","type":"parent-child","created_at":"2026-01-01T20:49:25.483162899Z","created_by":"root"},{"issue_id":"roundtable-4dp.9","depends_on_id":"roundtable-4dp.7","type":"related","created_at":"2026-01-01T20:49:25.484770922Z","created_by":"root"}]}
{"id":"roundtable-4jk","content_hash":"3fe27202137115c01e40297d8b1e9bebcd786c2c07a4ae5af04303601e012dee","title":"roundtable-mgmt-005","description":"","acceptance_criteria":"Test suite for member management API endpoints; test for role update authorization; test for member removal; test for engagement stats accuracy; test for steward dashboard rendering; test for circle settings updates; minimum 80% coverage for new circle management code; all tests passing","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T07:38:34.474644382Z","updated_at":"2026-01-04T07:41:29.018241786Z","closed_at":"2026-01-04T07:41:29.018241786Z","source_repo":".","labels":["circle-management","epic-5","testing"]}
{"id":"roundtable-4lh","content_hash":"54129ca377b651d6845e11472c7cf92f8c5b7e8f7ac6d44c5eaa720cf69ea2d4","title":"Phase 9.1: CI workflow for site build on publish commits","description":"Create .github/workflows/site-build.yml triggered on push to main. Install dependencies, run tests, build Eleventy, and deploy to static host. Include placeholder if host not yet chosen.","status":"closed","priority":2,"issue_type":"task","assignee":"PurpleLake","created_at":"2025-12-15T17:50:45.017085128Z","updated_at":"2025-12-18T09:43:55.444109057Z","closed_at":"2025-12-18T09:43:55.444109057Z","source_repo":".","labels":["ci-cd","site"]}
{"id":"roundtable-4xa","content_hash":"1eba733548b950c6a74759f1c19eb76f74eae4a21305f414a6611fe58c8982b2","title":"roundtable-reflect-001","description":"","acceptance_criteria":"GET /api/timeline - returns all posts and drafts for authenticated user grouped by month; includes post_id, subject, created_at, status; ordered by created_at DESC; reflection_note field included if exists; filters for circle_id optional; authentication required; optimized query with proper indexes","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T07:52:21.869235567Z","updated_at":"2026-01-04T09:12:22.587299824Z","closed_at":"2026-01-04T09:12:22.587299824Z","source_repo":".","labels":["api","backend","epic-6","reflection"]}
{"id":"roundtable-517","content_hash":"1c2dcf40a77efd14c5a04ebf7582a0cdf3be8c6b9266fa35ad0ac7f061721c26","title":"Add aria-current to footer navigation links","description":"Issue: Footer navigation lacks aria-current=\"page\" attribute on active page link.\n\nCurrent state:\n- apps/site/src/_includes/footer.njk has navigation links\n- Links do not indicate which page is currently active\n- Main nav (nav.njk) has aria-current=\"page\" but footer does not\n\nImpact: Screen reader users cannot determine which page they're on from footer navigation.\n\nSolution: Add conditional aria-current=\"page\" to matching footer links (similar to main nav pattern in nav.njk).","acceptance_criteria":"Footer navigation shows aria-current=\"page\" on active page\nScreen reader announces current page in footer navigation\nPattern matches main nav implementation\nSite builds successfully","status":"closed","priority":2,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-03T03:24:44.696444066Z","updated_at":"2026-01-03T10:22:20.835759492Z","closed_at":"2026-01-03T10:22:20.835759492Z","source_repo":".","labels":["a11y","accessibility","frontend"]}
{"id":"roundtable-544","content_hash":"bd6e6567053202872d7ad6ac0dcb009dacecc3d69093d80bbf4e5299144d9d9e","title":"Epic: Anonymous Reading Mode","description":"Public read endpoints for published posts - enables safe observation without authentication. Operators can read published content without creating an account, preserving the calm, observation-only experience.","status":"closed","priority":1,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-02T05:22:49.358776243Z","updated_at":"2026-01-02T06:25:30.428184538Z","closed_at":"2026-01-02T06:25:30.428184538Z","source_repo":".","labels":["epic","pmf-core","public-reading"]}
{"id":"roundtable-544.1","content_hash":"b65aa43bfc6d16e02fd21e142077c277b10a262d526ff7ae678f873f93593af6","title":"Task 1: Database migration for reading_mode","description":"Add reading_mode column to circles table to control privacy (private/public-read)","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T05:23:13.218921562Z","updated_at":"2026-01-02T06:05:49.702201292Z","closed_at":"2026-01-02T06:05:49.702201292Z","source_repo":".","labels":["backend","database","migration"]}
{"id":"roundtable-544.2","content_hash":"fa3b27842c6a3ef877e9fdc275916f43802220f47c2614ce9290ef24fe6acd3c","title":"Task 2: Public read API endpoints","description":"Create GET /published and GET /published/:id endpoints that work without authentication","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T05:23:19.460160496Z","updated_at":"2026-01-02T06:25:24.054566677Z","closed_at":"2026-01-02T06:25:24.054566677Z","source_repo":".","labels":["api","backend","public-reading"],"dependencies":[{"issue_id":"roundtable-544.2","depends_on_id":"roundtable-544.1","type":"blocks","created_at":"2026-01-02T05:23:19.463878743Z","created_by":"root"}]}
{"id":"roundtable-544.3","content_hash":"78ed868cebcab5f5e48a0c55b2a6a0010d0e2e434844e841cc1ddd801c31b7db","title":"Task 3: Public site styling adjustments","description":"Update public-facing site for calm, anonymous reading experience","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T05:23:25.863228235Z","updated_at":"2026-01-02T06:25:17.66619861Z","closed_at":"2026-01-02T06:25:17.66619861Z","source_repo":".","labels":["css","frontend","site"]}
{"id":"roundtable-544.4","content_hash":"4e1fd40853a6c3dc4496452c2e402f3eb694acab26f18636aa5ac6d5fa9cf013","title":"Task 4: Circle privacy settings API","description":"API endpoints for stewards to manage circle reading_mode","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T05:23:32.323872058Z","updated_at":"2026-01-02T06:25:11.302076353Z","closed_at":"2026-01-02T06:25:11.302076353Z","source_repo":".","labels":["api","backend","circle-management"]}
{"id":"roundtable-544.5","content_hash":"e442a41485010cafe6a6d8bfc889e8a6f3fd17533273f4fcb62d2e8aaad26e57","title":"Task 5: Portal reading mode toggle","description":"Portal UI for stewards to toggle circle privacy settings","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T05:23:38.854764272Z","updated_at":"2026-01-02T06:25:05.052064099Z","closed_at":"2026-01-02T06:25:05.052064099Z","source_repo":".","labels":["frontend","portal","ui"],"dependencies":[{"issue_id":"roundtable-544.5","depends_on_id":"roundtable-544.4","type":"blocks","created_at":"2026-01-02T05:23:38.85841865Z","created_by":"root"}]}
{"id":"roundtable-544.6","content_hash":"0116f1bf279a524bfe3b931fb6fd28b3b529229123dbde661f51a2f282138bd7","title":"Task 6: E2E tests for public reading","description":"End-to-end tests for anonymous public reading workflow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T05:23:45.278994861Z","updated_at":"2026-01-02T06:24:58.747729542Z","closed_at":"2026-01-02T06:24:58.747729542Z","source_repo":".","labels":["e2e","public-reading","test"],"dependencies":[{"issue_id":"roundtable-544.6","depends_on_id":"roundtable-544.2","type":"blocks","created_at":"2026-01-02T05:23:45.283783345Z","created_by":"root"},{"issue_id":"roundtable-544.6","depends_on_id":"roundtable-544.3","type":"blocks","created_at":"2026-01-02T05:23:45.286195516Z","created_by":"root"}]}
{"id":"roundtable-544.7","content_hash":"a50278c2a2c5ff048a3a94ba9f39e4ecdf92c42f3a3ad77460ee1dc9904714ca","title":"Task 7: Documentation updates","description":"Update documentation for public reading feature and circle privacy controls","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T05:23:51.746751437Z","updated_at":"2026-01-02T06:24:52.423203012Z","closed_at":"2026-01-02T06:24:52.423203012Z","source_repo":".","labels":["docs","public-reading"]}
{"id":"roundtable-58z","content_hash":"75147495216f3d61b11a26f5c17cb04a09afd2bb818779ea98d0a51192d615a4","title":"Withdrawal mechanics","description":"Implement withdrawal mechanics allowing either party to withdraw from introduction process at any time. Preserves calm, no-pressure philosophy.","acceptance_criteria":"withdraw_reason column in introductions table; PATCH /api/introductions/:id/withdraw endpoint for founder; PATCH /api/introductions/:id/withdraw endpoint for operator (via email link); PATCH /api/introductions/:id/withdraw endpoint for steward; status changes to 'withdrawn'; notifications to other party; withdrawal reasons tracked; no questions asked, no guilt; GDPR-compliant data handling","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T06:00:36.175804663Z","updated_at":"2026-01-04T06:14:34.913665179Z","closed_at":"2026-01-04T06:14:34.913665179Z","source_repo":".","labels":["api","backend","epic","slow-match"]}
{"id":"roundtable-5et","content_hash":"9d1374bb7a76f0b3e63fba25325f6158e84888782ed82af494c910207aa88c55","title":"Phase 5.1: Token generation and approval endpoints","description":"Implement expiring approval/reject endpoints: GET /approve/:token, GET /reject/:token, GET /edit/:token. Create lib/tokens.ts for secure token generation, hashing, and verification with replay protection.","status":"closed","priority":2,"issue_type":"task","assignee":"impl-1","created_at":"2025-12-15T17:45:43.431273283Z","updated_at":"2025-12-26T04:28:11.419841865Z","closed_at":"2025-12-26T04:28:11.419841865Z","source_repo":".","labels":["auth","backend"]}
{"id":"roundtable-5g9","content_hash":"0f932e99416d58ab48b52a522fe3b5777f4b132f254d93ebbe619e9545308154","title":"E2E tests for match flow","description":"Create end-to-end tests for the slow-match introduction flow. Cover resonance signaling, founder view, introduction request, steward approval, email delivery, and withdrawal scenarios.","acceptance_criteria":"E2E test suite created; test resonance signaling on published post; test founder resonance view; test introduction request creation; test steward approve/reject flow; test email introduction delivery; test founder withdrawal; test operator withdrawal; test rejected introduction; test completed introduction; all tests passing; CI integration","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-04T06:01:15.091176227Z","updated_at":"2026-01-04T06:14:44.14698261Z","closed_at":"2026-01-04T06:14:44.14698261Z","source_repo":".","labels":["epic","qa","slow-match","test"]}
{"id":"roundtable-5wc","content_hash":"18ea4a2cd45fa5d86c0db7958454f010c918f29f9816e4b8af8aa4f1a4ba070a","title":"Epic: Circle Management Dashboard","description":"Enhance circle steward tools with comprehensive settings, member management, analytics, and content moderation.\n\nFeatures:\n- Enhanced circle settings (name, description, avatar, welcome message)\n- Member invite UI with pending invites management\n- Member search, filter, and pagination\n- Visual analytics dashboard with charts\n- Bulk content moderation queue\n- Circle archive/delete lifecycle management\n\nSub-tasks: roundtable-cmd-001 through roundtable-cmd-006\n\nAcceptance: All circle management features functional and tested.","status":"closed","priority":2,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-01T16:46:36.208058438Z","updated_at":"2026-01-01T17:55:07.187796023Z","closed_at":"2026-01-01T17:54:58.420712604Z","source_repo":".","labels":["circle-management"]}
{"id":"roundtable-5wc.1","content_hash":"022ca9b63f632a85c1003dd57d24ca1246e7f7d5e1edaa7193e75be214077f04","title":"Enhanced Circle Settings","description":"Add circle configuration options to the settings page:\n- Circle name editing\n- Circle description/purpose\n- Circle avatar/logo upload\n- Welcome message for new members\n- Posting guidelines\n\nFiles: circle-settings.html, circlesApi.ts, new migration\n\nAcceptance: Stewards can edit circle name, description, avatar, welcome message, and posting guidelines.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T16:46:58.109033077Z","updated_at":"2026-01-01T17:01:08.225193936Z","closed_at":"2026-01-01T17:01:07.090032421Z","source_repo":".","labels":["backend","circle-management","ui"]}
{"id":"roundtable-5wc.2","content_hash":"250177fb1c3f74117e55fda3f807c9ef80092c7825437d08d28c72f06caae9b8","title":"Member Invite UI","description":"Add UI for inviting new members to the circle:\n- Invite form in dashboard (email, role selection)\n- Invite link generation\n- Pending invites list\n- Revoke invite functionality\n\nFiles: circle-dashboard.html, invites.ts\n\nAcceptance: Stewards can invite members, view pending invites, and revoke invites.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T16:47:07.078556122Z","updated_at":"2026-01-01T17:54:37.484013756Z","closed_at":"2026-01-01T17:54:37.484013756Z","source_repo":".","labels":["circle-management","ui"],"dependencies":[{"issue_id":"roundtable-5wc.2","depends_on_id":"roundtable-5wc.1","type":"blocks","created_at":"2026-01-01T16:48:11.513306034Z","created_by":"root"}]}
{"id":"roundtable-5wc.3","content_hash":"d3e4d43b34bb5161ebe86d7647f6fbe7e9c6c3c51c5b0433bd58ce1b465c94f0","title":"Member Search \u0026 Filter","description":"Add search and filtering to members table:\n- Search by email/name\n- Filter by role, status, activity level\n- Sort by last activity, post count\n- Pagination for large circles\n\nFiles: circle-dashboard.html, circleMembersApi.ts\n\nAcceptance: Members can be searched, filtered, sorted, and paginated.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T16:47:15.787152407Z","updated_at":"2026-01-01T17:54:37.486487236Z","closed_at":"2026-01-01T17:54:37.486487236Z","source_repo":".","labels":["backend","circle-management","ui"]}
{"id":"roundtable-5wc.4","content_hash":"eb7f13d409692d82b2e4ee284facf7df8e3d24a693369b5f814ae919841a8036","title":"Analytics Dashboard UI","description":"Create visual analytics dashboard page:\n- Charts for post trends, member activity\n- Top contributors visualization\n- Response time metrics\n- Date range filtering\n- Export to CSV\n\nFiles: New analytics.html, analyticsApi.ts enhancements\n\nAcceptance: Visual analytics page with charts, filters, and CSV export.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T16:47:26.777474307Z","updated_at":"2026-01-01T17:54:37.486789564Z","closed_at":"2026-01-01T17:54:37.486789564Z","source_repo":".","labels":["backend","circle-management","ui"]}
{"id":"roundtable-5wc.5","content_hash":"64187222c7f5654efa98cab36193013e95f0301b51925827c247cc8e221a5ab2","title":"Content Moderation Queue","description":"Add bulk content moderation tools:\n- Multi-select posts for bulk approve/reject\n- Quick preview panel\n- Filter by status, date range, author\n- Bulk publish to site\n\nFiles: New moderation.html, enhance circleQueueApi.ts\n\nAcceptance: Stewards can bulk moderate posts with preview and filtering.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T16:47:38.564509005Z","updated_at":"2026-01-01T17:54:37.487107993Z","closed_at":"2026-01-01T17:54:37.487107993Z","source_repo":".","labels":["backend","circle-management","ui"]}
{"id":"roundtable-5wc.6","content_hash":"a2a0c78c8f916da24e069068b639a6839d1e0966d21d2b9d04212984aef2d2bb","title":"Circle Archive/Delete","description":"Add circle lifecycle management:\n- Archive circle (read-only mode)\n- Delete circle with confirmation safeguards\n- Export data before deletion\n- Restore from archive\n\nFiles: circlesApi.ts, new migration\n\nAcceptance: Circles can be archived, deleted with safeguards, data exported.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T16:47:48.904523594Z","updated_at":"2026-01-01T17:54:37.487384181Z","closed_at":"2026-01-01T17:54:37.487384181Z","source_repo":".","labels":["backend","circle-management"]}
{"id":"roundtable-67p","content_hash":"44742c86ccf1541e901b810253972305c45f99621898fb0d7eb1684225893720","title":"Epic: Production Readiness - Security, Email, Domain, Monitoring\n\nDeploy Roundtable to production with security, email, domain, monitoring.\n\nSource: docs/plan/production-readiness-roadmap.md\n\nPhases:\n1. Foundation (Security fixes, Email, Domain, HTTPS, Backups)\n2. Hardening (Security headers, Monitoring alerts)\n3. Migration Readiness (PostgreSQL path for future)\n\nAcceptance: All security checks pass, email works end-to-end, HTTPS enabled, automated backups, monitoring active.","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T01:57:15.502887388Z","updated_at":"2025-12-31T04:58:15.769610193Z","closed_at":"2025-12-31T04:58:15.769610193Z","source_repo":".","labels":["deployment","production","security"]}
{"id":"roundtable-67p.10","content_hash":"88e4cc5fa1afc4caea66a46e10ee261c3516f93aeefd5247910bc6289c5fa80c","title":"Phase 3.1 - PostgreSQL Migration Planning (future, \u003c100 users use SQLite)","description":"Create PostgreSQL migration plan for when user count exceeds 100. Document migration steps, schema differences, data migration script, rollback plan. Keep SQLite for now - see roadmap Phase 3.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T02:03:19.494910405Z","updated_at":"2025-12-31T09:38:24.294805962Z","closed_at":"2025-12-31T09:38:24.294805962Z","source_repo":".","labels":["database","epic","future","phase-3","production-readiness"],"dependencies":[{"issue_id":"roundtable-67p.10","depends_on_id":"roundtable-67p.9","type":"blocks","created_at":"2025-12-31T02:03:19.501479235Z","created_by":"root"}]}
{"id":"roundtable-67p.11","content_hash":"f42342177604777ccdfa36eff2d40bf97f3590d8d47646da2e3959ef2682863d","title":"Phase 3.2 - Connection Pooling and Scaling Prep (future)","description":"Prepare connection pooling strategy (PgBouncer), document scaling thresholds, add database metrics for monitoring scale triggers. Future work - see roadmap Phase 3.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T02:03:28.761677808Z","updated_at":"2025-12-31T09:38:24.296892752Z","closed_at":"2025-12-31T09:38:24.296892752Z","source_repo":".","labels":["epic","future","phase-3","production-readiness","scaling"],"dependencies":[{"issue_id":"roundtable-67p.11","depends_on_id":"roundtable-67p.10","type":"blocks","created_at":"2025-12-31T02:03:28.768492107Z","created_by":"root"}]}
{"id":"roundtable-67p.2","content_hash":"2ff21c176c4a45972007699b5949cda3a2ef2ac43d3b45325263c119f180852c","title":"Phase 1.1: Security fixes - Rotate API keys and secrets\n\nCRITICAL: Rotate OpenAI API key, GitHub token, set strong INTERNAL_SECRET and JWT_SECRET (128-bit), remove placeholder values.\n\nCommands: openssl rand -base64 32\n\nFiles: apps/backend/.env, scripts/setup/generate-secrets.sh\n\nAcceptance: No exposed secrets, all secrets 128-bit random","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T01:58:05.143836351Z","updated_at":"2025-12-31T02:35:44.190542242Z","closed_at":"2025-12-31T02:35:44.190542242Z","source_repo":".","labels":["critical","security"]}
{"id":"roundtable-67p.3","content_hash":"a504e41cb742be2084e2b59eb59881280cf5194b2e2d9efe0068c7d5850e0ec4","title":"Phase 1.2: Email configuration - Setup SMTP provider\n\nChoose SMTP provider (Resend recommended: 3000 emails/month free).\n\nTasks:\n- Create account with SMTP provider\n- Configure SMTP credentials\n- Update .env with EMAIL_SMTP_HOST, PORT, USER, PASS\n- Send test email (verify both directions)\n- Configure inbound email routing (MX → POST /email/receive)\n\nSee: dns-records-roundtable.sg-resend.md for DNS setup\n\nAcceptance: Email send/receive works end-to-end","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T01:58:38.440756464Z","updated_at":"2025-12-31T02:41:42.989152148Z","closed_at":"2025-12-31T02:41:42.989152148Z","source_repo":".","labels":["critical","email"]}
{"id":"roundtable-67p.4","content_hash":"08293a9606f4f987482d42c9ca0a4ab8354769ba8e53255eb472250934e72a9e","title":"Phase 1.3: Domain and DNS - Configure roundtable.sg\n\nTasks:\n- Buy roundtable.sg domain\n- Configure DNS records (see dns-records-roundtable.sg-resend.md)\n- Verify DNS propagation\n- Set up Let's Encrypt for SSL certificates\n\nSee: railway-deployment.md Tasks 1-5 for detailed steps\n\nAcceptance: roundtable.sg resolves correctly, DNS propagated","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T01:58:53.073372288Z","updated_at":"2025-12-31T02:47:17.573423296Z","closed_at":"2025-12-31T02:47:17.573423296Z","source_repo":".","labels":["dns","domain"]}
{"id":"roundtable-67p.5","content_hash":"8ff7fc9d701ceccfbd1d45c064e15edebdb348f0e8972324c7ac8465e2781990","title":"Phase 1.4: HTTPS setup - Configure SSL certificates\n\nTasks:\n- Install nginx or Caddy (Caddy recommended for auto HTTPS)\n- Configure HTTPS redirect (see nginx-roundtable.sg.conf)\n- Add security headers\n- Test roundtable.sg loads properly over HTTPS\n\nOR use Railway: Handles HTTPS automatically with auto-provisioned SSL\n\nAcceptance: HTTPS works, security headers in place","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T01:59:07.814881794Z","updated_at":"2025-12-31T02:52:11.604727055Z","closed_at":"2025-12-31T02:52:11.604727055Z","source_repo":".","labels":["https","ssl"]}
{"id":"roundtable-67p.6","content_hash":"7c0e473612da715fe286893a7b3e5270e09e9350ebf7ed6c0ac209c356918bcb","title":"Phase 1.5: Database backups - SQLite backup automation\n\nFor SQLite: Simple file backup IS reliable backup.\n\nTasks:\n- Create backup script (scripts/backup/sqlite-backup.sh)\n- Set up cron job: daily backup to S3/R2\n- Test restore from backup\n- Document restore procedure\n\nNote: Backup scripts already exist (production-backup.sh, production-restore.sh) - need to set up cron.\n\nAcceptance: Automated daily backups tested and working","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T01:59:22.302405509Z","updated_at":"2025-12-31T02:57:29.234178636Z","closed_at":"2025-12-31T02:57:29.234178636Z","source_repo":".","labels":["automation","backup"]}
{"id":"roundtable-67p.7","content_hash":"eb0d19b4063df1077bd925febc92cd7dfa4b76149d68804e06a030807a6b440f","title":"Phase 2.1: Security headers - CSP, HSTS, X-Frame-Options\n\nTasks:\n- Add CSP header (Content-Security-Policy)\n- Add HSTS header (Strict-Transport-Security)\n- Add X-Frame-Options, X-Content-Type-Options\n- Configure CORS properly (roundtable.sg only)\n- Test security headers at https://securityheaders.com\n\nFiles: apps/backend/src/lib/cspPlugin.ts (already exists)\n\nAcceptance: Security headers present and verified","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T01:59:37.315154106Z","updated_at":"2025-12-31T02:59:04.180123665Z","closed_at":"2025-12-31T02:59:04.180123665Z","source_repo":".","labels":["headers","security"]}
{"id":"roundtable-67p.8","content_hash":"282ab8ba98c0f0ee20042c2f98907a57ebdd8f4271e4e8af527b9918f657fa98","title":"Phase 2.2 - Monitoring \u0026 Alerts (Sentry, UptimeRobot)","description":"Setup production monitoring and alerting. Configure Sentry for error tracking, UptimeRobot for uptime monitoring, create on-call procedures. Reference docs/plan/production-readiness-roadmap.md Phase 2.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T02:03:00.858329225Z","updated_at":"2025-12-31T03:02:57.08810474Z","closed_at":"2025-12-31T03:02:57.08810474Z","source_repo":".","labels":["epic","monitoring","ops","phase-2","production-readiness"],"dependencies":[{"issue_id":"roundtable-67p.8","depends_on_id":"roundtable-67p","type":"blocks","created_at":"2025-12-31T02:03:00.865233054Z","created_by":"root"}]}
{"id":"roundtable-67p.9","content_hash":"d03d44ada5ee4537b6477de69b62ead01150cbfedd43129212cd1a0a2f215773","title":"Phase 2.3 - Job Queue Verification (verify email retry worker)","description":"Verify existing email retry worker is production-ready. Add dead letter queue handling, retry backoff verification, monitoring hooks. Worker exists at apps/backend/src/workers/emailRetryWorker.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T02:03:09.929777699Z","updated_at":"2025-12-31T03:36:12.479417411Z","closed_at":"2025-12-31T03:36:12.479417411Z","source_repo":".","labels":["epic","jobs","phase-2","production-readiness","verification"],"dependencies":[{"issue_id":"roundtable-67p.9","depends_on_id":"roundtable-67p","type":"blocks","created_at":"2025-12-31T02:03:09.937057866Z","created_by":"root"},{"issue_id":"roundtable-67p.9","depends_on_id":"roundtable-67p.8","type":"blocks","created_at":"2025-12-31T02:03:09.938788868Z","created_by":"root"}]}
{"id":"roundtable-6bi","content_hash":"9e221ed020f666477cf6fc47915f577a121c4489a332412dcf270f69e81c40f1","title":"Founder resonance view","description":"Create portal UI for founders to see who resonated with their published posts. GET /api/posts/:id/resonances endpoint. Founder-only access (author verification). Shows anonymized email hashes and signal types. Allows founder to review resonances and decide whether to request introduction.","acceptance_criteria":"GET /api/posts/:id/resonances endpoint created; founder-only access (author verification); displays list of resonances with anonymized emails; shows signal_type and note; sorted by created_at DESC; portal UI at /app/posts/:id/resonances; founder can review and select resonances for introduction","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T05:58:59.836641362Z","updated_at":"2026-01-04T06:14:07.414905647Z","closed_at":"2026-01-04T06:14:07.414905647Z","source_repo":".","labels":["epic","frontend","portal","slow-match"]}
{"id":"roundtable-6hn","content_hash":"4bdb2d006ce3f9e293359ee55667be8a920b453d26516bbe227b90115e4226df","title":"Add MAF_STATUS heartbeat convention","description":"Add a single-line status/heartbeat convention that monitoring scripts can detect reliably.\n\nFormat: MAF_STATUS role=\u003crole\u003e bead=\u003cbead-id|none\u003e phase=\u003cstring\u003e safe_to_interrupt=\u003c0|1\u003e\n\nImplement in agent prompt hooks and update monitoring script to parse.\n\nAcceptance:\n- Monitoring scripts can parse MAF_STATUS lines\n- Agents emit status when starting/finishing work","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T13:35:47.486119189Z","updated_at":"2026-01-04T14:23:47.411610322Z","closed_at":"2026-01-04T14:23:47.411612932Z","source_repo":".","labels":["maf","monitoring"],"dependencies":[{"issue_id":"roundtable-6hn","depends_on_id":"roundtable-e7v","type":"blocks","created_at":"2026-01-04T13:35:47.493057399Z","created_by":"root"}]}
{"id":"roundtable-6ju","content_hash":"84443ffcfbc77c149a8143e7205e8cb7936b4d4c96b3a16c79dd25a07bd8e1ac","title":"Remove MIGRATION DEBUG logs from migrate.ts","description":"","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T22:52:47.105706695Z","updated_at":"2026-01-03T23:56:11.94518101Z","closed_at":"2026-01-03T23:56:11.94518101Z","source_repo":".","labels":["code-hygiene"]}
{"id":"roundtable-6u6","content_hash":"eae6b2076ac241aac9816b54c333bf3b4594dc62fc636154b4c6518e4ab8818d","title":"Implement Reflection Journey portal UI","description":"","status":"closed","priority":3,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T02:53:37.109553356Z","updated_at":"2026-01-04T04:46:41.404251083Z","closed_at":"2026-01-04T04:46:41.404251083Z","source_repo":".","labels":["epic","reflection"]}
{"id":"roundtable-77m","content_hash":"6b76544696a3280947c5ac64328bba2e2ce88af09500e5e19e4ddabe903d2972","title":"Phase 8.2: Deploy daily scheduler via GitHub Actions","description":"Create .github/workflows/daily-publish.yml to hit publish endpoint daily at 21:00 SGT. Document in RUNBOOK.md how to change schedule time. Use secure secrets for internal authentication.","status":"closed","priority":2,"issue_type":"task","assignee":"PurpleLake","created_at":"2025-12-15T17:49:58.163604563Z","updated_at":"2025-12-18T09:43:55.367954067Z","closed_at":"2025-12-18T09:43:55.367954067Z","source_repo":".","labels":["ci-cd","ops"]}
{"id":"roundtable-7hg","content_hash":"10a12646942951d306c685ae4e2f31cd67ca4e964d8c1c356b885b2180780f46","title":"Content Discovery \u0026 Organization","description":"Enhance content discoverability with tags, search, collections, and related content recommendations.\n\nEpic defined in docs/plan/content-discovery-epic.md\n\nFeatures:\n- Tags \u0026 Categories for posts\n- Full-text search within circles  \n- Collections (curated reading lists)\n- Related content recommendations\n\nPhases:\n1. Database schema \u0026 backend API\n2. Portal UI - Tags\n3. Portal UI - Collections\n4. Search functionality\n5. Related content\n6. Testing \u0026 documentation","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T18:56:20.260860105Z","updated_at":"2025-12-30T21:10:37.998148876Z","closed_at":"2025-12-30T21:10:37.998148876Z","source_repo":".","labels":["backend","portal","search","ux"]}
{"id":"roundtable-7hg.1","content_hash":"d15ef67025c0c9c0f55ee6cbe9b7f7b991b8360e7c1f0763f2af451005b9fad0","title":"Phase 1: Database schema \u0026 backend API","description":"Implement Phase 1: Database Schema \u0026 Backend API\n\nDatabase Changes:\n- Add tags table (id, name, color, created_at)\n- Add posts_tags table (post_id, tag_id)\n- Add collections table (id, name, description, circle_id, created_by, created_at)\n- Add collection_posts table (collection_id, post_id, added_at)\n\nBackend APIs:\n- POST /api/tags - Create tag\n- GET /api/tags/:id - Get tag details\n- GET /api/circles/:circleId/tags - List all tags\n- POST /api/posts/:postId/tags - Add tag to post\n- DELETE /api/posts/:postId/tags/:tagId - Remove tag\n- POST /api/collections - Create collection\n- GET /api/collections/:id - Get collection details\n- POST /api/collections/:id/posts - Add post to collection\n- DELETE /api/collections/:id/posts/:postId - Remove post\n- GET /api/search - Full-text search within circle\n\nFiles:\n- apps/backend/data/migrations/015_add_tags.sql\n- apps/backend/data/migrations/016_add_collections.sql  \n- apps/backend/src/routes/tagsApi.ts (new)\n- apps/backend/src/routes/collectionsApi.ts (new)\n- apps/backend/src/routes/searchApi.ts (new)\n- apps/backend/test/tagsApi.test.ts (new)\n- apps/backend/test/collectionsApi.test.ts (new)\n- apps/backend/test/searchApi.test.ts (new)\n\nAcceptance: pnpm --filter backend test","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T18:56:52.767699192Z","updated_at":"2025-12-30T19:18:09.613532675Z","closed_at":"2025-12-30T19:18:09.613532675Z","source_repo":".","labels":["api","backend","db"]}
{"id":"roundtable-7hg.2","content_hash":"2356dbf6cab7eac1df23de53c4496413d37ccbba04473312d08726f88dc421ef","title":"Phase 2: Portal UI - Tags","description":"Implement Phase 2: Portal UI - Tags\n\nUI Components:\n- Tag creation/editing in steward queue\n- Tag display on post cards (colored badges)\n- Filter by tag in circle view\n- Tag management page (/app/circles/:circleId/tags)\n\nRequirements:\n- Follow existing portal design patterns\n- Use Alpine.js for interactive tag selection\n- Tags have color picker (predefined colors)\n- Tag search/autocomplete\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (add tag routes)\n- apps/backend/src/public/css/portal.css (tag styling)\n\nAcceptance: CSS integrity check passes, pnpm test","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T18:57:01.860221334Z","updated_at":"2025-12-30T19:41:22.415272591Z","closed_at":"2025-12-30T19:41:22.415272591Z","source_repo":".","labels":["frontend","portal","ux"]}
{"id":"roundtable-7hg.3","content_hash":"3a4f9ec2ced80c395fefa8f0bf07fbcefe641c8b851ff4ffde0339cc59870c67","title":"Phase 3: Portal UI - Collections","description":"Implement Phase 3: Portal UI - Collections\n\nUI Components:\n- Create collection modal/page\n- Add posts to collection (checkboxes on posts)\n- Collection listing page (/app/collections)\n- Collection detail view with posts\n\nRequirements:\n- Collections can be private (owner-only) or circle-shared\n- Collection cards show: name, description, post count\n- Use existing card patterns from portal.css\n\nFiles:\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/public/css/portal.css\n\nAcceptance: CSS integrity check passes, pnpm test","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T18:57:11.507011673Z","updated_at":"2025-12-30T20:01:15.383370031Z","closed_at":"2025-12-30T20:01:15.383370031Z","source_repo":".","labels":["frontend","portal","ux"]}
{"id":"roundtable-7hg.4","content_hash":"cd0ed32743ad17e34ab0c09e06f04028740a847763c0c4db99fb84ac49b17675","title":"Phase 4: Search functionality","description":"Implement Phase 4: Search Functionality\n\nComponents:\n- Search bar in portal header (global to circle)\n- Search results page (/app/search?q=query)\n- Highlighting of search terms in results\n\nRequirements:\n- Full-text search on post title and content\n- Filter by circle (when logged in)\n- Pagination for results\n- Search term highlighting in results\n\nFiles:\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/lib/searchUtils.ts (new)\n\nAcceptance: pnpm test, search returns relevant results","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T18:57:29.055994295Z","updated_at":"2025-12-30T20:10:53.573022169Z","closed_at":"2025-12-30T20:10:53.573022169Z","source_repo":".","labels":["portal","search","ux"]}
{"id":"roundtable-7hg.5","content_hash":"9f6a6b9e02af61c2c225810223a95b2e2c3e03532f9c377d6793d68e7edd3441","title":"Phase 5: Related content","description":"Implement Phase 5: Related Content\n\nFeatures:\n- Related posts sidebar on post detail\n- Tag-based recommendations\n- Reading history tracking\n\nRequirements:\n- Show 3-5 related posts per post\n- Related posts have matching tags or same author\n- Track recently read posts (localStorage)\n- Exclude current post from recommendations\n\nFiles:\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/lib/recommendationEngine.ts (new)\n\nAcceptance: pnpm test, recommendations appear on post detail","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T18:57:39.059264858Z","updated_at":"2025-12-30T20:18:33.717258099Z","closed_at":"2025-12-30T20:18:33.717258099Z","source_repo":".","labels":["algorithms","portal","ux"]}
{"id":"roundtable-7hg.6","content_hash":"3f6af7a6ec165a8208158460b9b39216c63c948bea61905e76fffbc644d1690e","title":"Phase 6: Testing \u0026 documentation","description":"Implement Phase 6: Testing \u0026 Documentation\n\nTesting:\n- E2E tests for tag/collection workflows\n- API tests for all new endpoints\n- Search result quality verification\n\nDocumentation:\n- Update CLAUDE.md with new features\n- Add API documentation for search/collections\n\nAcceptance: pnpm test:e2e passes, docs updated","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T18:57:48.862793147Z","updated_at":"2025-12-30T20:40:14.358446517Z","closed_at":"2025-12-30T20:40:14.358446517Z","source_repo":".","labels":["docs","test"]}
{"id":"roundtable-7ip","content_hash":"6b36d5b531c604bc4074118f080b5cafc818e565571cc620d70d8c51f03f95a2","title":"Phase 7.3: Record batch status and commit SHA in database","description":"Implement runBatchPublish.ts to create publish_batches rows, mark drafts as PUBLISHED after successful git push, and store commit SHA. Use transactions and handle failures safely (drafts remain APPROVED if push fails).","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-15T17:48:59.149582778Z","updated_at":"2025-12-26T03:47:13.432717703Z","closed_at":"2025-12-26T03:47:13.432717703Z","source_repo":".","labels":["backend","db","publish"]}
{"id":"roundtable-7y2","content_hash":"4baaef8eb088e480093943d1833469e477a7f5a6c33e3cc131558055399195f1","title":"Implement Content Discovery Search functionality","description":"","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T02:52:45.976116206Z","updated_at":"2026-01-04T04:08:46.3302631Z","closed_at":"2026-01-04T04:08:46.3302631Z","source_repo":".","labels":["content-discovery","epic"]}
{"id":"roundtable-81h","content_hash":"050619f6ceb7d0117f7020fa6600468a20e66947804276d743c133f295baeba3","title":"Phase 6: Backup and disaster recovery","description":"Implement automated backup and disaster recovery.\n\nTasks:\n- Configure automated database backups (daily)\n- Set up offsite backup storage (Hetzner Storage Box or similar)\n- Implement backup retention policy (30 days)\n- Document restore procedure\n- Test backup restore\n- Configure backup monitoring\n\nFiles:\n- scripts/backup/production-backup.sh (new)\n- scripts/backup/production-restore.sh (new)\n- docs/operations/backup-dr.md (new)\n\nAcceptance: Automated backups running, restore tested.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:27:32.348318061Z","updated_at":"2025-12-30T21:50:15.492334574Z","closed_at":"2025-12-30T21:50:15.492334574Z","source_repo":".","labels":["backup","ops","security"],"dependencies":[{"issue_id":"roundtable-81h","depends_on_id":"roundtable-3rp","type":"blocks","created_at":"2025-12-30T21:27:32.352364763Z","created_by":"root"}]}
{"id":"roundtable-89y","content_hash":"a14d190f8343bb8d9e55c1d8b466fdca2b71f9f731c51b02943ee97e920fb672","title":"roundtable-metrics-004","description":"","acceptance_criteria":"Email notification sent when outcome recorded; lightweight feedback form: 'Did this help you gain clarity? (1-5)'; 'What would have made this better?' (optional); feedback stored in decision_outcomes.founder_feedback; email link with token for one-time submission; feedback submission API endpoint; NO pressure to respond","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:52:48.351934117Z","updated_at":"2026-01-04T06:57:06.742530871Z","closed_at":"2026-01-04T06:57:06.742530871Z","source_repo":".","labels":["backend","clarity-metrics","email","epic-4"]}
{"id":"roundtable-8b1","content_hash":"8e0a8c772c306240d614f0054909197a53b9a699ef7f20947e236cecf3384b7a","title":"Implement public /published endpoint for anonymous reading","description":"","status":"closed","priority":1,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T02:51:50.760236451Z","updated_at":"2026-01-04T03:26:24.739793243Z","closed_at":"2026-01-04T03:26:24.739793243Z","source_repo":".","labels":["epic","pmf-core","public-reading"]}
{"id":"roundtable-8qa","content_hash":"fa9f0c701e24af7482a96ab06f44d0ca0a793930c0591f0a19d08505ad7f55d1","title":"Implement SupervisorDecisionTable","description":"Implement SupervisorDecisionTable functionality\n\nLocation: lib/maf/supervision/decision-table.ts\n\nCurrent state: Stub that returns null from evaluate()\n\nRequired implementation:\n- Decision table evaluation logic based on context\n- Rule matching and priority handling\n- Decision aggregation from multiple rules\n- Integration with SupervisorDecisionEngine","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-03T23:57:15.887048563Z","updated_at":"2026-01-04T01:21:01.891728432Z","closed_at":"2026-01-04T01:21:01.891728432Z","source_repo":".","labels":["framework","maf","supervision"]}
{"id":"roundtable-8rd","content_hash":"4c39b936fb4ff7e09b4863fdddf6074be2cc2d7017a6cbaf5a74029e4afb3f50","title":"Make maf-cli:agents reproducible (bootstrap + drift fixes)","description":"Ensure zero-context engineer can recreate/repair the live pod reliably. Fix pane mapping consistency across docs, config, and scripts. Ensure restart commands exist and work idempotently.\n\nFiles:\n- docs/operations/runbook.md (match canonical pane mapping)\n- .maf/TEAM-CONFIG.md (match canonical pane mapping)\n- .maf/config/context-manager.env (ensure restart commands exist)\n- scripts/maf/context-manager-v2.sh (fix state save/restore)\n\nAcceptance:\n- Fresh machine can reach known-good pod state\n- Restart is idempotent and actually restores context\n- Pane mapping is consistent across all files","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T13:33:56.707889446Z","updated_at":"2026-01-04T14:04:25.743399084Z","closed_at":"2026-01-04T14:04:25.743399084Z","source_repo":".","labels":["maf operations reliability"]}
{"id":"roundtable-99i","content_hash":"6b0ee21e9568ca793347439134232bef6d343a2a18031f4088ebf1e764ae9c0e","title":"Implement Reflection Journey notes and prompts","description":"","status":"closed","priority":3,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T02:53:29.406598881Z","updated_at":"2026-01-04T04:13:27.399983738Z","closed_at":"2026-01-04T04:13:27.399983738Z","source_repo":".","labels":["epic","reflection"]}
{"id":"roundtable-9co","content_hash":"0d7a4263e8e0540acc17f0f03fe6075b6d5d9cd23af397f86b5732292495ba12","title":"Phase 5: Notifications","description":"Parent epic: Comprehensive notification system for Roundtable including email notifications, in-app alerts, and notification preferences","status":"closed","priority":2,"issue_type":"epic","assignee":"FuchsiaCreek","created_at":"2026-01-02T08:37:50.500782297Z","updated_at":"2026-01-02T11:32:40.165365352Z","closed_at":"2026-01-02T11:32:40.165365352Z","source_repo":".","labels":["phase-5 notifications backend frontend"]}
{"id":"roundtable-9co.1","content_hash":"fd28722b329749b18feced3da62349ba2d16e2c58c5da2807a278010e5eef10b","title":"Task 1: Database migration for notifications","description":"Create notifications table migration with columns: id, member_id, type, title, message, link_url, is_read, created_at. Add notification_types enum: resonance_received, introduction_request, feedback_request, post_published, circle_invitation","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T08:41:24.10454966Z","updated_at":"2026-01-02T08:51:42.00211429Z","closed_at":"2026-01-02T08:51:42.00211429Z","source_repo":".","labels":["backend database"],"dependencies":[{"issue_id":"roundtable-9co.1","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:10:24.59329032Z","created_by":"root"}]}
{"id":"roundtable-9co.2","content_hash":"7bf3dd57a4a8dd341882a01855788855800f2f3c1a8e8f39efe10a2836849254","title":"Task 2: Backend notification service","description":"Create notification service with createNotification, getNotifications, markAsRead, markAllRead functions. Implement notification dispatchers for each event type","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T08:41:51.355386045Z","updated_at":"2026-01-02T09:10:51.764653363Z","closed_at":"2026-01-02T09:10:51.764653363Z","source_repo":".","labels":["backend api"],"dependencies":[{"issue_id":"roundtable-9co.2","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:10:30.597942244Z","created_by":"root"}]}
{"id":"roundtable-9co.3","content_hash":"1488d6e8df352ab50d33854b6aa8f5d26c52a277617a4e29dc86e62a61e67d79","title":"Task 3: Notification API endpoints","description":"GET /api/me/notifications, PATCH /me/notifications/:id/read, PATCH /me/notifications/read-all, DELETE endpoints with Zod validation","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T08:42:06.536076Z","updated_at":"2026-01-02T09:10:51.766885783Z","closed_at":"2026-01-02T09:10:51.766885783Z","source_repo":".","labels":["backend api"],"dependencies":[{"issue_id":"roundtable-9co.3","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:10:36.764239969Z","created_by":"root"}]}
{"id":"roundtable-9co.4","content_hash":"f31ff3b97cd1ceb6cb123c03658c565099df90a200893fbc6714cf0b4c971028","title":"Task 4: Notification preferences model","description":"Create notification_preferences table: member_id, email_notifications, in_app_notifications, resonance_alerts, introduction_alerts, feedback_alerts with defaults","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T08:42:22.767128538Z","updated_at":"2026-01-02T09:12:55.834438947Z","closed_at":"2026-01-02T09:12:55.834438947Z","source_repo":".","labels":["backend database"],"dependencies":[{"issue_id":"roundtable-9co.4","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:10:42.877101265Z","created_by":"root"}]}
{"id":"roundtable-9co.5","content_hash":"f8e4c406a93c74fc400164de911a8880ea45fa8fbdcdf8f25d244e2889f1c4e9","title":"Task 5: Email notification triggers","description":"Integrate notification dispatch into existing events: post resonance, introduction request, feedback request, circle invitation. Respect notification_preferences","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T08:42:38.771841355Z","updated_at":"2026-01-02T09:20:20.175479453Z","closed_at":"2026-01-02T09:20:20.175479453Z","source_repo":".","labels":["backend email"],"dependencies":[{"issue_id":"roundtable-9co.5","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:10:48.924742092Z","created_by":"root"}]}
{"id":"roundtable-9co.6","content_hash":"d5182d9a1cea5ed422c489144ae23544e1cae97989ded7e2c6cea2675db31e9d","title":"Task 6: In-app notification UI","description":"Create notification bell icon in portal header with unread count badge. Dropdown showing recent notifications with mark-as-read on click","acceptance_criteria":"- Portal header shows a notification bell for logged-in users.\n- When there is at least 1 unread notification for the current user, the bell shows a badge with the unread count (caps at 99+).\n- Clicking the bell opens a dropdown listing recent notifications (max 20) with readable title/body + timestamp.\n- Clicking an unread notification marks it read (PATCH `/api/me/notifications/:id/read`) and decrements the unread count.\n- “Mark all read” marks all notifications read (PATCH `/api/me/notifications/read-all`) and clears the unread badge.\n\nNotes for reviewers:\n- The dropdown behavior lives in `apps/backend/src/public/js/portalNotifications.js`.\n- Backend endpoints are in `apps/backend/src/routes/notificationsMeApi.ts`.","status":"open","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T08:42:53.951822341Z","updated_at":"2026-01-04T18:03:20.111386934Z","source_repo":".","labels":["frontend portal"],"dependencies":[{"issue_id":"roundtable-9co.6","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:10:55.024800378Z","created_by":"root"}]}
{"id":"roundtable-9co.7","content_hash":"6e282044cc8ade0cae55b296dfbbfe19ffc4eca4e3549e68453ba2f8bc31e8d6","title":"Task 7: Notification preferences page","description":"Create /me/settings/notifications page with toggles for email/in-app/resonance/introduction/feedback/circle alerts. PATCH /api/me/notification-preferences","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T08:43:11.599907012Z","updated_at":"2026-01-02T10:37:57.701306478Z","closed_at":"2026-01-02T10:37:57.701306478Z","source_repo":".","labels":["frontend portal"],"dependencies":[{"issue_id":"roundtable-9co.7","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:11:01.142203351Z","created_by":"root"}]}
{"id":"roundtable-9co.8","content_hash":"0c75ff09dc96c5cd9061d11a3728053053b1534a13cd021ef5d7e643718cb086","title":"Task 8: Documentation","description":"Write notifications-api.md documenting notification types, API endpoints, preferences schema, email templates, integration points","status":"closed","priority":2,"issue_type":"task","assignee":"BlueSnow","created_at":"2026-01-02T08:43:30.00306343Z","updated_at":"2026-01-02T10:59:45.369661508Z","closed_at":"2026-01-02T10:59:45.369661508Z","source_repo":".","labels":["docs"],"dependencies":[{"issue_id":"roundtable-9co.8","depends_on_id":"roundtable-9co","type":"parent-child","created_at":"2026-01-02T11:11:07.140375878Z","created_by":"root"}]}
{"id":"roundtable-9di","content_hash":"2328f0b7cabd9895469650dd956f00adf23f006cd089059fbb46b3e985390835","title":"Build Circle Management dashboard","description":"","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T02:52:21.022362682Z","updated_at":"2026-01-04T03:51:56.130063621Z","closed_at":"2026-01-04T03:51:56.130063621Z","source_repo":".","labels":["dashboard","epic","operations"]}
{"id":"roundtable-9rm","content_hash":"7f90865754448fad09d1aa9c9a05548514886d1d88ae58bf8abb1bb399039b02","title":"roundtable-metrics-006","description":"","acceptance_criteria":"docs/product/clarity-metrics.md created with feature overview; docs/operations/metrics-runbook.md with steward guide; API documentation for outcomes endpoints; explanation of PMF-aligned vs vanity metrics; how to interpret clarity rates and time-to-decision","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T06:53:19.836520966Z","updated_at":"2026-01-04T07:37:07.79127637Z","closed_at":"2026-01-04T07:37:07.79127637Z","source_repo":".","labels":["clarity-metrics","documentation","epic-4"]}
{"id":"roundtable-9ts","content_hash":"a0c90aff94c4cd014a58b785ee348fe647f2133869dd6a117c912410bca334f8","title":"Phase 1: Environment setup (.env, secrets)","description":"Configure production environment variables and secrets.\n\nTasks:\n- Create production .env template\n- Set DATABASE_URL for production SQLite\n- Configure INTERNAL_SECRET for publish endpoint\n- Set EMAIL_FROM for outbound emails\n- Configure OPENAI_API_KEY\n- Set GITHUB_TOKEN for publishing\n- Configure SITE_OUTPUT_DIR\n- Document secret rotation procedure\n\nFiles:\n- apps/backend/.env.production (new template)\n- docs/operations/env-setup.md (new)\n\nAcceptance: .env.production template created, all required variables documented.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:26:16.584902132Z","updated_at":"2025-12-30T21:31:38.907128945Z","closed_at":"2025-12-30T21:31:38.907128945Z","source_repo":".","labels":["deployment","ops"],"dependencies":[{"issue_id":"roundtable-9ts","depends_on_id":"roundtable-ofi","type":"blocks","created_at":"2025-12-30T21:26:16.590459108Z","created_by":"root"}]}
{"id":"roundtable-9zo","content_hash":"8cc7e6967b1557ed04eaccdc53d8ea930375719522d1859b3cb44b0436dc4be1","title":"Enforce receipt policy in prompt packs","description":"Update all prompt packs and operations docs to require receipts for bead completion.\n\nFiles:\n- scripts/maf/prompt-packs/*.json (update implementor.extra)\n- docs/operations/runbook.md\n\nAdd receipt requirement to completion checklist.\n\nAcceptance:\n- All implementor prompt packs mention receipt\n- Runbook includes receipt step\n- Receipt is required before review request","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T13:36:22.024011634Z","updated_at":"2026-01-04T14:29:19.50299405Z","closed_at":"2026-01-04T14:29:19.50299675Z","source_repo":".","labels":["maf","process"],"dependencies":[{"issue_id":"roundtable-9zo","depends_on_id":"roundtable-xk7","type":"blocks","created_at":"2026-01-04T13:37:15.30955608Z","created_by":"root"}]}
{"id":"roundtable-analytics","content_hash":"7d36a2b2ba87483d52f9c9e1629776bbbec9f5cb64489f24b27be802bddb8601","title":"Epic: Analytics Dashboard","description":"Build comprehensive analytics dashboard for Roundtable to track content performance, member engagement, and system health.\n\nFeatures:\n- Overview dashboard with key metrics\n- Content performance analytics\n- Member engagement tracking\n- Circle activity metrics\n- Export and reporting capabilities\n- Charts and visualizations\n\nPhases:\n1. Database schema \u0026 backend API\n2. Analytics API endpoints\n3. Dashboard UI - Overview\n4. Content analytics views\n5. Member \u0026 circle analytics\n6. Export \u0026 reporting","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T23:01:13.415749251Z","updated_at":"2025-12-31T01:24:42.9496042Z","closed_at":"2025-12-31T01:24:42.9496042Z","source_repo":".","labels":["analytics","backend","dashboard","frontend","ux"]}
{"id":"roundtable-analytics.1","content_hash":"dff24db6ead2d869bf4d7088020aba060d4498b5c1b2c876e181d9743483c75c","title":"Phase 1: Database schema \u0026 backend API","description":"Implement Phase 1: Database schema \u0026 backend API\n\nDatabase Changes:\n- Add analytics_events table (event tracking)\n- Add metrics_cache table (precomputed metrics)\n- Add daily_stats table (time-series data)\n\nBackend API:\n- GET /api/analytics/overview - Summary metrics\n- Event tracking system\n- Metrics computation service\n\nFiles:\n- apps/backend/data/migrations/018_analytics_events.sql\n- apps/backend/data/migrations/019_metrics_cache.sql\n- apps/backend/data/migrations/020_daily_stats.sql\n- apps/backend/src/routes/analyticsApi.ts (new)\n- apps/backend/src/lib/analytics.ts (new)\n- apps/backend/test/analytics.test.ts (new)\n\nAcceptance: pnpm --filter backend test","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T23:02:12.096345686Z","updated_at":"2025-12-30T23:27:42.993280499Z","closed_at":"2025-12-30T23:27:42.993280499Z","source_repo":".","labels":["analytics","backend","db"],"dependencies":[{"issue_id":"roundtable-analytics.1","depends_on_id":"roundtable-analytics","type":"parent-child","created_at":"2025-12-30T23:02:12.096345686Z","created_by":"root"}]}
{"id":"roundtable-analytics.2","content_hash":"13cff5588c1b6d47b13d7b67b5c8267192937dcfa700dd6deb214615701f8ec0","title":"Phase 2: Analytics API endpoints","description":"Implement Phase 2: Analytics API endpoints\n\nAPI Endpoints:\n- GET /api/analytics/overview - Key metrics summary\n- GET /api/analytics/content - Post performance metrics\n- GET /api/analytics/members - Member engagement stats\n- GET /api/analytics/circles - Circle activity metrics\n- GET /api/analytics/timeseries - Time-series data\n- POST /api/analytics/events - Track custom events\n\nFeatures:\n- Date range filtering\n- Metric aggregation\n- Caching for performance\n\nFiles:\n- apps/backend/src/routes/analyticsApi.ts\n- apps/backend/src/lib/analytics.ts\n- apps/backend/test/analyticsApi.test.ts (new)\n\nAcceptance: pnpm --filter backend test","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T23:02:12.096345686Z","updated_at":"2025-12-30T23:52:00.164933175Z","closed_at":"2025-12-30T23:52:00.164933175Z","source_repo":".","labels":["analytics","api","backend"],"dependencies":[{"issue_id":"roundtable-analytics.2","depends_on_id":"roundtable-analytics.1","type":"blocks","created_at":"2025-12-30T23:02:12.096345686Z","created_by":"root"}]}
{"id":"roundtable-analytics.3","content_hash":"de06f3984a802f0e7f6b4c6b0d73fdc5492e0fe6da2e3e424310d3685bea05d0","title":"Phase 3: Dashboard UI - Overview","description":"Implement Phase 3: Dashboard UI - Overview\n\nUI Components:\n- Analytics dashboard layout\n- Key metric cards (total posts, members, circles)\n- Activity chart (last 30 days)\n- Recent activity feed\n- Date range picker\n\nRequirements:\n- Responsive design (mobile-friendly)\n- Real-time metric updates\n- Clean dashboard interface\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (analytics routes)\n- apps/backend/src/public/css/analytics.css (new)\n- apps/backend/src/public/js/analytics.js (new)\n\nAcceptance: CSS integrity check passes, pnpm test","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T23:02:12.096345686Z","updated_at":"2025-12-31T00:06:16.492793806Z","closed_at":"2025-12-31T00:06:16.492793806Z","source_repo":".","labels":["analytics","frontend","portal","ux"],"dependencies":[{"issue_id":"roundtable-analytics.3","depends_on_id":"roundtable-analytics.2","type":"blocks","created_at":"2025-12-30T23:02:12.096345686Z","created_by":"root"}]}
{"id":"roundtable-analytics.4","content_hash":"52a164b768b843f050257d58ed3929012fc82b12e27ac1a078c6799b00ba299a","title":"Phase 4: Content analytics views","description":"Implement Phase 4: Content analytics views\n\nContent Analytics:\n- Top posts table (views, engagement)\n- Post performance detail page\n- Tag performance metrics\n- Collection usage statistics\n- Content trends over time\n\nRequirements:\n- Sortable columns\n- Filtering options\n- Export functionality\n\nFiles:\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/public/css/analytics.css\n- apps/backend/src/public/js/analytics.js\n\nAcceptance: pnpm test, analytics render correctly","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T23:02:12.096345686Z","updated_at":"2025-12-31T00:36:14.609129751Z","closed_at":"2025-12-31T00:36:14.609129751Z","source_repo":".","labels":["analytics","frontend","portal","ux"],"dependencies":[{"issue_id":"roundtable-analytics.4","depends_on_id":"roundtable-analytics.3","type":"blocks","created_at":"2025-12-30T23:02:12.096345686Z","created_by":"root"}]}
{"id":"roundtable-analytics.5","content_hash":"a154f641d7262fa8aecbad6fd0bc0887b321177f2666e69a8a6c822d60abe1aa","title":"Phase 5: Member \u0026 circle analytics","description":"Implement Phase 5: Member \u0026 circle analytics\n\nMember Analytics:\n- Active members list\n- Member engagement scores\n- Posting frequency chart\n- Circle participation matrix\n\nCircle Analytics:\n- Circle activity metrics\n- Post volume per circle\n- Member growth per circle\n- Circle comparison view\n\nFiles:\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/public/css/analytics.css\n- apps/backend/src/public/js/analytics.js\n\nAcceptance: pnpm test","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T23:02:12.096345686Z","updated_at":"2025-12-31T00:42:10.144942052Z","closed_at":"2025-12-31T00:42:10.144944782Z","source_repo":".","labels":["analytics","frontend","portal","ux"],"dependencies":[{"issue_id":"roundtable-analytics.5","depends_on_id":"roundtable-analytics.3","type":"blocks","created_at":"2025-12-30T23:02:12.096345686Z","created_by":"root"}]}
{"id":"roundtable-analytics.6","content_hash":"0579aaf5a56ff0065ea3c42658195f5a4e93b35d355d64137ec702426270a995","title":"Phase 6: Export \u0026 reporting","description":"Implement Phase 6: Export \u0026 reporting\n\nExport Features:\n- CSV export for all analytics views\n- PDF report generation\n- Scheduled email reports\n- Custom date range exports\n\nReporting:\n- Daily/weekly summary reports\n- Metric thresholds alerts\n- Report templates\n\nFiles:\n- apps/backend/src/routes/analyticsApi.ts\n- apps/backend/src/lib/reportGenerator.ts (new)\n- apps/backend/src/lib/csvExport.ts (new)\n- apps/backend/test/export.test.ts (new)\n\nAcceptance: pnpm --filter backend test, export functionality works","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T23:02:12.096345686Z","updated_at":"2025-12-31T01:23:00.648613315Z","closed_at":"2025-12-31T01:23:00.648613315Z","source_repo":".","labels":["analytics","backend","export"],"dependencies":[{"issue_id":"roundtable-analytics.6","depends_on_id":"roundtable-analytics.5","type":"blocks","created_at":"2025-12-30T23:02:12.096345686Z","created_by":"root"}]}
{"id":"roundtable-anonymous-reading","content_hash":"c617ef51abd50db73fb4c313c4be7e637eb4c065161aec67b629d5d80a0c892a","title":"Epic: Anonymous Reading Mode","description":"Create an anonymous/public reading mode for published posts only.\n\nProblem: Currently, accessing published content requires authentication. This prevents operators from observing freely.\n\nSolution: Create read-only access to published content without login, no engagement metrics, calm observation experience.\n\nUser Stories:\n- Read published posts without creating an account\n- Understand how founders think before engaging\n- Remain completely anonymous while observing\n- Not feel pressure to interact\n\nKey Features:\n1. Public Read Endpoint (GET /published)\n2. Public-Friendly Site (clean, calm reading)\n3. Circle Privacy Controls (reading_mode column)\n\nSub-Tasks: roundtable-reading-001 through roundtable-reading-007\n\nAcceptance: Public can access /published without auth, only published posts visible, no engagement metrics, reading experience is calm.\n\nSuccess Metrics: Anonymous reads per day, session duration, operator feedback on calm experience.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.72253459Z","source_repo":".","labels":["epic","feature","p1","public-reading"]}
{"id":"roundtable-auth","content_hash":"dbf365fcff49e817313d7a7264f4ee707c239defc8c8a7fb8870182eb93ef281","title":"Epic: Auth Implementation Improvements","description":"Source: docs/plans/auth-implementation-plan-audited.md\n\nImprove authentication security and UX:\n- Already-used invite shows friendly 'already a member' page\n- Session TTL extended to 90 days\n- Logout revokes sessions in database (not just cookie)\n\n7 critical issues fixed. Ready for autonomous agent execution.\n\nHuman Intervention: NONE during implementation.\n\nAcceptance: All child tasks closed, all tests pass, documentation updated.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T13:52:46.5485052Z","closed_at":"2025-12-31T13:02:26.882493Z","source_repo":".","labels":["auth","backend","epic","security","ux"]}
{"id":"roundtable-auth.0.1","content_hash":"12effc38164ed7ac7a9331c95e0e07ebfde824976416de472c1910ad75623f53","title":"Task 0.1: Create lib/cookieUtils.ts with getCookieValue","description":"Create shared cookie parsing utility for use by logout handler.\n\nFile: apps/backend/src/lib/cookieUtils.ts (NEW)\n\n```typescript\nexport function getCookieValue(cookieHeader: string | undefined, name: string): string | null {\n  if (!cookieHeader) return null;\n  const parts = cookieHeader.split(';');\n  for (const part of parts) {\n    const trimmed = part.trim();\n    if (!trimmed) continue;\n    const eq = trimmed.indexOf('=');\n    if (eq \u003c= 0) continue;\n    const key = trimmed.slice(0, eq).trim();\n    if (key !== name) continue;\n    return trimmed.slice(eq + 1).trim() || null;\n  }\n  return null;\n}\n```\n\nCommit: feat(auth): create shared cookie utilities module\n\nThis is a CRITICAL prerequisite task - must be completed first.","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:09:07.697705631Z","closed_at":"2025-12-31T12:09:07.697705631Z","source_repo":".","labels":["backend","critical","utility"],"dependencies":[{"issue_id":"roundtable-auth.0.1","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.0.2","content_hash":"4d9b37b96f14bd63fa07c011e36eaecfc355a54781ebef43ca3ce0d2fbcaeacc","title":"Task 0.2: Remove duplicate escapeHtml from invites.ts","description":"Remove duplicate escapeHtml function and import from htmlUtils.\n\nFile: apps/backend/src/routes/invites.ts\n\nDelete lines 158-165 (duplicate escapeHtml function)\n\nAdd import at top:\n```typescript\nimport { escapeHtml } from '../lib/htmlUtils';\n```\n\nCommit: refactor(auth): use shared escapeHtml utility in invites route\n\nThis is a CRITICAL prerequisite task - must be completed first.","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:23:11.373640205Z","closed_at":"2025-12-31T12:23:11.373640205Z","source_repo":".","labels":["backend","critical","refactor"],"dependencies":[{"issue_id":"roundtable-auth.0.2","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.1.1","content_hash":"3f60236b512f5d119df63d66c6deffe26304f5c1c524ed14ed8c1e333f717cd2","title":"Task 1.1: Modify invites.ts to show friendly 'already a member' page","description":"Replace 410 error with friendly HTML page when invite already used.\n\nFile: apps/backend/src/routes/invites.ts (lines 76-78)\n\nCurrent code returns 410 error. Replace with:\n- Fetch circle name from database (with fallback for deleted circles)\n- Render friendly HTML page with login form\n- Use inline styles matching /login page pattern\n- Include next parameter for post-login redirect\n\nCommit: frontend(auth): show friendly 'already a member' page for used invites\n\nDependencies: Task 0.1, Task 0.2","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:43:57.238597879Z","closed_at":"2025-12-31T12:43:57.238597879Z","source_repo":".","labels":["auth","frontend","ux"],"dependencies":[{"issue_id":"roundtable-auth.1.1","depends_on_id":"roundtable-auth.0.1","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.1.1","depends_on_id":"roundtable-auth.0.2","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.1.1","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.1.2","content_hash":"af94e0a981476dfe518a485b88ac4d8e4fc49b28b954cfddaf99c76ac3c8b831","title":"Task 1.2: Add tests for already-used invite UX","description":"Add test suite to apps/backend/test/inviteAcceptance.test.ts\n\nTest cases:\n- Returns friendly HTML with login form when invite already used\n- Includes circle name in message\n- Includes next parameter pointing to circle\n- Shows fallback message when circle deleted\n\nUses beforeEach/afterEach pattern (matching memberAuth.test.ts)\nImports: generateAuthToken, hashAuthToken, escapeHtml\n\nCommit: test(auth): add coverage for already-used invite UX\n\nRun: pnpm --filter backend test inviteAcceptance.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T13:03:30.052588663Z","closed_at":"2025-12-31T13:03:30.052588663Z","source_repo":".","labels":["auth","test"],"dependencies":[{"issue_id":"roundtable-auth.1.2","depends_on_id":"roundtable-auth.1.1","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.1.2","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.1.3","content_hash":"8ab0cf0ee15d9b109d84e100ffbdaafb62d893d60c1e2b02ac734aa93bfc93b1","title":"Task 1.3: Document already-used invite behavior","description":"Add section to docs/operations/runbook.md\n\nContent:\n- When member clicks already-used invite link\n- Shows 'already a member' page with login form\n- Explains single-use security\n- Includes fallback behavior for deleted circles\n\nCommit: docs: document already-used invite behavior","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T13:19:23.806523238Z","closed_at":"2025-12-31T13:19:23.806523238Z","source_repo":".","labels":["auth","docs"],"dependencies":[{"issue_id":"roundtable-auth.1.3","depends_on_id":"roundtable-auth.1.2","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.1.3","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.2.1","content_hash":"4a99296c9a20d80f39d7663ae786e689abf31a52714997d3f0bfca21cb16e228","title":"Task 2.1: Update .env files with 90-day session TTL","description":"Update environment files to extend session TTL to 90 days.\n\nFiles:\n- apps/backend/.env.example (ADD NEW - after line 22)\n- apps/backend/.env.production.example (line 44: update 7 to 90)\n\nAdd/update:\n```bash\n# Member session TTL (days)\n# Sessions stay valid for 90 days. Members can get new sessions via /login anytime.\nMEMBER_SESSION_TTL_DAYS=90\n```\n\nCommit: config(auth): increase default session TTL to 90 days","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:44:09.155110493Z","closed_at":"2025-12-31T12:44:09.155110493Z","source_repo":".","labels":["auth","config"],"dependencies":[{"issue_id":"roundtable-auth.2.1","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.2.2","content_hash":"47f04016feba7b160eeb1fe30362711416dcef6ef3d28b88e01e03aefd16d4c6","title":"Task 2.2: Update code defaults to 90-day session TTL","description":"Update default TTL in code from 30 to 90 days.\n\nFiles:\n- apps/backend/src/routes/invites.ts (line 85: ?? 30 to ?? 90)\n- apps/backend/src/routes/memberLogin.ts (line 236: ?? 30 to ?? 90)\n\nChange:\n```typescript\nconst sessionTtlDays = Number(process.env.MEMBER_SESSION_TTL_DAYS ?? 90);\n```\n\nCommit: config(auth): update session TTL default to 90 days","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:49:20.915851246Z","closed_at":"2025-12-31T12:49:20.915851246Z","source_repo":".","labels":["auth","backend"],"dependencies":[{"issue_id":"roundtable-auth.2.2","depends_on_id":"roundtable-auth.2.1","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.2.2","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.2.3","content_hash":"eb13e8a478a11295f9449abb665a70df70b72a92f69159dd4e180e85bff9a7ff","title":"Task 2.3: Document session TTL configuration","description":"Add section to docs/operations/runbook.md\n\nContent:\n- Session TTL: 90 days (default, configurable via MEMBER_SESSION_TTL_DAYS)\n- Session properties (cookie-based, device-specific, server-side validated, revocable)\n- How members get new sessions on additional devices\n- Magic link TTL: 24 hours (hardcoded)\n- Security posture\n\nCommit: docs: document session TTL and configuration","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:51:22.062955925Z","closed_at":"2025-12-31T12:51:22.062955925Z","source_repo":".","labels":["auth","docs"],"dependencies":[{"issue_id":"roundtable-auth.2.3","depends_on_id":"roundtable-auth.2.2","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.2.3","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.3.1","content_hash":"a3125bff26594e72f683fd85ce9269520bf3784f91031dfea9043233660a2f15","title":"Task 3.1: Modify logout handler to revoke sessions in database","description":"Modify logout handler to mark sessions as revoked, not just clear cookie.\n\nFile: apps/backend/src/server.ts (lines 139-153)\n\nAdd imports at top:\n```typescript\nimport { getCookieValue } from './lib/cookieUtils';\nimport { hashAuthToken } from './lib/authTokens';\n```\n\nReplace logout handler to:\n- Extract session token from cookie\n- Mark session as revoked in database (use module-level db variable)\n- Clear cookie as before\n\nCommit: sec(auth): revoke sessions on logout, not just cookie\n\nIMPORTANT: Use module-level 'db' variable, NOT import getDatabase (doesn't exist).","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:15:20.286118814Z","closed_at":"2025-12-31T12:15:20.286118814Z","source_repo":".","labels":["backend","security"],"dependencies":[{"issue_id":"roundtable-auth.3.1","depends_on_id":"roundtable-auth.0.1","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.3.1","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.3.2","content_hash":"6f5ff484a91a1aeea1376a953db7be9fe7f43fea84c6ffa4eedba09b70b45d08","title":"Task 3.2: Verify session validation checks revoked status","description":"Verify that requireMember middleware checks revoked_at.\n\nFile: apps/backend/src/lib/requireMember.ts (line 67)\n\nExpected code:\n```typescript\nif (!row || row.revokedAt || row.expiresAt \u003c= nowIso) {\n  await reply.code(401).send({ success: false, error: 'Invalid session' });\n  return;\n}\n```\n\nThis check already exists - just verify it's correct. No code change needed.\n\nIf check is missing, add the revokedAt condition.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:16:38.29175754Z","closed_at":"2025-12-31T12:16:38.29175754Z","source_repo":".","labels":["backend","security","verification"],"dependencies":[{"issue_id":"roundtable-auth.3.2","depends_on_id":"roundtable-auth.3.1","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.3.2","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.3.3","content_hash":"f7fde65c5ba84d853155ffcbabe06030de98afe92ec69862bd2ee0994894ecbd","title":"Task 3.3: Add tests for logout session revocation","description":"Create apps/backend/test/logout.test.ts (NEW)\n\nTest cases:\n- Revokes session in database when user logs out\n- Clears cookie even if no session exists\n- Works without session cookie\n\nUses beforeEach/afterEach pattern\nRecreates logout route inline using dynamic imports\nUses module-level db variable (NOT getDatabase import)\n\nIMPORTANT imports:\n```typescript\nimport { generateAuthToken, hashAuthToken } from '../src/lib/authTokens';\n```\n\nCommit: test(auth): add logout session revocation tests\n\nRun: pnpm --filter backend test logout.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T12:29:26.199237156Z","closed_at":"2025-12-31T12:29:26.199237156Z","source_repo":".","labels":["security","test"],"dependencies":[{"issue_id":"roundtable-auth.3.3","depends_on_id":"roundtable-auth.3.2","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.3.3","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.4.1","content_hash":"2752724e4bb6a9c37ecde691f9111e20310e7b28da8188ddbd5c2c95db017dd1","title":"Task 4.1: Verify all auth tests pass","description":"Run all auth tests and verify they pass.\n\nRun:\n```bash\npnpm --filter backend test inviteAcceptance.test.ts memberLogin.test.ts memberAuth.test.ts logout.test.ts\n```\n\nExpected result: All tests pass.\n\nIf any fail:\n1. Identify the failing test\n2. Determine if test needs updating or code has a bug\n3. Fix the issue\n4. Re-run until all pass\n\nDependencies: Task 1.2, Task 3.3 (tests must exist first)","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T13:52:46.551349328Z","closed_at":"2025-12-31T13:02:26.882493Z","source_repo":".","labels":["test","verification"],"dependencies":[{"issue_id":"roundtable-auth.4.1","depends_on_id":"roundtable-auth.1.2","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.4.1","depends_on_id":"roundtable-auth.3.3","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.4.1","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-auth.5.1","content_hash":"3efadea3d382b6ed85a7a742c671ca03789059008f8fd5cf84b756b8fdc59933","title":"Task 5.1: Add comprehensive auth overview documentation","description":"Add comprehensive authentication overview to docs/operations/runbook.md\n\nContent:\n- Authentication Overview section\n- Key Concepts (Invite vs Login vs Session)\n- User Flows (first-time member, existing member, already-used invite)\n- Configuration (environment variables, magic link TTL)\n- Security posture\n- Common Operations (check sessions, revoke sessions, check invites)\n\nCommit: docs(auth): add comprehensive authentication overview\n\nDependencies: Tasks 1.3, 2.3, 3.3 (docs must be updated first)","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-31T12:00:00Z","updated_at":"2025-12-31T13:52:46.551948736Z","closed_at":"2025-12-31T13:02:26.882493Z","source_repo":".","labels":["auth","docs"],"dependencies":[{"issue_id":"roundtable-auth.5.1","depends_on_id":"roundtable-auth.1.3","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.5.1","depends_on_id":"roundtable-auth.2.3","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.5.1","depends_on_id":"roundtable-auth.3.3","type":"blocks","created_at":"2025-12-31T12:00:00Z","created_by":"root"},{"issue_id":"roundtable-auth.5.1","depends_on_id":"roundtable-auth","type":"parent-child","created_at":"2025-12-31T12:00:00Z","created_by":"root"}]}
{"id":"roundtable-avp","content_hash":"5fc2b3e04e72c5bf0a2eb9438506691c43bcc3698339ce2d9681477fd491ea73","title":"Anonymous Reading Mode Epic (roundtable-anonymous-reading)","description":"**Epic:** Anonymous Reading Mode for Published Content\n\n**Priority:** P1 (Critical)\n**Complexity:** Low\n**PMF Impact:** Core - Enables safe observation without pressure\n\n## Problem\nCurrently, accessing published content requires authentication. This prevents operators from observing freely.\n\n## Solution\nCreate anonymous/public reading mode for published posts only:\n- No login required\n- Read-only access\n- No engagement metrics\n- Calm observation experience","acceptance_criteria":"Public can access /published without auth; Only published posts visible; No engagement metrics; Circle privacy controls work","status":"closed","priority":1,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-01T15:06:54.833199955Z","updated_at":"2026-01-01T15:35:00.466627876Z","closed_at":"2026-01-01T15:35:00.466627876Z","source_repo":"."}
{"id":"roundtable-avp.1","content_hash":"92db3a8175399721ae346a7211d38a58000f3ccdd0a632fd4acd057e72ce7d0b","title":"Database migration for reading_mode column","description":"**Task:** Add reading_mode column to circles table\n\n**Priority:** P1 (Critical)\n**Assignee:** FuchsiaCreek (Backend)\n\n## What\nAdd a `reading_mode` column to the circles table to control privacy settings for published content.\n\n## Migration SQL\n```sql\nALTER TABLE circles ADD COLUMN reading_mode TEXT DEFAULT private;\n-- Add CHECK constraint for valid values\nALTER TABLE circles ADD COLUMN reading_mode TEXT \n  DEFAULT private \n  CHECK (reading_mode IN (private, public-read, public));\n```\n\n## Values\n- `private`: Members only (current behavior)\n- `public-read`: Anyone can read published posts (NEW)\n- `public`: Reserved for future use\n\n## Acceptance\n- [ ] Migration file created (migrations/035_add_reading_mode.sql)\n- [ ] Backward compatible (defaults to private)\n- [ ] CHECK constraint prevents invalid values","acceptance_criteria":"Migration file created; Defaults to private; CHECK constraint added","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T15:07:34.027639972Z","updated_at":"2026-01-01T15:34:48.691877785Z","closed_at":"2026-01-01T15:34:48.691877785Z","source_repo":"."}
{"id":"roundtable-avp.2","content_hash":"a7d149bea56fba02ed5fa05022950d6e6af1bb230c3a5c83b8e77c6490dfabb8","title":"Public read API endpoints","description":"**Task:** Implement public read API endpoints for published content\n\n**Priority:** P1 (Critical)\n**Assignee:** FuchsiaCreek (Backend)\n\n## What\nCreate public API endpoints that allow anonymous access to published content without authentication.\n\n## Endpoints\n1. GET /published - List all published posts (paginated)\n2. GET /published/:id - Read single published post\n\n## Implementation\nFile: apps/backend/src/routes/publicRead.ts\n\n```typescript\n// GET /published\n- Filter: posts WHERE public_status = public\n- Pagination: limit=50, offset support\n- Optional filter: circle_id (if circle reading_mode = public-read)\n- NO authentication required\n- Return: id, title, content, author (pseudonym), circle, created_at\n\n// GET /published/:id\n- Return single published post\n- Return 404 if not public\n- NO authentication required\n```\n\n## Acceptance\n- [ ] Endpoints accessible without auth\n- [ ] Only public_status=public posts returned\n- [ ] Pagination works correctly\n- [ ] Circle privacy filter works\n- [ ] Tests passing","acceptance_criteria":"Endpoints accessible without auth; Only public posts returned; Pagination works; Circle privacy filter works; Tests passing","status":"closed","priority":1,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-01T15:07:52.806877587Z","updated_at":"2026-01-01T15:34:48.694317325Z","closed_at":"2026-01-01T15:34:48.694317325Z","source_repo":"."}
{"id":"roundtable-avp.3","content_hash":"155068dd69a24371c8d0cc8ed043682260d9fc6b09be0a1cc429f3e94b2e9a80","title":"Public site styling for reading experience","description":"**Task:** Create calm, public-friendly reading experience\n\n**Priority:** P1 (Critical)\n**Assignee:** OrangePond (Frontend)\n\n## What\nCreate a public-facing reading page with calm, text-first design.\n\n## Implementation\nFile: apps/backend/src/public/published.html\n\n## Design Requirements\n1. Clean, minimal layout (Swiss-spa inspired)\n2. Typography-focused (readability over decoration)\n3. NO \"sign up\" prompts (anti-pattern)\n4. NO engagement metrics (views, likes)\n5. Print-friendly CSS\n6. Mobile-responsive\n\n## Page Sections\n- Header: Simple title \"Roundtable - Public Reading\"\n- Content: List of published posts (chronological)\n- Post View: Clean reading mode when viewing single post\n- Footer: Minimal copyright only\n\n## Acceptance\n- [ ] Published page loads without auth\n- [ ] Design is calm and text-first\n- [ ] No sign-up prompts visible\n- [ ] No metrics shown\n- [ ] Mobile responsive","acceptance_criteria":"Page loads without auth; Calm text-first design; No sign-up prompts; No metrics; Mobile responsive","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-01T15:08:27.878480853Z","updated_at":"2026-01-01T15:34:48.694576054Z","closed_at":"2026-01-01T15:34:48.694576054Z","source_repo":"."}
{"id":"roundtable-avp.4","content_hash":"eeab27b2e570b2ea4fbf07c76edc11511f9000f519ab46d83bdb09b8b4dd75b4","title":"Circle privacy settings UI","description":"**Task:** Add reading_mode control to circle settings\n\n**Priority:** P2\n**Assignee:** OrangePond (Frontend)\n\n## What\nAllow stewards to control the reading_mode setting for their circles.\n\n## Implementation\nFile: apps/backend/src/public/circle-settings.html\n\n## UI Changes\nAdd to circle settings page:\n- Dropdown/select for reading_mode:\n  - Private (default) - Members only\n  - Public Read - Anyone can read published posts\n- Description text explaining each option\n- Save button updates circles table\n\n## Backend API\nFile: apps/backend/src/routes/circleSettings.ts\n\nAdd endpoint:\n- PATCH /api/circles/:circleId/settings\n- Body: { reading_mode: private | public-read }\n- Auth: Requires steward role\n\n## Acceptance\n- [ ] Reading mode selector added to circle settings\n- [ ] Changes persist to database\n- [ ] Only stewards can access settings\n- [ ] UI clearly explains each option","acceptance_criteria":"Reading mode selector in settings; Changes persist; Steward-only access; Clear option descriptions","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-01T15:08:46.929741543Z","updated_at":"2026-01-01T15:34:48.694806443Z","closed_at":"2026-01-01T15:34:48.694806443Z","source_repo":"."}
{"id":"roundtable-avp.5","content_hash":"f23c470a52617f9d3255debe7828f65a934885b1ee5c6c9b7d644c6950e8e0b5","title":"Portal reading mode link","description":"**Task:** Add link to public reading from member portal\n\n**Priority:** P2\n**Assignee:** OrangePond (Frontend)\n\n## What\nAdd a link in the member portal to access the public reading page.\n\n## Implementation\nFiles: apps/backend/src/public/*.html (portal pages)\n\n## Changes\nAdd to portal navigation/header:\n- Link titled \"Public Reading\" or \"Browse Published\"\n- Links to /published\n- Visible to all users (no auth required to click)\n\n## Acceptance\n- [ ] Link visible in portal header\n- [ ] Link navigates to /published\n- [ ] Link works for both authenticated and anonymous users","acceptance_criteria":"Link visible in portal; Navigates to /published; Works for all users","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-01T15:09:02.453130154Z","updated_at":"2026-01-01T15:34:48.695045202Z","closed_at":"2026-01-01T15:34:48.695045202Z","source_repo":"."}
{"id":"roundtable-avp.6","content_hash":"54318ed0aadaf070f2054571c5a4477ffefaafb1a6ed31d27e8a037aa30d911c","title":"E2E tests for public reading","description":"**Task:** Add E2E tests for public reading flow\n\n**Priority:** P2\n**Assignee:** FuchsiaCreek (Backend)\n\n## What\nWrite comprehensive tests for the public reading feature.\n\n## Test File\nFile: apps/backend/test/publicRead.test.ts\n\n## Test Cases\n1. GET /published (no auth)\n   - Returns published posts\n   - Does not return private/draft posts\n   - Pagination works\n\n2. GET /published/:id (no auth)\n   - Returns public post\n   - Returns 404 for private post\n   - Returns 404 for non-existent post\n\n3. Circle privacy filter\n   - Only public-read circles included\n   - Private circles excluded\n\n4. No auth required\n   - Requests succeed without session cookie\n   - No member validation\n\n## Acceptance\n- [ ] Test file created with all cases\n- [ ] All tests passing\n- [ ] Edge cases covered (empty results, invalid IDs)","acceptance_criteria":"Test file created; All tests passing; Edge cases covered","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T15:09:18.494939781Z","updated_at":"2026-01-01T15:34:48.695272641Z","closed_at":"2026-01-01T15:34:48.695272641Z","source_repo":"."}
{"id":"roundtable-avp.7","content_hash":"486d890bf1b306abb511e5a6cf6ad741e0d877dd2fd9c0a6a3e5d792e919aaaf","title":"Documentation updates for anonymous reading","description":"**Task:** Update documentation for anonymous reading feature\n\n**Priority:** P2\n**Assignee:** FuchsiaCreek (Backend)\n\n## What\nDocument the new anonymous reading feature for users and operators.\n\n## Documentation Files\n\n### 1. User Documentation\nFile: docs/features/anonymous-reading.md\n- How to access public reading\n- What content is visible\n- Privacy settings explanation\n\n### 2. Operator Documentation  \nFile: docs/operators/reading-mode.md\n- Circle privacy controls\n- How stewards configure reading_mode\n- What each mode means\n\n### 3. API Documentation\nUpdate: docs/api/public-endpoints.md\n- GET /published endpoint spec\n- Response format\n- Circle privacy filtering\n\n### 4. CLAUDE.md Update\nAdd to project instructions:\n- Public reading architecture\n- Security considerations (no auth, no leaks)\n- Testing public endpoints\n\n## Acceptance\n- [ ] User documentation created\n- [ ] Operator documentation created\n- [ ] API documentation updated\n- [ ] CLAUDE.md updated with architecture notes","acceptance_criteria":"User docs created; Operator docs created; API docs updated; CLAUDE.md updated","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T15:09:33.705372533Z","updated_at":"2026-01-01T15:34:48.69548687Z","closed_at":"2026-01-01T15:34:48.69548687Z","source_repo":"."}
{"id":"roundtable-bl4","content_hash":"169439d651cb7ee04806dae2b84895912956a5a053294bd907fe8a3e13772c4b","title":"Email introduction templates","description":"Create email templates for steward-facilitated introductions. Warm, personal, no-pressure introductions that honor the slow-match philosophy.","acceptance_criteria":"Introduction email template created; includes founder context and operator resonance; warm, personal tone; no-pressure language; option for both parties to withdraw; steward contact for questions; HTML and plain text versions; templating system for personalization; email preview in dashboard","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T06:00:17.079677847Z","updated_at":"2026-01-04T06:14:24.495134517Z","closed_at":"2026-01-04T06:14:24.495134517Z","source_repo":".","labels":["email","epic","ops","slow-match"]}
{"id":"roundtable-bqh","content_hash":"643e7b1bc48d2f819b9b438338121dc8ad2e601d461c4d7a28ffe8ba0a5dcc2a","title":"Analyze broken /sp-* commands and recommend fix approach","description":"","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T11:10:59.269250785Z","updated_at":"2026-01-04T11:20:37.747296126Z","closed_at":"2026-01-04T11:20:37.747296126Z","source_repo":".","labels":["analysis","maf","superpowers","tech-debt"]}
{"id":"roundtable-c0s","content_hash":"7df06aabbbb1ef01a335bdcb53d15e4973bf1a60c5aa616e1d0bfbcba81d5f9e","title":"Implement supervision types","description":"Implement supervision types\n\nLocation: lib/maf/supervision/types.ts\n\nCurrent state: Basic type stubs with 'any' types\n\nRequired implementation:\n- Replace 'any' types with proper interfaces\n- Add JSDoc comments for type documentation\n- Ensure type consistency across supervision module\n- Add validation schemas where appropriate","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T23:57:40.213862706Z","updated_at":"2026-01-04T00:11:21.361359345Z","closed_at":"2026-01-04T00:11:21.361359345Z","source_repo":".","labels":["maf","supervision","types"]}
{"id":"roundtable-c34","content_hash":"210d57ffad729032ebb77220a70cf37b4c24448a6884eabed27f272735ec8a47","title":"Verify muted text color contrast meets WCAG AA","description":"Issue: Muted text color (#6f6f6f) on background (#f7f7f5) may not meet WCAG AA standards.\n\nCurrent CSS (style.css:10):\n--text-muted: #6f6f6f\n\nBackground: --bg-primary: #f7f7f5\n\nCalculated contrast: ~4.5:1 (barely WCAG AA)\n\nTask:\n1. Verify contrast ratio using WebAIM Contrast Checker or similar tool\n2. If below 4.5:1, adjust --text-muted color to meet WCAG AA\n3. Test in both light and dark modes\n4. Ensure text remains readable","acceptance_criteria":"Muted text contrast verified to meet WCAG AA (4.5:1 or higher)\nIf adjusted: new color value meets contrast requirements\nText remains readable in both light and dark modes\nSite builds successfully","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-03T03:24:28.113193503Z","updated_at":"2026-01-03T10:19:28.995531823Z","closed_at":"2026-01-03T10:19:28.995534423Z","source_repo":".","labels":["a11y","accessibility","design","frontend"]}
{"id":"roundtable-c6s","content_hash":"ffd72c1ee1f6ddffbb34737447e845d296aad4f51f78742a0c1e25be4c8d5615","title":"roundtable-reflect-003","description":"","acceptance_criteria":"GET /app/timeline - reflection journey page; chronological timeline of all user's posts and drafts; grouped by month with visual separators; reflection notes displayed inline; 'Add reflection' button on each item; reflection prompt suggestions ('What's changed since this post?', 'What would I tell my past self?'); private and calm design; no sharing or social features; reflection notes persist and update in real-time","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T07:52:42.046771592Z","updated_at":"2026-01-04T09:12:44.012203253Z","closed_at":"2026-01-04T09:12:44.012203253Z","source_repo":".","labels":["epic-6","frontend","portal","reflection"]}
{"id":"roundtable-c9f","content_hash":"52f3ce312ef9426bbd17d5ad00e01c15945d8bdfeff79cbf20a3ef93efbca976","title":"roundtable-metrics-001","description":"","acceptance_criteria":"decision_outcomes table created with room_id, outcome_type (proceed/stop/still-thinking/clarity-achieved), founder_feedback, time_to_decision_days, created_at; foreign key to posts table; indexes for outcome_type and time_to_decision; migration file 039_decision_outcomes.sql created","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T06:52:20.589393384Z","updated_at":"2026-01-04T06:56:20.312237926Z","closed_at":"2026-01-04T06:56:14.705177261Z","source_repo":".","labels":["backend","clarity-metrics","database","epic-4"]}
{"id":"roundtable-clarity-metrics","content_hash":"585e57c723b24c3eafa4fa2b454265826ccf4d045da64082af6eb72dc576cbf0","title":"Clarity Metrics \u0026 PMF Tracking","description":"Measure whether Roundtable achieves its core mission: clarity for founders.\n\nFrom ICP: \"PMF is: Reduced regret, increased clarity, and slower but better decisions.\"\n\nCurrently, Roundtable tracks activity (posts, views) but not outcomes (clarity, decisions). Stewards need visibility into whether Rooms are helping founders decide.\n\nFeatures:\n- Decision outcomes table in database\n- Optional post-Room outcome survey (no-pressure)\n- Steward outcome tracking API\n- Clarity metrics dashboard (steward-only)\n- Gentle outcome reminder emails\n\nSuccess Metrics:\n- % of Rooms ending with clarity (target: \u003e70%)\n- Founder qualitative feedback scores\n- Time-to-clarity tracking","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T16:54:13.089Z","updated_at":"2025-12-31T19:06:46.751749469Z","closed_at":"2025-12-31T17:35:00Z","source_repo":".","labels":["analytics","backend","frontend","metrics","pmf"]}
{"id":"roundtable-czt","content_hash":"6612b7aca29f6a552eda50e577b371948201039c8eec92d6cbbee9092f40c3d2","title":"Phase 10.1: End-to-end happy path test","description":"Implement e2e test: POST inbound email → mock LLM draft → approve via link → trigger publish → run Eleventy build → verify new post appears in circle HTML. Include fixtures and cross-backend/site integration tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:51:53.305903142Z","updated_at":"2025-12-24T12:06:16.424231936Z","closed_at":"2025-12-24T12:06:16.424231936Z","source_repo":".","labels":["e2e","test"]}
{"id":"roundtable-d7f","content_hash":"9852d024c4ad17dabe0f134352c21587e55856c0405d0f937217dca6e607931b","title":"Build Clarity Metrics dashboard for stewards","description":"","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T02:52:12.946468904Z","updated_at":"2026-01-04T03:46:02.968361963Z","closed_at":"2026-01-04T03:46:02.968361963Z","source_repo":".","labels":["analytics","dashboard","epic"]}
{"id":"roundtable-de3","content_hash":"fd6b21de1531d7a351a718c70be3f6002765e4dd1a20e2eb1192d2dcd3c06803","title":"Implement supervisor decisionsPerMinute metric","description":"Calculate decisionsPerMinute from recent decision cycles instead of hardcoding to 0.\n\nLocation: scripts/maf/supervisor.ts:1185\n\nThe activeMetrics object should calculate actual decisions per minute based on recent supervisor cycles, tracking the rate of decisions being made.","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-03T18:20:38.888744822Z","updated_at":"2026-01-03T19:23:59.518922296Z","closed_at":"2026-01-03T19:23:59.518925586Z","source_repo":".","labels":["maf","metrics","supervisor"]}
{"id":"roundtable-dgg","content_hash":"5a381690a5abd55c2567490cf356baa772b850344dcef4e3a910bf2dbf5d9278","title":"Verify and fix Anonymous Reading Mode end-to-end","description":"","status":"closed","priority":1,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T02:52:05.101505893Z","updated_at":"2026-01-04T03:13:58.802534641Z","closed_at":"2026-01-04T03:13:58.802534641Z","source_repo":".","labels":["epic","pmf-core","public-reading"]}
{"id":"roundtable-djg","content_hash":"b085c60a3e8ade28d2c97037892fc4d55309ddc7c226891eea935aadb3ef88a7","title":"Add reflection database schema","description":"Add database schema and API for storing post-decision reflections from founders.\n\nFiles:\n- Database migration: reflections table\n- Backend API: apps/backend/src/routes/reflectionApi.ts\n- Shared schema: packages/shared/src/schemas/reflection.ts\n\nReflection Schema:\n- id (primary key)\n- post_id (foreign key to posts)\n- member_id (foreign key to members)\n- reflection_type (enum: past_self, quarterly_retrospective, check_in)\n- content (text, markdown)\n- clarity_before (integer 1-10)\n- clarity_after (integer 1-10)\n- created_at\n- updated_at\n\nAPI Endpoints:\n- GET /api/posts/:id/reflection - Get reflection for post\n- POST /api/posts/:id/reflection - Create reflection\n- PATCH /api/posts/:id/reflection - Update reflection\n- DELETE /api/posts/:id/reflection - Delete reflection\n\nAcceptance:\n- Reflections table created with proper indexes\n- CRUD API endpoints implemented\n- Zod schema validation for requests\n- Author-only access (verifyPostOwnership helper)\n- Integration with existing post workflow","status":"closed","priority":1,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T15:37:50.529240084Z","updated_at":"2026-01-04T16:17:33.110673412Z","closed_at":"2026-01-04T16:17:33.110673412Z","source_repo":".","labels":["pmf reflection backend"]}
{"id":"roundtable-dka","content_hash":"e1ba4645c35f46b7a9f8906c4ad463eb243a99b5e7d5794de4181629bd7a2904","title":"Fix notificationsMeApi tests drift (valid types + correct route plugin)","description":"test/notificationsMeApi.test.ts currently fails due to (a) invalid notifications.type values violating CHECK constraints, and (b) preference endpoint tests hitting 404 because /api/notifications/* is in notificationsApi routes, not notificationsMeApi routes. Also fix any seed/setup ordering that triggers FK failures.","acceptance_criteria":"- pnpm --filter backend test test/notificationsMeApi.test.ts passes.\n- Tests use a valid notifications.type value (matching current schema constraints).\n- Preference endpoint tests register/target the correct routes plugin(s).","status":"open","priority":2,"issue_type":"task","assignee":"BlueSnow","created_at":"2026-01-02T11:49:15.61538578Z","updated_at":"2026-01-04T18:03:26.194952012Z","source_repo":".","labels":["backend","notifications","test"]}
{"id":"roundtable-drafting-001","content_hash":"b75186c244c6732fb7bd1507f7990828bc8c7207f7df97a9cc0c4cae33cc67ff","title":"Private Drafting - Database migration for drafts table","description":"Add drafts table to enable private founder thinking space.\n\nMigration file: apps/backend/data/migrations/025_drafts.sql\n\nSQL:\nCREATE TABLE IF NOT EXISTS drafts (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  person_id INTEGER NOT NULL,\n  circle_id INTEGER NOT NULL,\n  title TEXT,\n  content TEXT NOT NULL,\n  status TEXT DEFAULT 'private',\n  created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n  updated_at TEXT DEFAULT CURRENT_TIMESTAMP,\n  submitted_at TEXT,\n  FOREIGN KEY (person_id) REFERENCES people(id),\n  FOREIGN KEY (circle_id) REFERENCES circles(id)\n);\nCREATE INDEX IF NOT EXISTS idx_drafts_person_id ON drafts(person_id);\nCREATE INDEX IF NOT EXISTS idx_drafts_circle_id ON drafts(circle_id);\nCREATE INDEX IF NOT EXISTS idx_drafts_status ON drafts(status);\n\nFiles:\n- apps/backend/data/migrations/025_drafts.sql (new)\n\nAcceptance: Migration runs successfully, indexes created, foreign keys enforced.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:54:01.159400453Z","closed_at":"2025-12-31T10:54:01.159400453Z","source_repo":".","labels":["backend","database","migration","private-drafting"],"dependencies":[{"issue_id":"roundtable-drafting-001","depends_on_id":"roundtable-private-drafting","type":"parent-child","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-drafting-002","content_hash":"90a67bd4b2341cf113b4f3f1f0a2aee6a63d95c1b61259bcfb4392abdd42eaa0","title":"Private Drafting - Drafts CRUD API endpoints","description":"Create API endpoints for draft management.\n\nEndpoints:\n- POST /api/drafts - Create draft (auth required)\n- GET /api/drafts - List my drafts (auth required, filtered by person_id)\n- GET /api/drafts/:id - Get single draft (auth required, ownership check)\n- PUT /api/drafts/:id - Update draft (auth required, ownership check)\n- DELETE /api/drafts/:id - Delete draft (auth required, ownership check)\n- POST /api/drafts/:id/submit - Submit to steward queue (auth required, ownership check)\n\nFiles:\n- apps/backend/src/routes/draftsApi.ts (new)\n- apps/backend/src/server.ts (register routes)\n\nAcceptance: All endpoints work, only creator can access their drafts, submit creates post in queue.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:54:01.161738121Z","closed_at":"2025-12-31T10:54:01.161738121Z","source_repo":".","labels":["api","backend","private-drafting"],"dependencies":[{"issue_id":"roundtable-drafting-002","depends_on_id":"roundtable-drafting-001","type":"blocks","created_at":"2025-12-31T02:09:34.347Z","created_by":"root"}]}
{"id":"roundtable-drafting-003","content_hash":"1f4c2c6b5ecb3269e7e68e2474de81e3d277e7259e72be5a03a1aab49c95ba29","title":"Private Drafting - Portal drafts listing page","description":"Add drafts section to member portal.\n\nUI Components:\n- /app/drafts route (new)\n- List all my drafts with:\n  - Title (or \"Untitled draft\")\n  - Preview (first 100 chars of content)\n  - Status badge (private, submitted, published)\n  - Created/updated date (using dateUtils)\n  - Actions: Edit, Delete, Submit (if private)\n- Empty state when no drafts\n- Filter by status (all, private, submitted, published)\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (modify - add /app/drafts route)\n- apps/backend/src/public/css/portal.css (append if needed)\n\nAcceptance: /app/drafts renders draft list, filters work, actions work.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:54:01.162035649Z","closed_at":"2025-12-31T10:54:01.162035649Z","source_repo":".","labels":["frontend","portal","private-drafting","ux"],"dependencies":[{"issue_id":"roundtable-drafting-003","depends_on_id":"roundtable-drafting-002","type":"blocks","created_at":"2025-12-31T02:09:34.347Z","created_by":"root"}]}
{"id":"roundtable-drafting-004","content_hash":"ef83c7528f9358b563c03e447716eee56da92f40fd5ae9a84d12959dde32daa7","title":"Private Drafting - Draft editor with auto-save","description":"Create draft editor with auto-save functionality.\n\nUI Components:\n- /app/drafts/new route (create new draft)\n- /app/drafts/:id/edit route (edit existing draft)\n- Form fields:\n  - Title input (optional)\n  - Content textarea (required, multiline)\n  - Circle selector (for new drafts)\n- Auto-save every 30 seconds (Alpine.js x-init interval)\n- Save indicator (\"Saving...\", \"Saved\")\n- Actions:\n  - Save manually\n  - Submit for approval (if private)\n  - Cancel/Back\n\nAlpine.js auto-save:\n```javascript\nautosave() {\n  setInterval(() =\u003e {\n    if (this.hasChanges) {\n      this.saveDraft();\n    }\n  }, 30000);\n}\n```\n\nFiles:\n- apps/backend/src/routes/memberDrafts.ts (new)\n- apps/backend/src/public/css/portal.css (append if needed)\n\nAcceptance: Draft editor renders, auto-save works, submit flow works.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:54:01.162313988Z","closed_at":"2025-12-31T10:54:01.162313988Z","source_repo":".","labels":["frontend","portal","private-drafting","ux"],"dependencies":[{"issue_id":"roundtable-drafting-004","depends_on_id":"roundtable-drafting-002","type":"blocks","created_at":"2025-12-31T02:09:34.347Z","created_by":"root"}]}
{"id":"roundtable-drafting-005","content_hash":"63120dffd11bca00d07964dbf10ad9a3f0d7b68ed3f95cd9c849218bdcc99267","title":"Private Drafting - Submit draft to queue flow","description":"Connect draft submission to steward queue workflow.\n\nFlow:\n1. Founder clicks \"Submit for approval\" on draft\n2. POST /api/drafts/:id/submit\n3. Backend:\n   - Validates draft is private status\n   - Creates post in posts table (status='pending')\n   - Updates draft status='submitted'\n   - Sets submitted_at timestamp\n   - Sends approval email to stewards (existing flow)\n4. Redirects to /app/drafts with success message\n\nEmail notification:\n- Uses existing sendLoginEmail or similar\n- Includes draft content for approval\n- Steward approves/rejects via existing /approve/:token flow\n\nFiles:\n- apps/backend/src/routes/draftsApi.ts (modify - add submit endpoint)\n- apps/backend/src/routes/internalPublish.ts (verify compatibility)\n\nAcceptance: Submitting draft creates post in queue, stewards receive approval email, approve/reject works.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:54:01.162537406Z","closed_at":"2025-12-31T10:54:01.162537406Z","source_repo":".","labels":["api","backend","email","private-drafting"],"dependencies":[{"issue_id":"roundtable-drafting-005","depends_on_id":"roundtable-drafting-002","type":"blocks","created_at":"2025-12-31T02:09:34.347Z","created_by":"root"},{"issue_id":"roundtable-drafting-005","depends_on_id":"roundtable-drafting-004","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-drafting-006","content_hash":"1fc98477a696e095c279f491d53142acca835451e521344abac8eefd57d95759","title":"Private Drafting - E2E tests for drafting workflow","description":"End-to-end tests for private drafting functionality.\n\nTest file: apps/backend/test/e2e/drafting-workflow.test.ts\n\nTest scenarios:\n1. Create draft as founder\n2. List drafts (only see own drafts)\n3. Update draft\n4. Auto-save functionality\n5. Submit draft to queue\n6. Verify draft status changes to 'submitted'\n7. Verify post created in queue\n8. Steward approves submitted draft\n9. Founder cannot access other founder's drafts\n10. Delete draft\n\nFiles:\n- apps/backend/test/e2e/drafting-workflow.test.ts (new)\n\nAcceptance: All tests pass, coverage for drafting flows.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:54:01.162821416Z","closed_at":"2025-12-31T10:54:01.162821416Z","source_repo":".","labels":["e2e","private-drafting","test","testing"],"dependencies":[{"issue_id":"roundtable-drafting-006","depends_on_id":"roundtable-drafting-005","type":"blocks","created_at":"2025-12-31T02:09:34.347Z","created_by":"root"}]}
{"id":"roundtable-drafting-007","content_hash":"cd975af238e77ac42039d801fc702a831085665a6011ad0afec9651f28eae479","title":"Private Drafting - Documentation updates","description":"Update documentation for private drafting feature.\n\nFiles to update:\n- docs/product/private-drafting.md (new) - User-facing documentation\n- CLAUDE.md - Add private drafting section\n- docs/operations/runbook.md - Add troubleshooting for drafts\n- docs/plan/feature-roadmap.md - Mark epic as complete\n\nAcceptance: All docs updated, feature clearly documented.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T02:09:34.347Z","updated_at":"2025-12-31T10:55:38.193098099Z","closed_at":"2025-12-31T10:55:38.193098099Z","source_repo":".","labels":["documentation","private-drafting"],"dependencies":[{"issue_id":"roundtable-drafting-007","depends_on_id":"roundtable-drafting-005","type":"blocks","created_at":"2025-12-31T02:09:34.347Z","created_by":"root"},{"issue_id":"roundtable-drafting-007","depends_on_id":"roundtable-drafting-006","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-dsg","content_hash":"27422f36d2eb200c1e24bcc4e454fe4e3490fb05a7099ceb199967d8a44249d9","title":"Phase 6.3: Room page rendering as decision memos","description":"Create room page layouts with sections: context, narratives, non-negotiables, risks, questions, milestones. Show archived banner if archived=true. Include snapshot tests to ensure required headings exist.","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-15T17:46:48.005094058Z","updated_at":"2025-12-26T13:13:38.758100066Z","closed_at":"2025-12-26T13:13:38.758100066Z","source_repo":".","labels":["frontend","site"]}
{"id":"roundtable-dw2","content_hash":"da76026189694177ff394830c76cf7c59bca5e67b7b61ef884c008e4876cdddc","title":"Guided Reflection - Help founders capture post-decision clarity","description":"Enable founders to reflect on their decisions and capture clarity gained through the writing process.\n\nCore Hypothesis:\nFounders who reflect on their decisions gain meta-clarity about their decision-making patterns and can better navigate future choices.\n\nValue Prop:\n\"I realized what I don't want\" - Reflection transforms immediate decisions into long-term wisdom.\n\nEpic Scope:\n1. Database schema for storing reflections (roundtable-djg)\n2. Automated reflection prompts after publication (roundtable-ymd)\n3. Reflection form UI for \"past self\" exercise (roundtable-wic)\n\nSuccess Metrics:\n- % of published posts with reflections within 7 days\n- Average clarity increase (before → after)\n- Qualitative feedback on reflection value\n- Retention: Members with reflections return more often\n\nPMF Alignment:\n✅ Directly supports core PMF hypothesis\n✅ Private, no social features\n✅ Small scope (3 beads)\n✅ Improves clarity outcomes\n✅ Low operational burden\n\nAnti-Patterns Avoided:\n❌ No public comparison of reflections\n❌ No gamification (badges for reflecting)\n❌ No vanity metrics (reflection counts)\n❌ No social features (share reflections)\n\nCulture Preservation:\n- Reflections are private to the author\n- No pressure to reflect (opt-out available)\n- Calm, minimal UI design\n- Focus on clarity, not activity","status":"closed","priority":1,"issue_type":"epic","assignee":"OrangePond","created_at":"2026-01-04T15:39:06.458089982Z","updated_at":"2026-01-04T16:17:26.95450348Z","closed_at":"2026-01-04T16:17:26.95450348Z","source_repo":".","labels":["pmf reflection epic"]}
{"id":"roundtable-dyc","content_hash":"7353fdd4a2cd153141a41070bb6faf57ef60225cdb62dbca6b4217cd69f2dbd5","title":"Implement ThresholdManager","description":"Implement ThresholdManager functionality\n\nLocation: lib/maf/supervision/threshold-manager.ts\n\nCurrent state: Stub that always returns true from checkThresholds()\n\nRequired implementation:\n- Define configurable thresholds (CPU, memory, disk, response time)\n- Check current metrics against thresholds\n- Return boolean and trigger alerts when exceeded\n- Support per-agent and system-wide thresholds","notes":"✅ IMPLEMENTED (778 lines) - Full production code, NOT a stub!\n\nFeatures implemented:\n- Configurable thresholds (CPU, memory, disk, context tokens, response time)\n- Check current metrics against thresholds (warning/critical levels)\n- Return boolean and trigger alerts when exceeded\n- Support per-agent and system-wide thresholds\n- Violation history tracking with configurable max size\n- Alert generation with suggested actions\n- Statistics gathering (total, critical, warnings, by metric)\n- Agent-specific threshold overrides\n\nDefault thresholds:\n- CPU: 75% warning, 90% critical\n- Memory: 1GB warning, 2GB critical  \n- Disk: 80% warning, 90% critical\n- Context: 75% warning, 90% critical\n- Response Time: 5s warning, 10s critical\n\nPublic API:\n- checkThresholds() - Full supervision context check\n- checkAgentThresholds() - Per-agent checks\n- checkSystemThresholds() - System-wide checks\n- getAlerts()/clearAlerts() - Alert management\n- getStatistics() - Violation statistics\n- updateConfig()/setAgentThresholds() - Configuration\n","status":"closed","priority":2,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-03T23:57:34.196937743Z","updated_at":"2026-01-04T02:55:24.640395968Z","closed_at":"2026-01-04T01:47:27.719718135Z","source_repo":".","labels":["maf","monitoring","supervision"]}
{"id":"roundtable-e0i","content_hash":"2690eb8a368b592f7c76115b7b8ad8efb542cb4c1c1af0de076be2650781987c","title":"Phase 4.2: Create post drafts and send approval emails","description":"Implement onInboundEmail worker that calls LLM, creates post_drafts with PENDING_APPROVAL status, generates approval tokens, and sends approval emails to stewards. Include email templates with approve/reject/edit links.","status":"closed","priority":2,"issue_type":"task","assignee":"PurpleLake","created_at":"2025-12-15T17:44:41.946435343Z","updated_at":"2025-12-24T04:26:47.990155129Z","closed_at":"2025-12-24T04:26:47.990155129Z","source_repo":".","labels":["backend","email","workflow"]}
{"id":"roundtable-e7v","content_hash":"1275bae5f24dd315659af9e7d358a59e26dfe4ebb26c1507f06537485604a30f","title":"Refactor monitoring to read topology config","description":"Monitoring should report correct roles/panes even if layout changes.\n\nFiles:\n- scripts/maf/tmux-agent-monitor.sh\n\nReplace hardcoded pane lists with topology-derived list. Display agent name and role from topology.\n\nAcceptance:\n- Monitor output shows correct role/name for each pane","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T13:34:57.830842184Z","updated_at":"2026-01-04T14:11:57.185021564Z","closed_at":"2026-01-04T14:11:57.185021564Z","source_repo":".","labels":["maf","refactor"],"dependencies":[{"issue_id":"roundtable-e7v","depends_on_id":"roundtable-qs0","type":"blocks","created_at":"2026-01-04T13:34:57.834401039Z","created_by":"root"}]}
{"id":"roundtable-eo2","content_hash":"59884e0ee7b64ac228653477001556ddcf76227ff27c728c2c16b0a4ae8fd36c","title":"Phase 8.1: Protected internal publish endpoint","description":"Create POST /internal/publish/run endpoint requiring x-internal-secret header. Implement lib/internalAuth.ts for secret validation. Add tests for missing/invalid secret (403) and successful trigger with mocked git.","status":"closed","priority":2,"issue_type":"task","assignee":"PurpleLake","created_at":"2025-12-15T17:49:28.079424621Z","updated_at":"2025-12-18T09:43:55.287837055Z","closed_at":"2025-12-18T09:43:55.287837055Z","source_repo":".","labels":["auth","backend","ops"]}
{"id":"roundtable-et2","content_hash":"a1e8b5d9ec53e50bf2caeba752ccc642371fba315924e0456a5ad5cb45dadb08","title":"Epic: Slow-Match Introductions","description":"Consent-based introduction system for operators and founders. Operators can signal resonance on published posts, founders can see who resonated, and stewards facilitate warm introductions. No pressure, no timelines, full control.","status":"closed","priority":1,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-02T06:42:30.429954823Z","updated_at":"2026-01-02T07:19:29.799123773Z","closed_at":"2026-01-02T07:19:29.799123773Z","source_repo":".","labels":["epic","introductions","pmf-core"]}
{"id":"roundtable-et2.1","content_hash":"7a49c62e8dce94a21c6020ef20da26116f01b3f3e6b36a1443d0f981cb1847ae","title":"Task 1: Database migration for resonances table","description":"Create resonances table for operators to signal interest in published posts. Columns: id, post_id, reader_email (hash), signal_type (resonates/curious/similar-experience), note (optional), created_at","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T06:42:59.877814197Z","updated_at":"2026-01-02T07:19:23.470920027Z","closed_at":"2026-01-02T07:19:23.470920027Z","source_repo":".","labels":["backend","database","migration"]}
{"id":"roundtable-et2.2","content_hash":"af3d5aa9c7c7a5d9f9413707f5f7d62b0a97e7c33a1f6035bd3146046bebb5e7","title":"Task 2: Public resonance API","description":"POST /published/:id/resonate - allow anonymous readers to signal resonance on published posts. No auth required, store hashed email","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T06:43:06.249623247Z","updated_at":"2026-01-02T07:19:17.269127613Z","closed_at":"2026-01-02T07:19:17.269127613Z","source_repo":".","labels":["api","backend","public-reading"],"dependencies":[{"issue_id":"roundtable-et2.2","depends_on_id":"roundtable-et2.1","type":"blocks","created_at":"2026-01-02T06:43:06.254591935Z","created_by":"root"}]}
{"id":"roundtable-et2.3","content_hash":"29ae87210e0bb4765c62faf1d4beeafd685cded8bc1cf69017da115bc158b689","title":"Task 3: Founder resonance view API","description":"GET /api/my-posts/:id/resonances - show founders who resonated with their published posts (anonymized emails). Auth required","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T06:43:12.658556061Z","updated_at":"2026-01-02T07:19:10.942354988Z","closed_at":"2026-01-02T07:19:10.942354988Z","source_repo":".","labels":["api","backend","introductions"],"dependencies":[{"issue_id":"roundtable-et2.3","depends_on_id":"roundtable-et2.2","type":"blocks","created_at":"2026-01-02T06:43:12.662181166Z","created_by":"root"}]}
{"id":"roundtable-et2.4","content_hash":"9fd7c49fa29ebb10a8fef2d492e1ba8f5b394213fb4de7970d1665e27e5122ec","title":"Task 4: Introduction request flow","description":"POST /api/resonances/:id/introduce - founder requests introduction for a resonance. Creates request for steward review","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T06:43:18.962910916Z","updated_at":"2026-01-02T07:19:04.477719357Z","closed_at":"2026-01-02T07:19:04.477719357Z","source_repo":".","labels":["api","backend","introductions"],"dependencies":[{"issue_id":"roundtable-et2.4","depends_on_id":"roundtable-et2.3","type":"blocks","created_at":"2026-01-02T06:43:18.964955598Z","created_by":"root"}]}
{"id":"roundtable-et2.5","content_hash":"951097c50de55d268fe628f635813904ce6db69fc1d67514456bdbcadeb8a5c0","title":"Task 5: Steward introduction dashboard","description":"Portal page for stewards to review introduction requests, see resonance context, and facilitate email introductions","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T06:43:25.391380503Z","updated_at":"2026-01-02T07:18:58.168525773Z","closed_at":"2026-01-02T07:18:58.168525773Z","source_repo":".","labels":["frontend","introductions","portal"],"dependencies":[{"issue_id":"roundtable-et2.5","depends_on_id":"roundtable-et2.4","type":"blocks","created_at":"2026-01-02T06:43:25.395211187Z","created_by":"root"}]}
{"id":"roundtable-et2.6","content_hash":"853beb9cdc4ffc4a2f35af1f82bac4a5056001d0e84c7f089b4510626ac09681","title":"Task 6: Email introduction templates","description":"Create email templates for steward introductions - warm intro with context for both parties","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T06:43:31.71170636Z","updated_at":"2026-01-02T07:18:51.802394233Z","closed_at":"2026-01-02T07:18:51.802394233Z","source_repo":".","labels":["backend","email","introductions"]}
{"id":"roundtable-et2.7","content_hash":"ba5ad6fb0ef4d89f1b2d5c3a45ab37212a90e939ccb55dc80c98223e03c04e64","title":"Task 7: Withdrawal mechanics","description":"Allow either party to withdraw from introduction at any stage. Update status, notify steward, halt flow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T06:43:38.142026847Z","updated_at":"2026-01-02T07:18:45.395360749Z","closed_at":"2026-01-02T07:18:45.395360749Z","source_repo":".","labels":["api","backend","introductions"]}
{"id":"roundtable-et2.8","content_hash":"c2c08d1ad770221dbb4d63568bedabfa36736e3d7b39291ae88b9cc803859474","title":"Task 8: E2E tests for match flow","description":"End-to-end tests for resonance → introduction → steward facilitation flow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T06:43:44.359067133Z","updated_at":"2026-01-02T07:18:39.072810479Z","closed_at":"2026-01-02T07:18:39.072810479Z","source_repo":".","labels":["e2e","introductions","test"],"dependencies":[{"issue_id":"roundtable-et2.8","depends_on_id":"roundtable-et2.4","type":"blocks","created_at":"2026-01-02T06:43:44.363874563Z","created_by":"root"},{"issue_id":"roundtable-et2.8","depends_on_id":"roundtable-et2.5","type":"blocks","created_at":"2026-01-02T06:43:44.365678245Z","created_by":"root"}]}
{"id":"roundtable-et2.9","content_hash":"1dc77498d47a909deb7d0a76a31a24d7634960f400e0e12380cd8268664166bb","title":"Task 9: Documentation and runbook","description":"Document the slow-match introduction process for stewards and founders. Create runbook for facilitation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T06:43:50.721267352Z","updated_at":"2026-01-02T07:18:32.714282499Z","closed_at":"2026-01-02T07:18:32.714282499Z","source_repo":".","labels":["docs","introductions"]}
{"id":"roundtable-fb7","content_hash":"3d9b86b2c520a8429cc9c8b891c88c2cb8bbb6f7582734dd72670ced3e58cba0","title":"Set up backend health check","description":"","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-23T04:43:23.860124488Z","updated_at":"2025-12-26T05:01:16.393046616Z","closed_at":"2025-12-26T05:01:16.393058096Z","source_repo":"."}
{"id":"roundtable-founder-onboarding","content_hash":"1dbc06251b852c60051ffeef847f62cebf7bdcd33e7836f8f0b44f5446673b96","title":"Founder-ready onboarding: portal approvals + welcome + steward invites","description":"Source of truth: docs/plans/onboarding-at-scale.md\n\nGoal: make Roundtable production-ready for onboarding real founders into private circles.\n\nNon-negotiables:\n- Real circles/rooms are always private (membership-gated; no security-by-URL).\n- Tokens are credentials (never log; avoid exposing in HTML/JSON).\n- Approvals happen in the portal (no approve-by-email action links).\n- Public visibility is explicit (only posts marked public are publishable).\n\nAcceptance: All roundtable-founder-onboarding.* tasks closed and the Definition of Done in docs/plans/onboarding-at-scale.md is satisfied (pnpm build/test/e2e green).","acceptance_criteria":"All child tasks closed; DoD in docs/plans/onboarding-at-scale.md satisfied.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-29T10:24:23.286249602Z","updated_at":"2025-12-29T16:59:56.950980016Z","closed_at":"2025-12-29T16:59:56.950980016Z","source_repo":".","labels":["backend","docs","email","epic","onboarding","ops","portal","security"]}
{"id":"roundtable-founder-onboarding.1","content_hash":"f9359d336a71c88e85b55313cff2856582b3407d0b38e1f9e731405103a9d00a","title":"Task 1: Steward review queue (portal SSR) + approve/reject","description":"Implement Task 1 in docs/plans/onboarding-at-scale.md.\n\nAdd a calm steward-only review queue in the member portal. Approvals must happen inside the portal (SSR), not via email.\n\nRequirements\n- Route: GET /app/circles/:id/steward (stewards only; non-stewards 404)\n- Show a single-screen Pending list (subject, author, received time, preview)\n- Detail view shows full draft\n- Actions: Approve (posts.status='approved'), Reject (posts.status='rejected')\n\nFiles\n- apps/backend/src/routes/memberPages.ts (or split into new route file and register in apps/backend/src/server.ts)\n- apps/backend/src/lib/requireMember.ts (optional helper: requireSteward)\n- apps/backend/test/stewardQueue.test.ts (new)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/lib/requireMember.ts\n- apps/backend/test/stewardQueue.test.ts\n(reason=roundtable-founder-onboarding.1)\n\nTDD\n- Add the failing test first (Fastify inject + temp SQLite DB).","acceptance_criteria":"pnpm --filter backend test apps/backend/test/stewardQueue.test.ts","notes":"Steward review queue routes already implemented in memberPages.ts. Added dedicated stewardQueue.test.ts with 6 passing tests.","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-29T10:26:06.587383001Z","updated_at":"2025-12-30T06:45:18.83178381Z","closed_at":"2025-12-30T06:45:18.83178381Z","source_repo":".","labels":["approvals","backend","onboarding","portal","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.1","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:07.905081204Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.10","content_hash":"78498428682cee76959173b671cf1f1a4d90b112b465a9e05b1909c5981d37b8","title":"Task 10: Mark public guardrail in portal (confirm step)","description":"Implement Task 10 in docs/plans/onboarding-at-scale.md.\n\nMarking a post public should be deliberate.\n\nRequirements\n- In steward post detail UI, add 'Mark public' button\n- Show confirm: “This will appear on the public site.” (confirm/cancel)\n- On confirm, call existing POST /api/my/circles/:circleId/posts/:postId/make-public\n\nFiles\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/routes/memberApi.ts (reuse existing endpoint)\n- apps/backend/test/memberPublishControls.test.ts (update/add cases)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/routes/memberApi.ts\n- apps/backend/test/memberPublishControls.test.ts\n(reason=roundtable-founder-onboarding.10)\n\nDepends on\n- roundtable-founder-onboarding.1","acceptance_criteria":"pnpm --filter backend test apps/backend/test/memberPublishControls.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:26:07.505668309Z","updated_at":"2025-12-30T04:09:15.673191139Z","closed_at":"2025-12-30T04:09:15.673191139Z","source_repo":".","labels":["backend","onboarding","portal","publish","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.10","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.838648615Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.10","depends_on_id":"roundtable-founder-onboarding.1","type":"blocks","created_at":"2025-12-29T10:26:09.99541496Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.11","content_hash":"35625aad1f5290dfcd46a5221faf2d8e012d7b275030c764d07000c085cea950","title":"Task 11: Receipt email to author (received, pending review)","description":"Implement Task 11 in docs/plans/onboarding-at-scale.md.\n\nSend a confirmation email to the author when their update is received (reduces anxiety + pings).\n\nBehavior\n- After creating the pending post, send a short email: “Received. Pending steward review.”\n- Must be best-effort; missing SMTP must not block draft creation.\n\nFiles\n- apps/backend/src/workers/onInboundEmail.ts\n- apps/backend/src/email/sendReceiptEmail.ts (new)\n- apps/backend/test/onInboundEmail.test.ts (update)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/workers/onInboundEmail.ts\n- apps/backend/src/email/**\n- apps/backend/test/onInboundEmail.test.ts\n(reason=roundtable-founder-onboarding.11)\n\nDepends on\n- roundtable-founder-onboarding.3 (avoid merge conflicts)","acceptance_criteria":"pnpm --filter backend test apps/backend/test/onInboundEmail.test.ts","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T10:26:07.602504354Z","updated_at":"2025-12-30T04:05:34.328199847Z","closed_at":"2025-12-30T04:05:34.328199847Z","source_repo":".","labels":["backend","email","onboarding","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.11","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.937076571Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.11","depends_on_id":"roundtable-founder-onboarding.3","type":"blocks","created_at":"2025-12-29T10:26:10.090133971Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.12","content_hash":"9e065380c623182cc4a0bb6137ad3d77459ed7355c1ed0a5070e6db7f71f8a55","title":"Task 12: Update SOP + runbook for portal approvals","description":"Implement Task 12 in docs/plans/onboarding-at-scale.md.\n\nUpdate docs so an operator can onboard founders without reading code, and docs match portal-only approvals.\n\nFiles\n- docs/operations/onboarding-sop.md\n- docs/operations/runbook.md\n- (Optional) docs/plans/private-circles-production.md (align wording)\n\nManual verification (staging)\n- Create circle + steward invite\n- Join → Welcome → circle page\n- Inbound email draft → steward reviews + approves in portal\n- Mark public with confirm\n- Publish run → site shows only public post under /published/\n\nDepends on completion of the behavior-changing tasks.","acceptance_criteria":"Docs updated and verified against staging flow","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T10:26:07.695576575Z","updated_at":"2025-12-30T04:10:50.528557981Z","closed_at":"2025-12-30T04:10:50.528557981Z","source_repo":".","labels":["docs","onboarding","ops"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:09.028325674Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.1","type":"blocks","created_at":"2025-12-29T10:26:10.196671774Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.2","type":"blocks","created_at":"2025-12-29T10:26:10.292625947Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.3","type":"blocks","created_at":"2025-12-29T10:26:10.38542841Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.4","type":"blocks","created_at":"2025-12-29T10:26:10.482754145Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.5","type":"blocks","created_at":"2025-12-29T10:26:10.574623954Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.6","type":"blocks","created_at":"2025-12-29T10:26:10.669973971Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.7","type":"blocks","created_at":"2025-12-29T10:26:10.763131371Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.8","type":"blocks","created_at":"2025-12-29T10:26:10.862412093Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.9","type":"blocks","created_at":"2025-12-29T10:26:10.959919935Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.10","type":"blocks","created_at":"2025-12-29T10:26:11.054749656Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.12","depends_on_id":"roundtable-founder-onboarding.11","type":"blocks","created_at":"2025-12-29T10:26:11.15817778Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.13","content_hash":"94c52894c68b0f1287080868fb5a287bec0c421f3796fa426dc0b1f4a7a35b14","title":"Task 13: E2E golden-path test (founder onboarding + portal approvals)","description":"Implement Task 13 in docs/plans/onboarding-at-scale.md.\n\nAdd a single readable E2E test that covers the founder onboarding golden path.\n\nScenario\n- Create circle + invite steward\n- Accept invite (session cookie)\n- Create inbound email draft\n- Steward loads portal queue and approves\n- Verify circle page includes approved post\n\nFiles\n- apps/backend/test/e2e/founder-onboarding-portal-approvals.test.ts (new)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/test/e2e/founder-onboarding-portal-approvals.test.ts\n(reason=roundtable-founder-onboarding.13)\n\nDepends on\n- roundtable-founder-onboarding.1\n- roundtable-founder-onboarding.2\n- roundtable-founder-onboarding.3\n- roundtable-founder-onboarding.5\n- roundtable-founder-onboarding.6","acceptance_criteria":"pnpm --filter backend test:e2e -- founder-onboarding-portal-approvals.test.ts","status":"open","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-29T10:26:07.78951943Z","updated_at":"2026-01-04T18:07:12.098277683Z","source_repo":".","labels":["backend","e2e","onboarding","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.13","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:09.110934974Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.13","depends_on_id":"roundtable-founder-onboarding.1","type":"blocks","created_at":"2025-12-29T10:26:11.25304103Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.13","depends_on_id":"roundtable-founder-onboarding.2","type":"blocks","created_at":"2025-12-29T10:26:11.350858071Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.13","depends_on_id":"roundtable-founder-onboarding.3","type":"blocks","created_at":"2025-12-29T10:26:11.449183619Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.13","depends_on_id":"roundtable-founder-onboarding.5","type":"blocks","created_at":"2025-12-29T10:26:11.523819631Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.13","depends_on_id":"roundtable-founder-onboarding.6","type":"blocks","created_at":"2025-12-29T10:26:11.632982469Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.2","content_hash":"7e696aff898f630e501f09df1914d5df40fdd5d709d15795f653e6ccfeb8fb19","title":"Task 2: Login page + safe deep-link redirects","description":"Implement Task 2 in docs/plans/onboarding-at-scale.md.\n\nAdd a minimal HTML login request page and safe deep-link redirects after magic login.\n\nRequirements\n- GET /login renders HTML form (email input) that POSTs to /login/request\n- /login/request supports JSON and x-www-form-urlencoded\n- Always respond generically (avoid email enumeration)\n- GET /login/:token supports ?next=/app/... and only allows relative paths that start with /app; otherwise fallback to /app\n\nFiles\n- apps/backend/src/routes/memberLogin.ts\n- apps/backend/test/memberLoginPage.test.ts (new)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/memberLogin.ts\n- apps/backend/test/memberLoginPage.test.ts\n(reason=roundtable-founder-onboarding.2)\n\nTDD\n- Start with the open-redirect test for ?next validation.","acceptance_criteria":"pnpm --filter backend test apps/backend/test/memberLoginPage.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:26:06.695383644Z","updated_at":"2025-12-30T06:55:59.172411413Z","closed_at":"2025-12-30T06:55:59.172411413Z","source_repo":".","labels":["auth","backend","onboarding","portal","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.2","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.012537481Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.3","content_hash":"013860ac21c8203444bc7767495787854ad797ee639a0adcf99a926d74bbb90d","title":"Task 3: Steward notification emails deep-link to portal queue (no action links)","description":"Implement Task 3 in docs/plans/onboarding-at-scale.md.\n\nReplace approve/reject action links in steward emails with a single 'Review in portal' deep link.\n\nRecommended approach\n- For each steward, create a member_login_tokens row and email:\n  /login/:token?next=/app/circles/\u003ccircleId\u003e/steward\n\nRequirements\n- Email includes circle name, masked author, title + short preview\n- No approve/reject URLs in emails\n- Draft creation must still succeed when SMTP is missing (email send is best-effort)\n\nFiles\n- apps/backend/src/workers/onInboundEmail.ts\n- apps/backend/src/email/sendApprovalEmail.ts (replace or stop using)\n- apps/backend/src/routes/memberLogin.ts (uses Task 2 ?next support)\n- apps/backend/test/onInboundEmail.test.ts (update)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/workers/onInboundEmail.ts\n- apps/backend/src/email/sendApprovalEmail.ts\n- apps/backend/src/routes/memberLogin.ts\n- apps/backend/test/onInboundEmail.test.ts\n(reason=roundtable-founder-onboarding.3)\n\nDepends on\n- roundtable-founder-onboarding.1 (portal queue exists)\n- roundtable-founder-onboarding.2 (safe deep-link redirects)","acceptance_criteria":"pnpm --filter backend test apps/backend/test/onInboundEmail.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-29T10:26:06.797003269Z","updated_at":"2025-12-30T07:10:39.869656896Z","closed_at":"2025-12-30T07:10:39.869656896Z","source_repo":".","labels":["approvals","backend","email","onboarding","security","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.3","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.120086727Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.3","depends_on_id":"roundtable-founder-onboarding.1","type":"blocks","created_at":"2025-12-29T10:26:09.202121177Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.3","depends_on_id":"roundtable-founder-onboarding.2","type":"blocks","created_at":"2025-12-29T10:26:09.298305318Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.4","content_hash":"0006516633ee8f78f4d1693cc5f4379a8d4bb0d88ef7507abc003e5958c7d994","title":"Task 4: Disable approve-by-email endpoints (410 + portal next step)","description":"Implement Task 4 in docs/plans/onboarding-at-scale.md.\n\nDeprecate /approve/:token and /reject/:token so old emails don't break, but they no longer mutate state.\n\nBehavior\n- Return 410 with a calm message and link to /login\n- Keep token safety headers (no-store/no-referrer)\n- Do NOT update posts from these endpoints\n\nFiles\n- apps/backend/src/routes/approvals.ts\n- apps/backend/test/approvalRoutes.test.ts (update expectations)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/approvals.ts\n- apps/backend/test/approvalRoutes.test.ts\n(reason=roundtable-founder-onboarding.4)\n\nDepends on\n- roundtable-founder-onboarding.3","acceptance_criteria":"pnpm --filter backend test apps/backend/test/approvalRoutes.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:26:06.895438694Z","updated_at":"2025-12-30T04:02:06.561087983Z","closed_at":"2025-12-30T04:02:06.561087983Z","source_repo":".","labels":["approvals","backend","onboarding","security","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.4","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.22495818Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.4","depends_on_id":"roundtable-founder-onboarding.3","type":"blocks","created_at":"2025-12-29T10:26:09.399996824Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.5","content_hash":"cda7e4e80667499720968514fba08c3e11f85eaba974053c4b610f0bb335d48d","title":"Task 5: One-time Welcome page on join (circle name + privacy promise + display name)","description":"Implement Task 5 in docs/plans/onboarding-at-scale.md.\n\nAdd a one-time Welcome page shown after accepting an invite.\n\nWelcome page must show ONLY\n- “You are joining \u003cCircle Name\u003e”\n- 2-line privacy promise\n- optional display name\n- “Enter circle”\n\nImplementation\n- Migration: add circle_members.welcome_seen_at\n- After join success, redirect to /app/welcome?circle=\u003ccircleId\u003e\n- GET /app/welcome requires session + membership; if already seen, redirect to /app/circles/:id\n- POST /app/welcome updates people.display_name (optional) + sets welcome_seen_at then redirects\n\nFiles\n- apps/backend/data/migrations/007_circle_member_welcome.sql (new)\n- apps/backend/src/routes/invites.ts\n- apps/backend/src/routes/memberPages.ts (or a new route file)\n- apps/backend/test/welcomePage.test.ts (new)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/invites.ts\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/data/migrations/**\n- apps/backend/test/welcomePage.test.ts\n(reason=roundtable-founder-onboarding.5)","acceptance_criteria":"pnpm --filter backend test apps/backend/test/welcomePage.test.ts","notes":"Welcome page already implemented in memberPages.ts. Invite redirects to /app/welcome. Migration 007_circle_member_welcome.sql adds welcome_seen_at column. 9/9 tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:26:06.998964516Z","updated_at":"2025-12-30T04:02:38.411768664Z","closed_at":"2025-12-30T04:02:38.411768664Z","source_repo":".","labels":["backend","db","onboarding","portal","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.5","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.331875821Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.6","content_hash":"2869fe15522f80aaeef9d8a646b7ae98cfa454b24d6d06e68af74b5489faa719","title":"Task 6: /app redirect-to-single-circle + minimal helper panels","description":"Implement Task 6 in docs/plans/onboarding-at-scale.md.\n\nMake /app calm and useful.\n\nBehavior\n- If member has exactly 1 active circle (and no special params), redirect /app → /app/circles/:id\n- Otherwise render /app with:\n  - circles list\n  - pending drafts count for stewards (links to /app/circles/:id/steward)\n  - 'Email me my submission address' button (hook to Task 8 endpoint)\n\nFiles\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/test/memberPages.test.ts (update)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/test/memberPages.test.ts\n(reason=roundtable-founder-onboarding.6)\n\nDepends on\n- roundtable-founder-onboarding.5 (welcome flow)\n- roundtable-founder-onboarding.8 (submission-address self-serve endpoint exists)","acceptance_criteria":"pnpm --filter backend test apps/backend/test/memberPages.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:26:07.101744632Z","updated_at":"2025-12-30T04:06:25.666087458Z","closed_at":"2025-12-30T04:06:25.666087458Z","source_repo":".","labels":["backend","onboarding","portal","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.6","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.433633375Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.6","depends_on_id":"roundtable-founder-onboarding.5","type":"blocks","created_at":"2025-12-29T10:26:09.48619823Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.6","depends_on_id":"roundtable-founder-onboarding.8","type":"blocks","created_at":"2025-12-29T10:26:09.585342082Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.7","content_hash":"31d374138edfa9a1b5f5e3b8e852527489c0218b15cd69241d6ac400a5b781f8","title":"Task 7: Link invite to submission token ownership (per-member tokens)","description":"Implement Task 7 in docs/plans/onboarding-at-scale.md.\n\nMake submission addresses truly per-member.\n\nGoal\n- The submission address sent in the invite email should be attributable to that person and revocable/rotatable per person.\n\nImplementation\n- Add circle_invites.submission_token_id (migration)\n- When creating an invite (internal admin), store the created submission token id on the invite row\n- On invite acceptance, set submission_tokens.person_id to the invited person for that invite's token\n\nFiles\n- apps/backend/data/migrations/008_invite_submission_token.sql (new)\n- apps/backend/src/routes/internalAdmin.ts\n- apps/backend/src/routes/invites.ts\n- apps/backend/test/internalAdmin.test.ts (update)\n- apps/backend/test/inviteAcceptance.test.ts (update)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/internalAdmin.ts\n- apps/backend/src/routes/invites.ts\n- apps/backend/data/migrations/**\n- apps/backend/test/internalAdmin.test.ts\n- apps/backend/test/inviteAcceptance.test.ts\n(reason=roundtable-founder-onboarding.7)","acceptance_criteria":"pnpm --filter backend test apps/backend/test/inviteAcceptance.test.ts","notes":"Per-member submission token ownership implemented. Migration 008 adds circle_invites.submission_token_id. internalAdmin.ts creates and links token. invites.ts sets person_id on acceptance. All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:26:07.214176996Z","updated_at":"2025-12-30T04:06:40.175113026Z","closed_at":"2025-12-30T04:06:40.175113026Z","source_repo":".","labels":["backend","db","email","onboarding","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.7","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.527938428Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.8","content_hash":"61e1fcdd14b75739dd294acaa78948acb3060c67b0140ceb04caf4b7870d3979","title":"Task 8: Self-serve submission address (email me my plus-address)","description":"Implement Task 8 in docs/plans/onboarding-at-scale.md.\n\nMembers can recover/rotate their submission address without the portal ever displaying the token.\n\nImplementation\n- Add POST action (e.g., /app/circles/:id/submission-address/email) that:\n  - requires session + membership\n  - creates new submission token for (circle, person)\n  - revokes old tokens for (circle, person) (recommended)\n  - emails the member their new plus-address\n  - redirects back to /app with a generic banner\n- Rate limit this endpoint.\n\nFiles\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/email/sendSubmissionAddressEmail.ts (new)\n- apps/backend/src/lib/onboardingRepo.ts (add rotate/create helper)\n- apps/backend/test/submissionAddressSelfServe.test.ts (new)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/lib/onboardingRepo.ts\n- apps/backend/src/email/**\n- apps/backend/test/submissionAddressSelfServe.test.ts\n(reason=roundtable-founder-onboarding.8)\n\nDepends on\n- roundtable-founder-onboarding.7","acceptance_criteria":"pnpm --filter backend test apps/backend/test/submissionAddressSelfServe.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:26:07.305074371Z","updated_at":"2025-12-30T04:06:51.19728222Z","closed_at":"2025-12-30T04:06:51.19728222Z","source_repo":".","labels":["backend","email","onboarding","portal","security","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.8","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.632977601Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.8","depends_on_id":"roundtable-founder-onboarding.7","type":"blocks","created_at":"2025-12-29T10:26:09.690507944Z","created_by":"daemon"}]}
{"id":"roundtable-founder-onboarding.9","content_hash":"50d79bf8225dc59c2d82ae004192a8b7bf27ddb174cce1085fcae7eb4b8984f3","title":"Task 9: Steward invites from portal (no internal admin required)","description":"Implement Task 9 in docs/plans/onboarding-at-scale.md.\n\nAllow stewards to invite members from the portal.\n\nRequirements\n- UI: add invite form to /app/circles/:id/steward (email + role)\n- Server: create invite + submission token + send email (reuse internal admin logic carefully)\n- Show a one-time confirmation page that includes join link + submission address ONLY for the steward.\n  - Never store raw tokens; only show on the HTTP response.\n  - Apply token safety headers.\n\nFiles\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/routes/memberApi.ts (or new steward route file)\n- apps/backend/src/email/sendInviteEmail.ts (copy tweaks)\n- apps/backend/test/stewardInvites.test.ts (new)\n- docs/operations/onboarding-sop.md (update)\n\nFile reservation hint (exclusive, 2h)\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/src/routes/memberApi.ts\n- apps/backend/src/email/sendInviteEmail.ts\n- apps/backend/test/stewardInvites.test.ts\n- docs/operations/onboarding-sop.md\n(reason=roundtable-founder-onboarding.9)\n\nDepends on\n- roundtable-founder-onboarding.1 (steward page exists)\n- roundtable-founder-onboarding.7 (invite↔submission token linkage)","acceptance_criteria":"pnpm --filter backend test apps/backend/test/stewardInvites.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:26:07.40768986Z","updated_at":"2025-12-30T04:08:05.102889131Z","closed_at":"2025-12-30T04:08:05.102889131Z","source_repo":".","labels":["backend","email","onboarding","portal","security","test"],"dependencies":[{"issue_id":"roundtable-founder-onboarding.9","depends_on_id":"roundtable-founder-onboarding","type":"parent-child","created_at":"2025-12-29T10:26:08.738269452Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.9","depends_on_id":"roundtable-founder-onboarding.1","type":"blocks","created_at":"2025-12-29T10:26:09.798566827Z","created_by":"daemon"},{"issue_id":"roundtable-founder-onboarding.9","depends_on_id":"roundtable-founder-onboarding.7","type":"blocks","created_at":"2025-12-29T10:26:09.894834088Z","created_by":"daemon"}]}
{"id":"roundtable-fv9","content_hash":"2824d072ee8884fada009d826f56ef1bda0c14e906ad0de87017a0db4294de7a","title":"Docs hygiene: archive superseded plan docs + fix migration path drift","description":"Reduce agent confusion by archiving superseded docs under docs/archive/ and leaving stubs pointing at canonical docs; also fix drifted references like apps/backend/data/migrations -\u003e apps/backend/migrations.","acceptance_criteria":"- No docs reference apps/backend/data/migrations (repo uses apps/backend/migrations).\n- Superseded docs under docs/plan and docs/plans are archived under docs/archive/{plan,plans}/ with in-place stubs pointing to archived copy + canonical doc when applicable.\n- docs/README.md documents docs/archive/ as historical reference.","status":"closed","priority":3,"issue_type":"chore","assignee":"ChartreuseHill","created_at":"2026-01-02T15:07:13.525384058Z","updated_at":"2026-01-02T15:07:35.61757159Z","closed_at":"2026-01-02T15:07:35.61757159Z","source_repo":".","labels":["docs","maintenance"]}
{"id":"roundtable-g57","content_hash":"343e210540cf0f30d83964c9eb9b32e36459f01f25f564fa99ee5077a8f343b1","title":"Refactor prompt routing to read topology config","description":"Stop hardcoding pane numbers and names across scripts.\n\nFiles:\n- scripts/maf/prompt-agent.sh\n- scripts/maf/broadcast-role-prompts.sh\n\nParse .maf/config/agent-topology.json to find pane target for role/alias. Keep behavior same: literal send + separate Enter.\n\nAcceptance:\n- Prompts land in correct panes based on JSON config\n- CLI UX preserved (prompt-agent supervisor still works)","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T13:34:51.752342559Z","updated_at":"2026-01-04T14:12:03.25299789Z","closed_at":"2026-01-04T14:12:03.25299789Z","source_repo":".","labels":["maf","refactor"],"dependencies":[{"issue_id":"roundtable-g57","depends_on_id":"roundtable-qs0","type":"blocks","created_at":"2026-01-04T13:34:51.759246449Z","created_by":"root"}]}
{"id":"roundtable-gbb","content_hash":"341616aa2c2af51af5d4f2418c200da504769d41c3fc4e20ff13d102986f1dfb","title":"roundtable-mgmt-001","description":"","acceptance_criteria":"GET /api/circles/:circleId/members - list all circle members (steward-only); PATCH /api/circles/:circleId/members/:personId/role - update member role (founder/operator/advisor/steward); DELETE /api/circles/:circleId/members/:personId - remove member from circle (steward-only); role validation; member activity tracking fields returned; proper authorization checks (steward only)","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T07:37:14.238222762Z","updated_at":"2026-01-04T07:41:11.454875835Z","closed_at":"2026-01-04T07:41:11.454875835Z","source_repo":".","labels":["api","backend","circle-management","epic-5"]}
{"id":"roundtable-goy","content_hash":"d274bf9c5aae75273408672cad3783dbfad4b518cc53feb4e55bf2b8bcc58c74","title":"Documentation and runbook","description":"Create comprehensive documentation and runbook for the slow-match introduction system. Product doc, API reference, steward runbook, and operator guide.","acceptance_criteria":"Product doc created (docs/product/slow-match.md); API reference created; Steward runbook with best practices; Operator guide for resonance signals; Withdrawal process documentation; Privacy and GDPR notes; Integration with existing docs; Examples and screenshots; Runbook for troubleshooting","status":"closed","priority":2,"issue_type":"task","assignee":"GreenMountain","created_at":"2026-01-04T06:01:46.258266761Z","updated_at":"2026-01-04T06:14:54.704072922Z","closed_at":"2026-01-04T06:14:54.704072922Z","source_repo":".","labels":["docs","epic","ops","slow-match"]}
{"id":"roundtable-h5t","content_hash":"a99d493a6d08541b756937618229268f2901f16ac6f6f120ed7c3b71fc600124","title":"Implement agent memory cleanup service","description":"Implement the 'clean' command in agent-memory.sh to purge old/stale memories.\n\nLocation: scripts/maf/agent-memory.sh:291\n\nThe clean command exists as a stub but needs implementation. Should:\n- Define what constitutes 'old' memory (e.g., older than N days)\n- Provide options for cleanup scope (by age, by agent, by tag)\n- Confirm before deletion or support --force flag\n- Log cleanup actions for audit trail","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T18:20:55.004854758Z","updated_at":"2026-01-03T20:41:36.60762307Z","closed_at":"2026-01-03T20:41:36.60762618Z","source_repo":".","labels":["cleanup","maf","memory"]}
{"id":"roundtable-hqi","content_hash":"fd3f26d068342efe2bf88063bb64b35b38ff4816fdb3125112e758e8c8e9fcab","title":"roundtable-reflect-002","description":"","acceptance_criteria":"POST /api/posts/:id/reflection - create reflection note on post; PATCH /api/posts/:id/reflection - update reflection note; DELETE /api/posts/:id/reflection - remove reflection note; POST /api/drafts/:id/reflection - create reflection note on draft; PATCH /api/drafts/:id/reflection - update reflection note; DELETE /api/drafts/:id/reflection - remove reflection note; reflection_note stored in database; author-only access","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T07:52:31.195471979Z","updated_at":"2026-01-04T09:12:34.222309656Z","closed_at":"2026-01-04T09:12:34.222309656Z","source_repo":".","labels":["api","backend","epic-6","reflection"]}
{"id":"roundtable-improvements-v1","content_hash":"a15f08af0fd72383a7fb1536b3108d93c5b4bdbbf00fc2b90e8ebc92c08f4121","title":"Improvements V1: UX polish + monitoring + email delivery","description":"Source of truth: docs/plans/improvements-v1.md (to be created)\n\nGoal: improve member experience, operational visibility, and email reliability.\n\nFocus areas:\n- Member portal UX (activity feed, search, navigation)\n- Operational monitoring (health metrics, alerts)\n- Email deliverability (bounce handling, retry logic)\n- Performance (response times, caching)\n\nAcceptance: All roundtable-improvements-v1.* tasks closed and all tests pass.","acceptance_criteria":"All child tasks closed; pnpm build/test/e2e green.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T11:10:39.256015348Z","closed_at":"2025-12-30T11:10:39.256015348Z","source_repo":".","labels":["backend","dx","email","improvements","monitoring","ux"]}
{"id":"roundtable-improvements-v1.1","content_hash":"9f32bfa3b399de0a8573d51e23beec7f42d6bf952be88969c1acae4b042e19aa","title":"Task 1: Activity feed on member portal home","description":"Add an activity feed to /app showing recent posts in member's circles.\n\nRequirements\n- Show last 10 posts across all member's circles\n- Include: title, author (masked), status, timestamp\n- Link to circle detail page\n- Empty state when no activity\n\nFiles\n- apps/backend/src/routes/memberPages.ts (update /app route)\n- apps/backend/test/memberPages.test.ts (add feed tests)\n\nAcceptance: pnpm --filter backend test apps/backend/test/memberPages.test.ts","acceptance_criteria":"pnpm --filter backend test apps/backend/test/memberPages.test.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T09:13:23.872548102Z","closed_at":"2025-12-30T09:13:23.872550962Z","source_repo":".","labels":["backend","portal","ux"]}
{"id":"roundtable-improvements-v1.2","content_hash":"4190205b52f190d28b9dde5cbf47f87806fb583b042c9595b733af92198bd56f","title":"Task 2: Search posts in circle","description":"Add search functionality to find posts within a circle.\n\nRequirements\n- Add /app/circles/:id?search=q query parameter\n- Search title + content (case-insensitive)\n- Show results with highlighted matches\n- Return all posts if query empty\n\nFiles\n- apps/backend/src/routes/memberPages.ts\n- apps/backend/test/circleSearch.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/circleSearch.test.ts","acceptance_criteria":"pnpm --filter backend test apps/backend/test/circleSearch.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T10:20:23.679674174Z","closed_at":"2025-12-30T10:20:23.679674174Z","source_repo":".","labels":["backend","portal","ux"]}
{"id":"roundtable-improvements-v1.3","content_hash":"748aa7591161ede787fb3e3d13f2241eb53b25e0d607ba5144d1d023f2a4101f","title":"Task 3: Health metrics endpoint","description":"Add /internal/metrics endpoint for operational monitoring.\n\nRequirements\n- Return JSON with: db_size, pending_posts, active_sessions, publish_last_run\n- Require x-internal-secret header\n- Include cache headers (5min TTL)\n\nFiles\n- apps/backend/src/routes/internalMetrics.ts (new)\n- apps/backend/src/server.ts\n- apps/backend/test/internalMetrics.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/internalMetrics.test.ts","acceptance_criteria":"pnpm --filter backend test apps/backend/test/internalMetrics.test.ts","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2026-01-04T18:03:38.295460619Z","source_repo":".","labels":["backend","monitoring","ops"]}
{"id":"roundtable-improvements-v1.4","content_hash":"f7aa5b056af3a66e3817630462d5225d2f4fe98840536c8563d8435dffd93d31","title":"Task 4: Email bounce handling","description":"Handle bounced emails to disable bad addresses.\n\nRequirements\n- Add POST /inbound/bounce webhook endpoint\n- Track bounce_count on people table\n- After 3 bounces, mark person.status='bounced'\n- Skip sending to bounced email addresses\n\nFiles\n- apps/backend/data/migrations/009_person_bounce_count.sql\n- apps/backend/src/routes/inboundBounce.ts (new)\n- apps/backend/src/email/sendApprovalEmail.ts (check bounce status)\n- apps/backend/test/emailBounceHandling.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/emailBounceHandling.test.ts","acceptance_criteria":"pnpm --filter backend test apps/backend/test/emailBounceHandling.test.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T09:55:20.78809295Z","closed_at":"2025-12-30T09:55:20.78809549Z","source_repo":".","labels":["backend","email","reliability"]}
{"id":"roundtable-improvements-v1.5","content_hash":"35b618eec6729c1b1f066dcb066eaf08ddf2bf386c07e98e7011be88068f9f27","title":"Task 5: Email retry with exponential backoff","description":"Retry failed emails with exponential backoff.\n\nRequirements\n- Track email_send_count and last_send_attempt on pending posts\n- Background job retries every 5min, 15min, 30min, 60min\n- Max 4 retry attempts before marking failed\n- Use cron or similar scheduler\n\nFiles\n- apps/backend/data/migrations/010_email_retry_tracking.sql\n- apps/backend/src/workers/emailRetryWorker.ts (new)\n- apps/backend/src/workers/onInboundEmail.ts (set initial state)\n- apps/backend/test/emailRetry.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/emailRetry.test.ts","acceptance_criteria":"pnpm --filter backend test apps/backend/test/emailRetry.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T11:01:06.322639347Z","closed_at":"2025-12-30T11:01:06.322639347Z","source_repo":".","labels":["backend","email","reliability"]}
{"id":"roundtable-improvements-v1.6","content_hash":"dc1f97419ed60fe2a7c92b1fa03c79af89b7bb273fd0bc8449eec44b0d46b5cb","title":"Task 6: Response time monitoring middleware","description":"Add response time logging for slow requests.\n\nRequirements\n- Log requests taking \u003e1s with warning\n- Log requests taking \u003e5s with error\n- Include route, duration, status code\n- Use structured logging (JSON)\n\nFiles\n- apps/backend/src/lib/responseTimeLogger.ts (new)\n- apps/backend/src/server.ts (register middleware)\n- apps/backend/test/responseTimeLogging.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/responseTimeLogging.test.ts","acceptance_criteria":"pnpm --filter backend test apps/backend/test/responseTimeLogging.test.ts","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T11:06:58.615612773Z","closed_at":"2025-12-30T11:06:58.615612773Z","source_repo":".","labels":["backend","monitoring","performance"]}
{"id":"roundtable-improvements-v1.7","content_hash":"1faa6f0b44c6a0829a18edcb760eeb2ee0d3a6aaf507ae7fc9c74ccfcb976e7c","title":"Task 7: Documentation for improvements","description":"Create documentation for new features.\n\nFiles\n- docs/plans/improvements-v1.md (new)\n- docs/operations/monitoring.md (new)\n- docs/operations/email-troubleshooting.md (new)\n- README.md (update with new features)\n\nAcceptance: Docs reviewed and accurate","acceptance_criteria":"Docs created and reviewed","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-30T08:24:27Z","updated_at":"2025-12-30T11:10:11.179997074Z","closed_at":"2025-12-30T11:10:11.179997074Z","source_repo":".","labels":["docs","improvements"]}
{"id":"roundtable-j22","content_hash":"0b2616d3b4ffb318cd60f499296d78b282782f18f90cba15e9e8291a94e89d35","title":"roundtable-metrics-002","description":"","acceptance_criteria":"POST /api/posts/:id/outcome - record decision outcome; PATCH /api/posts/:id/outcome - update outcome; GET /api/circles/:circleId/outcomes - list outcomes for circle (steward-only); validation for outcome_type enum; optional founder_feedback text; time_to_decision_days calculated from post created_at","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:52:31.131005674Z","updated_at":"2026-01-04T06:57:06.740170798Z","closed_at":"2026-01-04T06:57:06.740170798Z","source_repo":".","labels":["api","backend","clarity-metrics","epic-4"]}
{"id":"roundtable-jar","content_hash":"0285b24f5ada7e711312dd31dce27208ae8c696f374c0106ddc32081b6d88ab4","title":"roundtable-mgmt-002","description":"","acceptance_criteria":"Database query or view for member engagement stats; posts_per_member count; last_activity timestamp per member; engagement heatmap data (posts by week/month); endpoint GET /api/circles/:circleId/members/:personId/engagement - individual stats; cached calculations for performance; integrates with existing posts table","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T07:37:36.946865131Z","updated_at":"2026-01-04T07:40:10.463891878Z","closed_at":"2026-01-04T07:40:10.463891878Z","source_repo":".","labels":["backend","circle-management","database","epic-5"]}
{"id":"roundtable-jlh","content_hash":"136d55882fd3b12a50a43dc70c8fd46241b3c40565143428f1f86b78189c9ecc","title":"Production-ready launch: snapshots + safe publish","description":"Implements docs/plans/production-ready-launch.md. Goal: public Eleventy site (apps/site) renders from committed snapshots and is deployed on Railway; backend publish clones/pulls iamnormalfree/roundtable, writes posts + rooms/circles snapshots, commits + pushes; robots private-by-default.","design":"Source of truth: Git for public site snapshots; SQLite for workflow state. Site is served by Railway from apps/site/_site. No build-time backend fetches; no mock production data. Publish triggered via POST /internal/publish/run (x-internal-secret).","acceptance_criteria":"All child tasks closed; final verification checklist in docs/plans/production-ready-launch.md passes.","notes":"Epic complete: all child tasks closed. Reviewer sign-off received for `roundtable-jlh.9` (LilacPond) and `pnpm --filter backend test:e2e` is green (clone publish commits posts + rooms/circles snapshots).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-27T13:17:54.923340928Z","updated_at":"2025-12-28T09:27:30.00343789Z","closed_at":"2025-12-28T09:27:30.00344488Z","source_repo":".","labels":["backend","docs","launch","publish","site","test"],"dependencies":[{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.1","type":"blocks","created_at":"2025-12-27T13:18:04.371017263Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.2","type":"blocks","created_at":"2025-12-27T13:18:04.467525449Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.3","type":"blocks","created_at":"2025-12-27T13:18:04.567099361Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.4","type":"blocks","created_at":"2025-12-27T13:18:04.659172819Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.5","type":"blocks","created_at":"2025-12-27T13:18:04.727086597Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.6","type":"blocks","created_at":"2025-12-27T13:18:04.826755528Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.7","type":"blocks","created_at":"2025-12-27T13:18:04.923262806Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.8","type":"blocks","created_at":"2025-12-27T13:18:05.020929906Z","created_by":"daemon"},{"issue_id":"roundtable-jlh","depends_on_id":"roundtable-jlh.9","type":"blocks","created_at":"2025-12-27T13:18:05.118701217Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.1","content_hash":"27d8bd186c4ba7db53a5462d902917feb78d60d808e3f924994a86cfe3983ea1","title":"Task 1: Define site snapshot schemas (v0)","description":"Implement Task 1 in docs/plans/production-ready-launch.md: define Zod schemas for rooms/circles snapshot JSON so site data formats are explicit and validated. Touch: packages/shared/src/schemas/siteSnapshots.ts (new), packages/shared/src/index.ts (export), packages/shared/test/schemas.test.ts (add tests). Keep DRY/YAGNI; include at least one realistic fixture.","acceptance_criteria":"pnpm --filter @roundtable/shared test","notes":"Ready for review: added fixture-based coverage for RoomsSnapshotV0Schema/CirclesSnapshotV0Schema; pnpm --filter @roundtable/shared test is green.","status":"closed","priority":2,"issue_type":"task","assignee":"LilacPond","created_at":"2025-12-27T13:17:55.020284752Z","updated_at":"2025-12-28T06:05:14.299065355Z","closed_at":"2025-12-28T06:05:14.299070795Z","source_repo":".","labels":["launch","schema","shared"]}
{"id":"roundtable-jlh.10","content_hash":"b49c52392e4bbf1ee5c56f2ea8715bc34285907a541a6a3d6bb3bf71489716a1","title":"Task 0: Infrastructure prerequisites (secrets + repo targets)","description":"Do before production rollout. Chosen publish target:\n- Repo: https://github.com/iamnormalfree/roundtable.git\n- Branch: main\n- Site subdir: apps/site\n\nGoal: backend publishes *source* JSON snapshots into this repo (NOT built _site) by cloning/pulling, writing JSON, committing, and pushing.\n\nGitHub Actions secrets (this repo → Settings → Secrets and variables → Actions):\n- PUBLISH_URL = https://\u003cbackend-host\u003e/internal/publish/run\n- INTERNAL_SECRET = \u003csame as Railway backend INTERNAL_SECRET\u003e\n\nRailway backend env vars (service variables):\n- INTERNAL_SECRET\n- DATABASE_URL (Railway disk path)\n- GITHUB_TOKEN (PAT with least privilege to push to iamnormalfree/roundtable; contents:write)\n- GIT_AUTHOR_NAME / GIT_AUTHOR_EMAIL\n- PUBLISH_REPO_URL=https://github.com/iamnormalfree/roundtable.git\n- PUBLISH_BRANCH=main\n- PUBLISH_SITE_SUBDIR=apps/site\n\nRailway site deploy:\n- The Eleventy site is deployed on Railway (not GitHub Pages).\n- This repo keeps `.github/workflows/site-build.yml.disabled` as a reminder that Pages is not used.\n\nVerification checklist:\n1) In GitHub Actions, run \"Daily Publish\" via workflow_dispatch; it should get 200 (not 401/403).\n2) A commit lands on main with changes under apps/site/src/data/posts and apps/site/src/_data (after Tasks 3/4 are implemented).\n3) Railway site redeploys from main and serves updated content.","acceptance_criteria":"Chosen values recorded above; secrets/vars configured in GitHub + Railway; Daily Publish can be run manually without auth errors.","notes":"Decision: site is deployed on Railway (not GitHub Pages). The old Pages workflow is disabled in-repo (site-build.yml.disabled).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T13:24:25.643028753Z","updated_at":"2025-12-28T05:33:48.072498064Z","closed_at":"2025-12-28T05:14:15.518083157Z","source_repo":".","labels":["backend","infra","launch","ops","publish","site"]}
{"id":"roundtable-jlh.2","content_hash":"1adc4fd42b91c4321c8f318b0f60693868195c1ecba787830b31a87f3b685f47","title":"Task 2: Generate rooms/circles snapshots from SQLite","description":"Implement Task 2 in docs/plans/production-ready-launch.md: add backend snapshot generator that reads SQLite DB and produces rooms/circles snapshots matching @roundtable/shared schemas. Touch: apps/backend/src/publish/siteSnapshots.ts (new), apps/backend/test/siteSnapshots.test.ts (new). Decide whether to embed circle info into rooms or derive in Eleventy; enforce with schema validation in tests.","acceptance_criteria":"pnpm --filter backend test apps/backend/test/siteSnapshots.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"LilacPond","created_at":"2025-12-27T13:17:55.109526702Z","updated_at":"2025-12-28T06:12:50.899583924Z","closed_at":"2025-12-28T06:12:50.899628404Z","source_repo":".","labels":["backend","db","launch","publish","site"],"dependencies":[{"issue_id":"roundtable-jlh.2","depends_on_id":"roundtable-jlh.1","type":"blocks","created_at":"2025-12-27T13:17:55.807748384Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.3","content_hash":"915135e5c2570e5108b3a9ea647d1da409fc1aa4a4dcd25eec3d2f60c412ff83","title":"Task 3: Publish clones/pulls repo automatically (no pre-existing checkout)","description":"Implement Task 3 in docs/plans/production-ready-launch.md: update publish pipeline so production does not require SITE_OUTPUT_DIR to be inside a git repo. Add env vars: PUBLISH_REPO_URL, PUBLISH_BRANCH, PUBLISH_SITE_SUBDIR, optional PUBLISH_REMOTE/PUBLISH_CLONE_DEPTH. Touch: apps/backend/src/publish/runBatchPublish.ts, apps/backend/src/publish/gitClient.ts (helper if needed), apps/backend/.env.example, docs/operations/runbook.md. Add test using a local bare repo remote to prove clone+push.","acceptance_criteria":"pnpm --filter backend test","notes":"Ready for review: documented clone+push publish env vars; added PUBLISH_REMOTE default; fixed clone context snapshot dir to src/_data; added clone+commit+push test (pnpm --filter @roundtable/backend test is green).","status":"closed","priority":1,"issue_type":"task","assignee":"RedPond","created_at":"2025-12-27T13:17:55.204784984Z","updated_at":"2025-12-28T06:18:33.941689392Z","closed_at":"2025-12-28T06:18:33.941695382Z","source_repo":".","labels":["backend","git","launch","ops","publish"],"dependencies":[{"issue_id":"roundtable-jlh.3","depends_on_id":"roundtable-jlh.2","type":"blocks","created_at":"2025-12-27T13:17:55.888536133Z","created_by":"daemon"},{"issue_id":"roundtable-jlh.3","depends_on_id":"roundtable-jlh.10","type":"blocks","created_at":"2025-12-27T13:24:39.876787147Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.4","content_hash":"e5f51f7b4b981c707834986e5fb79c317528cc497c4193f4f6cb8d4552882d16","title":"Task 4: Publish commits include posts + rooms/circles snapshots","description":"Implement Task 4 in docs/plans/production-ready-launch.md: ensure git staging/commit/push includes both posts JSON and site snapshot JSON (rooms.json/circles.json). Do not git add .; stage explicit paths. Touch: apps/backend/src/publish/gitClient.ts, apps/backend/src/publish/runBatchPublish.ts, apps/backend/test/gitClient.test.ts (add coverage).","acceptance_criteria":"pnpm --filter backend test apps/backend/test/gitClient.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-27T13:17:55.300422905Z","updated_at":"2025-12-28T06:09:57.170856157Z","closed_at":"2025-12-28T05:58:44.780656183Z","source_repo":".","labels":["backend","git","launch","publish"],"dependencies":[{"issue_id":"roundtable-jlh.4","depends_on_id":"roundtable-jlh.3","type":"blocks","created_at":"2025-12-27T13:17:55.966702444Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.5","content_hash":"e4c26e98d46a8e1d1db20b8d938c963d4f95f6171149f2b5d48be5e1222f27de","title":"Task 5: Site renders circles/rooms from snapshots (remove mock production data)","description":"Implement Task 5 in docs/plans/production-ready-launch.md: remove backend fetches + mock data from apps/site/.eleventy.js; wire site to apps/site/src/_data/{rooms.json,circles.json} snapshots and apps/site/src/data/posts/*.json. Update templates that assume mock fields (e.g. room.name vs room.title). Add/extend site tests following apps/site/test/published-sorting.test.js style.","acceptance_criteria":"pnpm --filter @roundtable/site test \u0026\u0026 pnpm --filter @roundtable/site build","notes":"Ready for review: site now reads snapshots/posts from repo data (no mock rooms-data/circles-data). Room pages paginate over `rooms` snapshot data and show recent activity from `apps/site/src/data/posts/*.json` via `published` data.\n\nVerified: `pnpm --filter @roundtable/site test` and `pnpm --filter @roundtable/site build`.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-27T13:17:55.387882173Z","updated_at":"2025-12-28T06:31:47.267034921Z","closed_at":"2025-12-28T06:24:52.140537893Z","source_repo":".","labels":["dx","launch","site"],"dependencies":[{"issue_id":"roundtable-jlh.5","depends_on_id":"roundtable-jlh.4","type":"blocks","created_at":"2025-12-27T13:17:56.046194388Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.6","content_hash":"5cb906053b08762769fd4c983082bc01768691cda416a5200fa06387bebf05c9","title":"Task 6: robots.txt private-by-default (PUBLIC_LAUNCH switch)","description":"Implement Task 6 in docs/plans/production-ready-launch.md: replace passthrough robots.txt with an Eleventy template that emits robots.txt. Default Disallow all unless PUBLIC_LAUNCH=true. Touch: apps/site/src/robots.* template, apps/site/.eleventy.js (remove passthrough), Railway frontend env vars (PUBLIC_LAUNCH), docs/operations/runbook.md. Add site tests for both modes.","acceptance_criteria":"pnpm --filter @roundtable/site test \u0026\u0026 pnpm --filter @roundtable/site build","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-27T13:17:55.477010923Z","updated_at":"2025-12-28T07:09:47.053148017Z","closed_at":"2025-12-28T06:31:56.757521431Z","source_repo":".","labels":["launch","ops","site"],"dependencies":[{"issue_id":"roundtable-jlh.6","depends_on_id":"roundtable-jlh.5","type":"blocks","created_at":"2025-12-27T13:17:56.12208303Z","created_by":"daemon"},{"issue_id":"roundtable-jlh.6","depends_on_id":"roundtable-jlh.10","type":"blocks","created_at":"2025-12-27T13:24:39.966536792Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.7","content_hash":"48471db7ca580f637867220966783aeb42d7e3f6d697d49e14ea1f8947062ffb","title":"Task 7 (optional): Remove sample published JSON from default site build","description":"Optional cleanup from docs/plans/production-ready-launch.md Task 7: remove apps/site/src/data/posts/*-sample.json from default production build to avoid shipping placeholder decisions. If examples are still desired, move them under docs/ instead. Ensure site handles empty posts directory.","acceptance_criteria":"pnpm --filter @roundtable/site test \u0026\u0026 pnpm --filter @roundtable/site build","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-27T13:17:55.568712293Z","updated_at":"2025-12-28T07:38:08.382537077Z","closed_at":"2025-12-28T07:27:51.000488436Z","source_repo":".","labels":["cleanup","optional","site"],"dependencies":[{"issue_id":"roundtable-jlh.7","depends_on_id":"roundtable-jlh.5","type":"blocks","created_at":"2025-12-27T13:17:56.198149971Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.8","content_hash":"ca2839f717f03fe31cc07e7b535c4e8299345875a7742cb782ef60bd99fe48ca","title":"Task 8: Docs align to snapshot publish architecture","description":"Implement Task 8 in docs/plans/production-ready-launch.md: update docs/product/prd.md, docs/product/implementation-plan.md, docs/operations/runbook.md to match actual SQLite tables/endpoints and the snapshot publish model. Append resolved-gap note to docs/audit-results.md.","acceptance_criteria":"Docs updated and consistent; no Postgres-only instructions remain in active docs.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-27T13:17:55.639051859Z","updated_at":"2025-12-28T07:41:16.355746852Z","closed_at":"2025-12-28T07:41:16.355752312Z","source_repo":".","labels":["docs","launch"],"dependencies":[{"issue_id":"roundtable-jlh.8","depends_on_id":"roundtable-jlh.6","type":"blocks","created_at":"2025-12-27T13:17:56.280055845Z","created_by":"daemon"},{"issue_id":"roundtable-jlh.8","depends_on_id":"roundtable-jlh.10","type":"blocks","created_at":"2025-12-27T13:24:40.061867403Z","created_by":"daemon"}]}
{"id":"roundtable-jlh.9","content_hash":"75d11af53ecba1169e20869c2cadbcf4cb73ce40d60076f61ab850ff75b545a7","title":"Task 9: E2E verification (approve→publish→repo contains snapshots)","description":"Implement Task 9 in docs/plans/production-ready-launch.md: add an E2E test that proves publish clones a repo, writes posts + rooms/circles snapshots, commits, pushes, and records publish_batches status correctly. Touch: apps/backend/test/e2e/*.test.ts, docs/operations/runbook.md (local walkthrough).","acceptance_criteria":"pnpm --filter backend test:e2e","notes":"Ready for review: added backend E2E proving clone-mode publish writes posts + rooms/circles snapshots, commits, pushes, and records publish_batches git sha.\n\n- Added `apps/backend/test/e2e/approve-to-publish-clone-snapshots.test.ts`\n- Updated `docs/operations/runbook.md` with the local command\n\nVerified: `pnpm --filter backend test:e2e`.","status":"closed","priority":2,"issue_type":"task","assignee":"RedPond","created_at":"2025-12-27T13:17:55.724855056Z","updated_at":"2025-12-28T09:06:54.149964912Z","closed_at":"2025-12-28T09:06:54.149964912Z","source_repo":".","labels":["backend","e2e","launch","test"],"dependencies":[{"issue_id":"roundtable-jlh.9","depends_on_id":"roundtable-jlh.4","type":"blocks","created_at":"2025-12-27T13:17:56.342826716Z","created_by":"daemon"}]}
{"id":"roundtable-jwl","content_hash":"be0a7832b82d4e43bd39cd5c820c503514f6738160ecadb5a2d3d17bab83b18e","title":"Implement quota manager batching optimization","description":"Location: lib/maf/profiles/quota-manager.ts:292\n\nThe quota manager has a placeholder for batch optimization logic. When enableBatchOptimization is true, events should be batched before syncing to storage instead of syncing immediately.\n\nCurrent behavior (line 291-296):\n- Always calls syncToStorage() immediately\n- TODO comment at line 292\n\nRequired implementation:\n- Accumulate events in memory batch\n- Flush batch when: size threshold reached OR time threshold elapsed\n- Configurable batch sizes (maxEventsInMemory, maxEventsInStorage)\n- Ensure no data loss on flush failure","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-03T22:42:25.600951976Z","updated_at":"2026-01-03T23:27:02.957681276Z","closed_at":"2026-01-03T23:27:02.957681276Z","source_repo":".","labels":["maf","optimization","profiles"]}
{"id":"roundtable-jzj","content_hash":"14a436e78bfcf5360a2ede57eede78b539a1471f250cf977a179f97a01fbdd5c","title":"Database migration for resonances table","description":"Create resonances table to track operator signals on published posts. Enable operators to signal 'this resonates' on anonymous reading mode posts.","acceptance_criteria":"resonances table created with post_id, reader_email, signal_type (resonates/curious/similar-experience), note, created_at; indexes on post_id and reader_email; migration file 023_resonances.sql created; foreign key to posts table","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T05:58:00.16438091Z","updated_at":"2026-01-04T06:00:18.972107007Z","closed_at":"2026-01-04T06:00:17.139497536Z","source_repo":".","labels":["backend","database","epic","slow-match"]}
{"id":"roundtable-k5c","content_hash":"6964b6a944a3cd7a503ef767586687c10173c454f9b6ae2a5e0d5f4fbc1f1d77","title":"roundtable-metrics-005","description":"","acceptance_criteria":"GET /api/circles/:circleId/metrics/data - metrics calculation endpoint; clarity_rate = (clarity-achieved outcomes) / (total outcomes) * 100; avg_time_to_clarity calculated for clarity-achieved outcomes only; repeat_founder_rate = founders with 2+ posts / total founders; feedback_themes extracted from founder_feedback text; cached calculations updated daily","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T06:53:01.342037507Z","updated_at":"2026-01-04T08:14:57.784022268Z","closed_at":"2026-01-04T08:14:57.784022268Z","source_repo":".","labels":["analytics","backend","clarity-metrics","epic-4"]}
{"id":"roundtable-kp1","content_hash":"54aaad71d932451bfe71da9a8d5cbd4242afbdb7d0fa9e99c219c50b1e58b14e","title":"Phase 8: Final runbook","description":"Create comprehensive runbook for production operations.\n\nTasks:\n- Document deployment procedure\n- Document rollback procedure\n- Create troubleshooting guide\n- Document on-call procedures\n- Create incident response template\n- Document maintenance procedures\n- Create developer onboarding guide\n\nFiles:\n- docs/operations/RUNBOOK.md (update)\n- docs/operations/troubleshooting.md (new)\n- docs/operations/on-call.md (new)\n\nAcceptance: Complete runbook covering all operational scenarios.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:28:01.238413533Z","updated_at":"2025-12-30T21:56:17.356347163Z","closed_at":"2025-12-30T21:56:17.356347163Z","source_repo":".","labels":["docs","ops"],"dependencies":[{"issue_id":"roundtable-kp1","depends_on_id":"roundtable-wna","type":"blocks","created_at":"2025-12-30T21:28:01.246490487Z","created_by":"root"}]}
{"id":"roundtable-lwz","content_hash":"25374d3a4004e3013a81c926d6a373d1f8c8e4777d61a5c82e2d91b3e59beecc","title":"Implement founder notification when resonator email not confirmed","description":"When an introduction is approved but the resonator's email is not confirmed, notify the founder to follow up.\n\nLocation: apps/backend/src/routes/introductionsApi.ts:564\n\nCurrently logs a message but doesn't send notification. Should send email or notification to the founder informing them that the resonator hasn't confirmed their email yet.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T18:20:30.921760793Z","updated_at":"2026-01-03T19:23:53.435199054Z","closed_at":"2026-01-03T19:23:53.435201724Z","source_repo":".","labels":["backend","introductions","notifications"]}
{"id":"roundtable-maf-000","content_hash":"adcff743babf9243f939921edcf42a5b70a327a3c8e1a573db240dff659ab48b","title":"Improve tmux agents reliability (maf-cli pod)","description":"Work package derived from docs/plan/improve-tmux-agents-implementation.md. Goal: make maf-cli:agents reproducible + eliminate drift across prompting/monitoring/context-manager, so the system runs with less babysitting.","acceptance_criteria":"All child tasks closed; maf-cli:agents reproducible; prompting/monitoring routes correct; restart preserves context.","status":"closed","priority":1,"issue_type":"epic","assignee":"FuchsiaCreek","created_at":"2026-01-03T10:10:06.740860439Z","updated_at":"2026-01-03T10:40:45.520007738Z","closed_at":"2026-01-03T10:40:45.520007738Z","source_repo":".","labels":["agents","maf","ops","tmux"]}
{"id":"roundtable-maf-000.1","content_hash":"d6df9401c1f5c110734f6cb540b8a26c4a69534a25bb90f4b26fabf645c07496","title":"Task 0.0: Make maf-cli:agents reproducible (bootstrap + drift fixes)","description":"Encode and enforce the canonical maf-cli pod contract so a fresh machine can recreate/repair the pod reliably. Source plan: docs/plan/improve-tmux-agents-implementation.md (Phase 0, Task 0.0).","acceptance_criteria":"Documented steps reliably recreate a working maf-cli:agents pod; tmux targets/pane mapping consistent across docs+scripts; context-manager-v2.sh status works and restarts don't silently fail.","notes":"Fixed drift in .maf/config/context-manager.env: MAF_SUPERVISOR_CMD and MAF_REVIEWER_CMD updated from depleted codex to claude. All pane mappings verified consistent across docs/operations/runbook.md, .maf/TEAM-CONFIG.md, and scripts/maf/context-manager-v2.sh. Receipt posted to Agent Mail (Message ID: 823).","status":"open","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T10:10:39.51126698Z","updated_at":"2026-01-04T18:03:44.384596084Z","source_repo":".","labels":["docs","maf","ops","tmux"],"dependencies":[{"issue_id":"roundtable-maf-000.1","depends_on_id":"roundtable-maf-000","type":"parent-child","created_at":"2026-01-03T10:10:57.741617025Z","created_by":"root"}]}
{"id":"roundtable-maf-000.2","content_hash":"82ab64fa4a7f7fc6bc473cad1053bd45739f2d40bd4de9cc0f4e8d5a54bbdb24","title":"Task 0.1: Add canonical agent topology config","description":"Create a single source of truth for role→pane→agent-name mapping (e.g. .maf/config/agent-topology.json) and reference it from docs. Source plan: docs/plan/improve-tmux-agents-implementation.md (Phase 0, Task 0.1).","acceptance_criteria":"Topology file exists and matches how the team runs; docs reference it as canonical.","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-03T10:10:45.595331889Z","updated_at":"2026-01-03T10:17:08.022866155Z","closed_at":"2026-01-03T10:17:08.022882245Z","source_repo":".","labels":["config","maf","ops","tmux"],"dependencies":[{"issue_id":"roundtable-maf-000.2","depends_on_id":"roundtable-maf-000","type":"parent-child","created_at":"2026-01-03T10:11:03.819307646Z","created_by":"root"}]}
{"id":"roundtable-maf-000.3","content_hash":"8e47b0608e6ef119214629b26b4b542cec4b5211880ec735fdb5fef77eab6cbf","title":"Task 0.2: Refactor prompt routing to read topology config","description":"Update prompting scripts to derive pane targets from the canonical topology config instead of hardcoding indices/names. Source plan: docs/plan/improve-tmux-agents-implementation.md (Phase 0, Task 0.2).","acceptance_criteria":"prompt-agent.sh and broadcast-role-prompts.sh read topology config; role aliases route correctly; no hardcoded maf-cli:agents pane numbers remain (except as fallback defaults).","notes":"Refactored prompt-agent.sh and broadcast-role-prompts.sh to read pane targets from canonical topology config (.maf/config/agent-topology.json). Scripts now derive pane indices dynamically via jq with fallback to hardcoded defaults. Aliases (sup, rev, imp1, imp2, 0, 1, 2, 3) route correctly via alias_to_pane lookup.","status":"open","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T10:10:51.730310145Z","updated_at":"2026-01-04T18:03:50.458519743Z","source_repo":".","labels":["maf","ops","scripts","tmux"],"dependencies":[{"issue_id":"roundtable-maf-000.3","depends_on_id":"roundtable-maf-000","type":"parent-child","created_at":"2026-01-03T10:11:09.836876434Z","created_by":"root"},{"issue_id":"roundtable-maf-000.3","depends_on_id":"roundtable-maf-000.2","type":"blocks","created_at":"2026-01-03T10:11:28.027563257Z","created_by":"root"}]}
{"id":"roundtable-maf-000.4","content_hash":"381413ba558a17c4a690cdbdb74d9f6bbf110009807b51df3319b5e19de47d9c","title":"Task 0.3: Refactor monitoring to read topology config","description":"Update tmux-agent-monitor.sh to derive pane lists from the canonical topology config instead of hardcoding pane arrays. Source plan: docs/plan/improve-tmux-agents-implementation.md (Phase 0, Task 0.3).","notes":"Refactored tmux-agent-monitor.sh to read pane configuration from canonical topology config (.maf/config/agent-topology.json). All hardcoded pane arrays replaced with dynamic loading from JSON config with fallback to defaults.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T10:29:25.54528964Z","updated_at":"2026-01-03T10:31:13.299080939Z","closed_at":"2026-01-03T10:31:13.299084119Z","source_repo":".","labels":["maf","ops","scripts","tmux"],"dependencies":[{"issue_id":"roundtable-maf-000.4","depends_on_id":"roundtable-maf-000.2","type":"blocks","created_at":"2026-01-03T10:29:25.552258839Z","created_by":"root"},{"issue_id":"roundtable-maf-000.4","depends_on_id":"roundtable-maf-000","type":"parent-child","created_at":"2026-01-03T10:36:52.078557192Z","created_by":"root"}]}
{"id":"roundtable-maf-000.5","content_hash":"3046a550817094986425f6f594b4940cde9672456a72ba4b8b3f42c92b27ee61","title":"Task 0.4: Refactor restarts + attribution to read topology","description":"Update context-manager-v2.sh agent_name_for_pane() and agent_restart_command() plus agent-commit.sh to read from canonical topology config. Source plan: docs/plan/improve-tmux-agents-implementation.md (Phase 0, Task 0.4).","notes":"Refactored context-manager-v2.sh and agent-commit.sh to read from .maf/config/agent-topology.json. Added get_agent_name_from_topology() and get_restart_command_from_topology() helper functions with fallback to hardcoded defaults.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T10:33:27.503763202Z","updated_at":"2026-01-03T10:33:33.602659456Z","closed_at":"2026-01-03T10:33:33.602663686Z","source_repo":".","labels":["maf","ops","scripts","tmux"],"dependencies":[{"issue_id":"roundtable-maf-000.5","depends_on_id":"roundtable-maf-000.2","type":"blocks","created_at":"2026-01-03T10:33:27.510557388Z","created_by":"root"},{"issue_id":"roundtable-maf-000.5","depends_on_id":"roundtable-maf-000","type":"parent-child","created_at":"2026-01-03T10:36:58.154467018Z","created_by":"root"}]}
{"id":"roundtable-maf-000.6","content_hash":"fb3652fa7c9df11667da8f7b2eaa5b0912cc7a624bed54e16ce800967a812671","title":"Task 0.5: Add heartbeat/status marker convention","description":"Define and implement MAF_STATUS marker line format for agents to indicate their current state. Monitoring will treat safe_to_interrupt=0 as busy. Source plan: docs/plan/improve-tmux-agents-implementation.md (Phase 0, Task 0.5).","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-03T10:33:55.616765578Z","updated_at":"2026-01-03T10:38:36.11464278Z","closed_at":"2026-01-03T10:38:36.11464278Z","source_repo":".","labels":["maf","ops","scripts","tmux"],"dependencies":[{"issue_id":"roundtable-maf-000.6","depends_on_id":"roundtable-maf-000.4","type":"blocks","created_at":"2026-01-03T10:33:55.623799093Z","created_by":"root"},{"issue_id":"roundtable-maf-000.6","depends_on_id":"roundtable-maf-000","type":"parent-child","created_at":"2026-01-03T10:37:04.186462127Z","created_by":"root"}]}
{"id":"roundtable-maf-001","content_hash":"8154c1af3be6c779332bdb69be11705a0f9533833af01b69299b8e03396518dc","title":"Fix Agent Mail telegram-bot pane↔role mapping (derive from topology)","description":"Repeated review/needs-fixes notifications appear to be caused by hardcoded pane↔role assumptions in mcp_agent_mail/telegram-bot.js (e.g. reviewer assumed pane 2; canonical topology uses reviewer pane 1).\\n\\nScope:\\n- Update telegram bot routing so it derives role→pane (and/or agent→pane) from the canonical topology (.maf/config/agent-topology.json) or the Agent Mail registry, rather than hardcoded indices.\\n- Ensure repeated/incorrect 'Review needs fixes' loops stop for already-closed beads (e.g. roundtable-wgd).\\n\\nNotes:\\n- BlackDog currently holds an exclusive reservation on mcp_agent_mail/telegram-bot.js.","acceptance_criteria":"- telegram-bot.js has no hardcoded pane index for reviewer/implementor routing\\n- Bot routes to the correct agent/pane based on canonical topology\\n- Repeated false 'needs fixes' pings stop for closed beads\\n- Run: pnpm maf:health-check","status":"open","priority":2,"issue_type":"bug","assignee":"BlackDog","created_at":"2026-01-03T11:41:48.870903981Z","updated_at":"2026-01-04T18:03:56.411185372Z","source_repo":".","labels":["agent-mail","maf","ops","telegram"]}
{"id":"roundtable-maf-004","content_hash":"4592a0e28ee59b42b71ffa40d258a0d18bdc021ed93a7d473b8c4dfa3896d459","title":"Implement receipt format + receipt.sh","description":"Create scripts/maf/receipt.sh that generates reproducible receipts for bead completion. Receipt must include: bead_id, summary, files_changed, commands_run, env_toggles, screenshots (if UI), risk_notes, rollback. Script should output markdown and optionally post to Agent Mail thread.","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T08:28:19.5517577Z","closed_at":"2026-01-04T08:28:16.912998574Z","source_repo":".","labels":["maf","receipts"]}
{"id":"roundtable-maf-005","content_hash":"3aa8a5c5db84a1b47bdac2db15fa5135ea9652e9e27b643c904f2407c3f1d413","title":"Update prompt packs to enforce receipts","description":"Add receipt enforcement to all prompt packs in scripts/maf/prompt-packs/. Update README.md with receipt section. Add 'produce receipt' instruction to implementor prompts and 'verify receipt' to reviewer prompts. Policy: no receipt → no close.","status":"closed","priority":2,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T08:53:47.219367141Z","closed_at":"2026-01-04T08:53:47.219367141Z","source_repo":".","labels":["maf","prompt-packs","receipts"]}
{"id":"roundtable-maf-006","content_hash":"f738a1af68180d4513c197b90a49a0c87bc594c16deef4727c6dbbd2c9793ec7","title":"Implement visual receipt tooling","description":"Create scripts/maf/visual-receipt.sh that generates deterministic screenshots for UI-related beads. Use Playwright for screenshots: Desktop (1920x911) and Mobile (375x667), both dark/light modes. Store under docs/screenshots/beads/\u003cbead-id\u003e/. Policy: screenshots required if bead touches apps/site/src/** or apps/backend/src/public/**.","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T09:12:51.20145261Z","closed_at":"2026-01-04T09:12:51.20145261Z","source_repo":".","labels":["maf","screenshots","testing","visual"]}
{"id":"roundtable-maf-007","content_hash":"73081d3d1eee1715d2770375f979ec8b8153ef24d67daefd657b5f2a6c04fd66","title":"Implement merge gate workflow + enable site CI","description":"Define and enforce merge gate responsibilities: Supervisor (GreenMountain) verifies receipt exists, reviewer approved, CI is green before closing bead. Enable .github/workflows/site-build.yml (currently disabled) to gate UI changes. Document merge gate workflow in docs/agents.md and docs/operations/runbook.md.","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T09:47:10.753026185Z","closed_at":"2026-01-04T09:47:10.753026185Z","source_repo":".","labels":["ci","maf","merge-gate"]}
{"id":"roundtable-maf-008","content_hash":"831d9d5ae8ba836001e5d977991c6df6dd96cf1df7523fc2db555925f7b4009a","title":"Implement per-bead ledger fields","description":"Extend receipt.sh to capture and output ledger fields: start_ts, end_ts, attempt_count, reopen_count, failure_reason (one of: tests, visual, integration, unclear_spec, env_mismatch). Include ledger in receipt markdown output. This enables measurement of throughput and recurring failures without heavy instrumentation.","status":"closed","priority":2,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T09:46:52.769538314Z","closed_at":"2026-01-04T09:46:52.769538314Z","source_repo":".","labels":["ledger","maf","metrics"]}
{"id":"roundtable-maf-009","content_hash":"9ba6e9deae8334f9ba2716ad88726bba23a748f8dea8f5bbe9f4d83a772730f6","title":"Implement coupling controls (global locks + reservation enforcement)","description":"Define and implement coupling control policy. GLOBAL LOCKS (serialize): pnpm-lock.yaml, DB migrations/schema changes, shared config (tsconfig, env schema, build scripts). MODULE LOCKS (parallelizable): feature directories (apps/site/**, apps/backend/**). Add policy section to docs/agents.md mapping each lock type to required Agent Mail reservation pattern. Implementors must reserve before any write action.","status":"closed","priority":3,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T08:59:01.822886636Z","closed_at":"2026-01-04T08:59:01.822886636Z","source_repo":".","labels":["coupling","locks","maf","optional"]}
{"id":"roundtable-maf-010","content_hash":"5b94646ed4ad8eacdd2a6ae3caa21a94f4755d6d25631a240f31b438567a9770","title":"Implement reviewer guardrails","description":"Implement reviewer guardrails to prevent accidental drive-by fixes in shared checkout. Option 1: Reviewer worktree (recommended) - reviewer runs tests/build/screenshots in separate read-only-by-convention worktree. Option 2: Filesystem guardrails - wrapper scripts that refuse git commit, git push, and write-heavy commands. Reviewer can validate and produce receipts but not mutate implementation surfaces.","status":"closed","priority":3,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T09:13:58.59349666Z","closed_at":"2026-01-04T09:13:58.59349666Z","source_repo":".","labels":["guardrails","maf","optional"]}
{"id":"roundtable-maf-011","content_hash":"34feeb10f6a96d78bc852c3dea2df2e65e8bb7a8fc5416b9288b0de678fecb36","title":"Implement worktrees/isolation per implementor","description":"Create scripts/maf/setup-worktrees.sh to standardize worktree creation. Layout: main checkout (supervisor + reviewer) at /root/projects/roundtable, worktrees at /root/projects/roundtable-worktrees/\u003cAgentName\u003e (OrangePond, FuchsiaCreek, etc.). Script creates directory, runs git worktree add, pnpm install, writes README with dev/test instructions. Each implementor can work without branch switching collisions. Later: add per-agent port configuration for dev servers.","status":"closed","priority":3,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T08:00:00Z","updated_at":"2026-01-04T09:47:19.846174631Z","closed_at":"2026-01-04T09:47:19.846174631Z","source_repo":".","labels":["isolation","maf","optional","worktrees"]}
{"id":"roundtable-match-001","content_hash":"2d16f308b867e658985699e713180cdd279de5d2cf53c478cd1e01bee798500f","title":"Database migration for resonances table","description":"Create resonances table to track operator signals on published posts. Enable operators to signal 'this resonates' on anonymous reading mode posts.","acceptance_criteria":"resonances table created with post_id, reader_email, signal_type (resonates/curious/similar-experience), note, created_at; indexes on post_id and reader_email; migration file 023_resonances.sql created; foreign key to posts table","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T06:02:53.673347681Z","updated_at":"2026-01-04T06:12:49.838788916Z","closed_at":"2026-01-04T06:12:49.838788916Z","source_repo":".","labels":["backend","database","epic","slow-match"]}
{"id":"roundtable-mk5","content_hash":"9fad960e8b0652d9fa2e8c1c00da6b2922e071c13cdb1dc4aa7321b87407caea","title":"Backend API Hardening \u0026 Performance","description":"Improve backend API security, performance, and reliability based on codebase analysis.\n\n## Focus Areas\n\n1. **Rate Limiting** - Protect all API endpoints from abuse\n2. **Database Performance** - Add missing indexes for common queries\n3. **Input Validation** - Consistent Zod schemas across all routes\n4. **Transaction Safety** - Wrap multi-step operations in transactions\n5. **Error Handling** - Standardized error responses and better logging\n6. **Email Reliability** - Improved tracking and error handling\n\n## Success Criteria\n\n- All API routes have rate limiting\n- Common queries have appropriate indexes\n- Input validation uses Zod consistently\n- Multi-step operations use transactions\n- Error responses are standardized\n- Email failures are tracked properly","status":"closed","priority":1,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-01T08:23:51.741011216Z","updated_at":"2026-01-01T13:25:12.597825852Z","closed_at":"2026-01-01T13:25:12.597825852Z","source_repo":".","labels":["api","backend","performance","security"]}
{"id":"roundtable-mk5.1","content_hash":"bb7e5f1455847d9249e6c1edbdaedc41ed3140abcf3bc27ddd6b1f25dbed933d","title":"Add rate limiting to all API routes","description":"Add rate limiting middleware to all API endpoints to protect against abuse.\n\n## Problem\n\nOnly `/login` and `/approve` routes have rate limiting. Most API routes are vulnerable:\n- `/api/drafts`\n- `/api/tags`\n- `/api/collections`\n- `/api/circles`\n- `/api/timeline`\n- `/api/outcomes`\n\n## Solution\n\nUse `createSimpleRateLimiter` from `lib/simpleRateLimit.ts` on all API routes.\n\n## Files to Modify\n\n- `apps/backend/src/routes/draftsApi.ts`\n- `apps/backend/src/routes/tagsApi.ts`\n- `apps/backend/src/routes/collectionsApi.ts`\n- `apps/backend/src/routes/circlesApi.ts`\n- `apps/backend/src/routes/timelineApi.ts`\n- `apps/backend/src/routes/outcomesApi.ts`\n\n## Implementation Pattern\n\n```typescript\nimport { createSimpleRateLimiter } from '../lib/simpleRateLimit';\n\nconst rateLimiter = createSimpleRateLimiter({\n  maxRequests: 100,\n  windowMs: 60000 // 1 minute\n});\n\n// Apply to routes\napp.register(rateLimiter, { prefix: '/api/your-route' });\n```\n\n## Acceptance\n\n1. All API routes have rate limiting middleware\n2. Tests verify rate limiting behavior (429 response)\n3. Documentation updated with rate limit details\n\nRun: `pnpm --filter backend test`","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:24:12.708098842Z","updated_at":"2026-01-01T13:25:12.60042404Z","closed_at":"2026-01-01T13:25:12.60042404Z","source_repo":".","labels":["api","backend","rate-limiting","security"]}
{"id":"roundtable-mk5.2","content_hash":"4b4c41d9c9cda8915add24d1cf1b2eefe682566ddf1446f0fabc455136c70bc1","title":"Add database indexes for common queries","description":"Add missing database indexes to improve query performance.\n\n## Problem\n\nThe schema has only basic indexes. Many queries would benefit from additional indexes.\n\n## Missing Indexes\n\n- `posts(circle_id, status, created_at)` - Used in `/api/my/circles/:id/posts`\n- `circle_members(person_id, status)` - Used repeatedly across routes\n- `circle_members(circle_id, status, role)` - Used for steward verification\n- `posts(email_id)` - Dedup checks need explicit index\n- `drafts(person_id, circle_id, status)` - Used in draft queries\n- `tags(circle_id)` - Used in `/circles/:circleId/tags`\n- `collection_posts(collection_id)` - Used in `/collections/:id/posts`\n- `posts_tags(post_id)` and `posts_tags(tag_id)` - Tag associations\n\n## Files\n\n- `apps/backend/migrations/034_add_performance_indexes.sql` (new)\n\n## Implementation\n\n```sql\n-- Post queries\nCREATE INDEX IF NOT EXISTS idx_posts_circle_status_created ON posts(circle_id, status, created_at DESC);\nCREATE INDEX IF NOT EXISTS idx_posts_email_id ON posts(email_id);\n\n-- Circle member queries  \nCREATE INDEX IF NOT EXISTS idx_circle_members_person_status ON circle_members(person_id, status);\nCREATE INDEX IF NOT EXISTS idx_circle_members_circle_status_role ON circle_members(circle_id, status, role);\n\n-- Draft queries\nCREATE INDEX IF NOT EXISTS idx_drafts_person_circle_status ON drafts(person_id, circle_id, status);\n\n-- Tag queries\nCREATE INDEX IF NOT EXISTS idx_tags_circle ON tags(circle_id);\nCREATE INDEX IF NOT EXISTS idx_posts_tags_post ON posts_tags(post_id);\nCREATE INDEX IF NOT EXISTS idx_posts_tags_tag ON posts_tags(tag_id);\n```\n\n## Acceptance\n\n1. Migration runs successfully\n2. Tests verify query performance improvements\n3. No breaking changes to existing queries\n\nRun: `pnpm --filter backend db:migrate \u0026\u0026 pnpm --filter backend test`","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:24:29.718485904Z","updated_at":"2026-01-01T13:25:12.600696259Z","closed_at":"2026-01-01T13:25:12.600696259Z","source_repo":".","labels":["backend","database","migration","performance"]}
{"id":"roundtable-mk5.3","content_hash":"465478063ae1c8207d4f80ca768e75d8394307e493a30a0ab7484a9d568e821a","title":"Add consistent Zod validation to API routes","description":"Add consistent Zod schema validation to all API endpoints.\n\n## Problem\n\nOnly some routes use Zod validation. Many use manual type checking without proper validation for:\n- String lengths (subject, content)\n- Email formats\n- Date formats for query parameters\n\n## Files to Audit and Fix\n\n- `apps/backend/src/routes/draftsApi.ts`\n- `apps/backend/src/routes/memberApi.ts`\n- `apps/backend/src/routes/timelineApi.ts`\n- `apps/backend/src/routes/circleQueueApi.ts`\n- `apps/backend/src/routes/circlesApi.ts`\n\n## Good Examples to Follow\n\n- `tagsApi.ts` - `CreateTagSchema`, `AddTagToPostSchema`\n- `collectionsApi.ts` - `CreateCollectionSchema`\n- `outcomesApi.ts` - `CreateOutcomeSchema`, `UpdateOutcomeSchema`\n\n## Implementation Pattern\n\n```typescript\nimport { z } from 'zod';\n\nexport const CreateDraftSchema = z.object({\n  circleId: z.number().int().positive(),\n  title: z.string().max(200).optional(),\n  content: z.string().min(1).max(50000)\n});\n\n// In route handler\nconst result = CreateDraftSchema.safeParse(req.body);\nif (!result.success) {\n  return reply.code(400).send({ \n    success: false, \n    error: 'Invalid input', \n    details: result.error.errors \n  });\n}\n```\n\n## Acceptance\n\n1. All API endpoints use Zod schemas\n2. Tests verify validation behavior\n3. Error responses are consistent\n\nRun: `pnpm --filter backend test`","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:24:47.154125176Z","updated_at":"2026-01-01T13:27:45.156341598Z","closed_at":"2026-01-01T13:27:45.156341598Z","source_repo":".","labels":["api","backend","security","validation"]}
{"id":"roundtable-mk5.4","content_hash":"feab073f225b3eb9c0d66e619bde11cc6640f68521c263d6ad3a71b2791f35b3","title":"Wrap multi-step operations in database transactions","description":"Add database transactions for multi-step operations to prevent data inconsistency.\n\n## Problem\n\nThe `submitDraft()` function in `lib/drafts.ts` performs multiple operations without a transaction:\n1. Verifies membership\n2. Inserts into `posts`\n3. Updates `drafts`\n\nIf step 3 fails, an orphaned post remains. Similar issue in `onInboundEmail.ts`.\n\n## Files to Fix\n\n- `apps/backend/src/lib/drafts.ts` (lines 214-277)\n- `apps/backend/src/workers/onInboundEmail.ts` (lines 116-150)\n\n## Implementation Pattern\n\n```typescript\n// Before: Multiple independent queries\nconst membership = db.prepare('SELECT * FROM circle_members WHERE...').get();\nconst post = db.prepare('INSERT INTO posts...').run();\ndb.prepare('UPDATE drafts SET status=?...').run();\n\n// After: Wrapped in transaction\nconst result = db.transaction(() =\u003e {\n  const membership = db.prepare('SELECT * FROM circle_members WHERE...').get();\n  if (!membership) throw new Error('Not a member');\n  \n  const post = db.prepare('INSERT INTO posts...').run();\n  db.prepare('UPDATE drafts SET status=?...').run();\n  \n  return post;\n})();\n```\n\n## Acceptance\n\n1. Multi-step operations use transactions\n2. Tests verify rollback behavior\n3. No orphaned data on failure\n\nRun: `pnpm --filter backend test drafts.test.ts onInboundEmail.test.ts`","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:25:18.360422319Z","updated_at":"2026-01-01T13:25:12.600939148Z","closed_at":"2026-01-01T13:25:12.600939148Z","source_repo":".","labels":["backend","database","reliability","transactions"]}
{"id":"roundtable-mk5.5","content_hash":"6d0d7128f5af0973d9cb33ed38359bb8c8d3450daba8764cfa9f55b699488fad","title":"Improve email system error handling and tracking","description":"Improve email system error handling with structured logging and failure tracking.\n\n## Problem\n\nIn `onInboundEmail.ts`:\n- LLM processing failure falls back gracefully but logs nothing\n- Receipt email send failure is silently ignored\n- Steward notification emails in a loop - partial failures not tracked\n\n## Files to Fix\n\n- `apps/backend/src/workers/onInboundEmail.ts`\n- `apps/backend/src/email/sendReceiptEmail.ts`\n\n## Implementation\n\n1. Add structured logging for LLM fallbacks:\n```typescript\nif (!llmResponse) {\n  logger.warn('LLM processing failed, using fallback', {\n    emailId,\n    reason: 'llm_timeout_or_error'\n  });\n}\n```\n\n2. Track email send failures:\n```typescript\ntry {\n  await sendReceiptEmail(email, subject);\n} catch (error) {\n  logger.error('Failed to send receipt email', {\n    emailId,\n    error: error.message\n  });\n  // Store in dead_letter queue for retry\n}\n```\n\n3. Track partial notification failures:\n```typescript\nlet successCount = 0;\nlet failureCount = 0;\n\nfor (const steward of stewards) {\n  try {\n    await sendStewardNotification(steward, post);\n    successCount++;\n  } catch (error) {\n    failureCount++;\n    logger.error('Steward notification failed', { stewardId: steward.id });\n  }\n}\n\nlogger.info('Steward notifications complete', { successCount, failureCount });\n```\n\n## Acceptance\n\n1. All email failures are logged\n2. Partial failures are tracked\n3. Error monitoring can detect email issues\n\nRun: `pnpm --filter backend test onInboundEmail.test.ts`","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:25:37.599064797Z","updated_at":"2026-01-01T13:25:12.601190437Z","closed_at":"2026-01-01T13:25:12.601190437Z","source_repo":".","labels":["backend","email","logging","reliability"]}
{"id":"roundtable-mk5.6","content_hash":"2f8c9a6df6c688321ff25dabffed34ed0409d8b23138ffc73bcca674a8b1e580","title":"Create standardized error response helper","description":"Create standardized error response helper for consistent API error responses.\n\n## Problem\n\nError responses are inconsistent:\n- Some return `{ success: false, error: '...' }`\n- Some return `{ error: '...', details: [] }`\n- Some return plain text\n- HTTP status codes vary (404 vs 403 for access denied)\n\n## Files\n\n- `apps/backend/src/lib/errorResponse.ts` (new)\n- Update all route files to use the helper\n\n## Implementation\n\n```typescript\n// lib/errorResponse.ts\nimport { FastifyReply } from 'fastify';\n\nexport interface ErrorDetails {\n  field?: string;\n  message: string;\n}\n\nexport interface ErrorResponse {\n  success: false;\n  error: string;\n  details?: ErrorDetails[];\n}\n\nexport function sendError(\n  reply: FastifyReply,\n  statusCode: number,\n  message: string,\n  details?: ErrorDetails[]\n) {\n  const response: ErrorResponse = {\n    success: false,\n    error: message\n  };\n  \n  if (details \u0026\u0026 details.length \u003e 0) {\n    response.details = details;\n  }\n  \n  return reply.code(statusCode).send(response);\n}\n\n// Convenience helpers\nexport const badRequest = (reply: FastifyReply, message: string, details?: ErrorDetails[]) =\u003e\n  sendError(reply, 400, message, details);\n\nexport const unauthorized = (reply: FastifyReply, message: string = 'Unauthorized') =\u003e\n  sendError(reply, 401, message);\n\nexport const forbidden = (reply: FastifyReply, message: string = 'Forbidden') =\u003e\n  sendError(reply, 403, message);\n\nexport const notFound = (reply: FastifyReply, message: string = 'Not found') =\u003e\n  sendError(reply, 404, message);\n\nexport const conflict = (reply: FastifyReply, message: string) =\u003e\n  sendError(reply, 409, message);\n\nexport const internalError = (reply: FastifyReply, message: string = 'Internal server error') =\u003e\n  sendError(reply, 500, message);\n```\n\n## Files to Update\n\nApply to all route files:\n- `draftsApi.ts`\n- `tagsApi.ts`\n- `collectionsApi.ts`\n- `memberApi.ts`\n- `timelineApi.ts`\n- `outcomesApi.ts`\n- `circleQueueApi.ts`\n- `circlesApi.ts`\n- `introductionsApi.ts`\n\n## Acceptance\n\n1. All routes use standardized error helper\n2. Error responses have consistent shape\n3. Tests verify error response format\n\nRun: `pnpm --filter backend test`","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:26:00.318847062Z","updated_at":"2026-01-01T13:27:45.158897717Z","closed_at":"2026-01-01T13:27:45.158897717Z","source_repo":".","labels":["api","backend","error-handling","ux"]}
{"id":"roundtable-mk5.7","content_hash":"b25e53f288c15a0b45fbb23d571e95b003efda1327f1b9d984f947cfbc10bcf5","title":"Create safe query builder helper for dynamic WHERE clauses","description":"Create a safer helper for building dynamic WHERE clauses to prevent SQL injection.\n\n## Problem\n\nIn `outcomesApi.ts` (lines 274-285), dynamic query building uses string interpolation:\n```typescript\nconst placeholders = circleIds.map(() =\u003e '?').join(',');\nquery += ` AND decision_id IN (${placeholders})`;\n```\n\nWhile using placeholders correctly, the pattern is error-prone. Similar issue in `timelineApi.ts`.\n\n## Files\n\n- `apps/backend/src/lib/queryBuilder.ts` (new)\n- `apps/backend/src/routes/outcomesApi.ts` (update)\n- `apps/backend/src/routes/timelineApi.ts` (update)\n\n## Implementation\n\n```typescript\n// lib/queryBuilder.ts\nexport interface QueryCondition {\n  column: string;\n  operator: 'IN' | 'NOT IN' | '=' | '\\!=' | '\u003e' | '\u003c' | '\u003e=' | '\u003c=';\n  values: (number | string)[];\n}\n\nexport class WhereBuilder {\n  private conditions: QueryCondition[] = [];\n  private params: (number | string)[] = [];\n  private paramIndex = 1;\n\n  addIn(column: string, values: (number | string)[]): this {\n    if (values.length === 0) return this;\n    \n    this.conditions.push({\n      column,\n      operator: 'IN',\n      values\n    });\n    \n    this.params.push(...values);\n    return this;\n  }\n\n  addEquals(column: string, value: number | string): this {\n    this.conditions.push({\n      column,\n      operator: '=',\n      values: [value]\n    });\n    \n    this.params.push(value);\n    return this;\n  }\n\n  build(): { clause: string; params: (number | string)[] } {\n    if (this.conditions.length === 0) {\n      return { clause: '', params: [] };\n    }\n\n    const parts = this.conditions.map(cond =\u003e {\n      if (cond.operator === 'IN') {\n        const placeholders = cond.values.map(() =\u003e `?`).join(',');\n        return `${cond.column} IN (${placeholders})`;\n      }\n      return `${cond.column} ${cond.operator} ?`;\n    });\n\n    return {\n      clause: ' WHERE ' + parts.join(' AND '),\n      params: [...this.params]\n    };\n  }\n}\n```\n\n## Usage Example\n\n```typescript\n// Before (error-prone):\nconst placeholders = circleIds.map(() =\u003e '?').join(',');\nquery += ` AND decision_id IN (${placeholders})`;\nconst results = db.prepare(query).all(...circleIds);\n\n// After (safe):\nconst builder = new WhereBuilder();\nbuilder.addIn('decision_id', circleIds);\nconst { clause, params } = builder.build();\nconst results = db.prepare(`SELECT * FROM outcomes${clause}`).all(...params);\n```\n\n## Acceptance\n\n1. `queryBuilder.ts` created with comprehensive tests\n2. `outcomesApi.ts` updated to use WhereBuilder\n3. `timelineApi.ts` updated to use WhereBuilder\n4. Tests verify SQL injection safety\n\nRun: `pnpm --filter backend test`","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T08:26:23.757653003Z","updated_at":"2026-01-01T13:25:12.601404286Z","closed_at":"2026-01-01T13:25:12.601404286Z","source_repo":".","labels":["backend","database","security","sql-injection"]}
{"id":"roundtable-nle","content_hash":"6d6b23d24c4b64973ea6086d1745918689b3be33fe5f42f91e266ed510e060b6","title":"Implement scripts/maf/receipt.sh","description":"Implement receipt.sh script that generates completion receipts from git context and command history.\n\nFeatures:\n- Auto-capture files changed (git diff)\n- Capture commands run from history\n- Capture environment toggles\n- Generate markdown output\n- Support --post flag to send to Agent Mail\n\nAcceptance:\n- Script generates valid receipt format\n- --post flag works for Agent Mail\n- Captures git context correctly","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T13:36:15.963310025Z","updated_at":"2026-01-04T14:28:56.791752137Z","closed_at":"2026-01-04T14:28:56.791752137Z","source_repo":".","labels":["maf","tooling"],"dependencies":[{"issue_id":"roundtable-nle","depends_on_id":"roundtable-xk7","type":"blocks","created_at":"2026-01-04T13:37:09.15721211Z","created_by":"root"}]}
{"id":"roundtable-ofi","content_hash":"4d488c2dc9748473a6d64c086b2e3accea2971332b64b93b6f678099f76ec6d7","title":"Epic: Production Deployment","description":"Complete production deployment setup for Roundtable.\n\nScope:\n- Environment configuration (production .env)\n- Database migrations and setup\n- Railway deployment configuration\n- Domain and DNS setup\n- SSL/TLS certificates\n- Monitoring and health checks\n- Backup strategy\n- Security hardening\n- Runbook documentation\n\nPhases:\n1. Environment setup (.env, secrets)\n2. Railway deployment configuration\n3. Database production setup\n4. Domain and SSL configuration\n5. Monitoring and alerting\n6. Backup and disaster recovery\n7. Security audit\n8. Final runbook\n\nAcceptance: Application deployed to production, all monitoring green, backups automated.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T21:25:59.355329504Z","updated_at":"2025-12-30T21:56:34.461336155Z","closed_at":"2025-12-30T21:56:34.461336155Z","source_repo":".","labels":["deployment","ops","production"]}
{"id":"roundtable-onboarding","content_hash":"089f77145014b8d794f2fce0d0112b53c617945192c8eb0046a43de1cd7ac5d1","title":"Onboarding at scale: circles + invites + access control","description":"Source of truth: docs/plans/onboarding-at-scale.md\n\nGoal: production-grade invite-only onboarding (circles + invites + submission tokens + member sessions) without building accounts/dashboards.\n\nGuardrails: DRY/YAGNI/TDD; never log raw email; do not rely on robots.txt for privacy.","acceptance_criteria":"All child tasks closed; end-to-end: create circle → invite → accept → member session → inbound email routed/allowlisted → approvals to circle stewards; pnpm build/test/e2e green.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-28T14:39:34.579052372Z","updated_at":"2025-12-28T19:36:28.338421214Z","closed_at":"2025-12-28T19:36:28.338421214Z","source_repo":".","labels":["epic","onboarding"]}
{"id":"roundtable-onboarding.1","content_hash":"13ad60721de7db6c95fc91c76207f8f0383b55b6164a3310568b2d102b81cc62","title":"Task 1: Shared onboarding schemas (v0)","description":"Implement Task 1 in docs/plans/onboarding-at-scale.md.\n\nFiles:\n- packages/shared/src/schemas/onboarding.ts (new)\n- packages/shared/src/index.ts\n- packages/shared/test/onboardingSchemas.test.ts (new)\n\nFile reservation hint (exclusive, 2h): packages/shared/** (reason=roundtable-onboarding.1)\n\nTDD: add failing schema tests first; keep shapes minimal and stable.","acceptance_criteria":"pnpm --filter @roundtable/shared test","notes":"Ready for review: added onboarding Zod schemas + tests; verified pnpm --filter @roundtable/shared test.","status":"closed","priority":2,"issue_type":"task","assignee":"LilacPond","created_at":"2025-12-28T14:40:07.120987746Z","updated_at":"2025-12-28T18:08:56.865067415Z","closed_at":"2025-12-28T18:08:56.865067415Z","source_repo":".","labels":["onboarding","schema","shared"],"dependencies":[{"issue_id":"roundtable-onboarding.1","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:40:15.319438041Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.10","content_hash":"f91968482b8ed1a5e7656df926d927b2f6c888e892051d3791ea4ea122145a58","title":"Task 10: Publish uses explicit circle/room fields (no guessing)","description":"Implement Task 10 in docs/plans/onboarding-at-scale.md.\n\nUpdate publish query/serialization to prefer posts.circle_id (and room_id later) instead of subject matching. Keep legacy fallback for old rows.\n\nFiles:\n- apps/backend/src/publish/runBatchPublish.ts\n- apps/backend/src/publish/serialize.ts\n- apps/backend/test/publishUsesRoutedFields.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/publish/**, apps/backend/test/** (reason=roundtable-onboarding.10)\n\nDepends on Task 4 (posts are routed on ingest).","acceptance_criteria":"pnpm --filter backend test test/publishUsesRoutedFields.test.ts","notes":"Ready for review: publish now prefers posts.circle_id (and restricts room title matching to that circle) with legacy fallback; added publishUsesRoutedFields test; verified pnpm --filter backend test test/publishUsesRoutedFields.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-28T14:42:05.148223131Z","updated_at":"2025-12-28T19:36:27.276433771Z","closed_at":"2025-12-28T19:36:27.276433771Z","source_repo":".","labels":["backend","onboarding","publish"],"dependencies":[{"issue_id":"roundtable-onboarding.10","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:42:09.087271546Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.10","depends_on_id":"roundtable-onboarding.4","type":"blocks","created_at":"2025-12-28T14:42:09.183112344Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.11","content_hash":"d6719521fe193ac5d69cb8f3fd28ff19a8253712da3bbfacba5989dc3fd6f447","title":"Task 11: Snapshots include circle metadata","description":"Implement Task 11 in docs/plans/onboarding-at-scale.md.\n\nUpdate snapshot generator so circles.json includes circles table metadata (name/description/purpose/principles) when present; fallback to TitleCase(circle_id). Do not include members.\n\nFiles:\n- apps/backend/src/publish/siteSnapshots.ts\n- packages/shared/src/schemas/onboarding.ts (if needed)\n- apps/backend/test/siteSnapshotsCirclesMetadata.test.ts (new)\n- apps/site/src/circles/circle-page.njk (only if fields change)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/publish/siteSnapshots.ts, apps/backend/test/**, apps/site/src/circles/** (reason=roundtable-onboarding.11)\n\nDepends on Task 2 (circles table exists).","acceptance_criteria":"pnpm --filter backend test test/siteSnapshotsCirclesMetadata.test.ts \u0026\u0026 pnpm --filter @roundtable/site build","notes":"Ready for review: circles snapshot now joins circles table metadata (name/description/purpose/principles/status/createdAt) with title-case fallback for legacy circle_ids; added siteSnapshotsCirclesMetadata test; verified pnpm --filter backend test test/siteSnapshotsCirclesMetadata.test.ts \u0026\u0026 pnpm --filter @roundtable/site build","status":"closed","priority":2,"issue_type":"task","assignee":"LilacPond","created_at":"2025-12-28T14:42:16.510775547Z","updated_at":"2025-12-28T19:36:27.27670225Z","closed_at":"2025-12-28T19:36:27.27670225Z","source_repo":".","labels":["backend","onboarding","site","snapshots"],"dependencies":[{"issue_id":"roundtable-onboarding.11","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:42:20.620408996Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.11","depends_on_id":"roundtable-onboarding.2","type":"blocks","created_at":"2025-12-28T14:42:20.716179044Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.12","content_hash":"08c406f07099eb41a8d92fc2438109dc6e2c1f07ff93957261ae63cfb380a6a6","title":"Task 12: Docs + runbook for circle onboarding","description":"Implement Task 12 in docs/plans/onboarding-at-scale.md.\n\nUpdate docs so a new engineer can onboard a circle without reading code: curl examples for internal admin endpoints, explanation of tokens/sessions, and do-not-do list (privacy + logs).\n\nFiles:\n- docs/operations/runbook.md\n- README.md\n- docs/plans/onboarding-at-scale.md (if updates needed)\n\nFile reservation hint (exclusive, 2h): docs/**, README.md (reason=roundtable-onboarding.12)\n\nDepends on Tasks 6–9 (endpoints/pages exist).","acceptance_criteria":"Docs updated with copy-pastable commands; pnpm test stays green.","notes":"Ready for review: updated runbook + README with copy/paste circle onboarding flow (create circle, invite, accept join, verify member portal/API, simulate inbound email), and a do-not list for tokens/logs/demo mode.","status":"closed","priority":3,"issue_type":"task","assignee":"LilacPond","created_at":"2025-12-28T14:42:28.172418156Z","updated_at":"2025-12-28T18:02:35.211496644Z","closed_at":"2025-12-28T18:02:35.211496644Z","source_repo":".","labels":["docs","onboarding","ops"],"dependencies":[{"issue_id":"roundtable-onboarding.12","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:42:33.016420907Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.12","depends_on_id":"roundtable-onboarding.6","type":"blocks","created_at":"2025-12-28T14:42:33.11119761Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.12","depends_on_id":"roundtable-onboarding.7","type":"blocks","created_at":"2025-12-28T14:42:33.207157477Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.12","depends_on_id":"roundtable-onboarding.8","type":"blocks","created_at":"2025-12-28T14:42:33.306937276Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.12","depends_on_id":"roundtable-onboarding.9","type":"blocks","created_at":"2025-12-28T14:42:33.383260634Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.2","content_hash":"aa72ef8877483921222aab40ff3c099fca21959a203e381d26cde90a17e33189","title":"Task 2: DB migration for onboarding primitives","description":"Implement Task 2 in docs/plans/onboarding-at-scale.md.\n\nAdd SQLite tables: people, circles (metadata), circle_members, circle_invites, submission_tokens, member_sessions. Add routing columns to posts. Update apps/backend/data/schema.sql to match.\n\nFiles:\n- apps/backend/data/migrations/004_onboarding_primitives.sql (new)\n- apps/backend/data/schema.sql\n- apps/backend/test/onboardingMigrations.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/data/migrations/**, apps/backend/data/schema.sql, apps/backend/test/** (reason=roundtable-onboarding.2)\n\nTDD: add failing migration test first (PRAGMA table_info + table existence).","acceptance_criteria":"pnpm --filter backend test test/onboardingMigrations.test.ts","notes":"Implemented onboarding primitives migration (004) + migration test; updated apps/backend/data/schema.sql to match; AC: pnpm --filter backend test test/onboardingMigrations.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"BrownStone","created_at":"2025-12-28T14:40:23.009746057Z","updated_at":"2025-12-28T15:02:23.940674736Z","closed_at":"2025-12-28T15:02:23.940706856Z","source_repo":".","labels":["backend","db","onboarding"],"dependencies":[{"issue_id":"roundtable-onboarding.2","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:40:28.411759707Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.3","content_hash":"d3316093b37b29f15e8d578f6164503169ee12e469ca93836cce33029c5748d7","title":"Task 3: Onboarding DB helpers (tokens + lookups)","description":"Implement Task 3 in docs/plans/onboarding-at-scale.md.\n\nAdd small helper modules for email normalization + token hashing + DB lookups (submission token → circle/person; circle stewards list).\n\nFiles:\n- apps/backend/src/lib/normalize.ts (new)\n- apps/backend/src/lib/authTokens.ts (new)\n- apps/backend/src/lib/onboardingRepo.ts (new)\n- apps/backend/test/*onboardingRepo*.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/lib/**, apps/backend/test/** (reason=roundtable-onboarding.3)\n\nDepends on Task 2 (tables/columns exist).","acceptance_criteria":"pnpm --filter backend test","notes":"Added onboarding helper modules (normalizeEmail, auth token hashing, onboardingRepo lookups) + tests; verified pnpm --filter backend test","status":"closed","priority":2,"issue_type":"task","assignee":"BrownStone","created_at":"2025-12-28T14:40:36.745106787Z","updated_at":"2025-12-28T15:07:01.431353831Z","closed_at":"2025-12-28T15:07:01.431362121Z","source_repo":".","labels":["auth","backend","db","onboarding"],"dependencies":[{"issue_id":"roundtable-onboarding.3","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:40:40.03232913Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.3","depends_on_id":"roundtable-onboarding.2","type":"blocks","created_at":"2025-12-28T14:40:40.131120944Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.4","content_hash":"5fdf7cdcfe155cea07a9b890f732fd655f7f51b94d0f641029a6c08ab276a466","title":"Task 4: Inbound email allowlist + routing (submission tokens)","description":"Implement Task 4 in docs/plans/onboarding-at-scale.md.\n\nChange /inbound/email to require submission token allowlist (submission_tokens). Unknown/revoked tokens must 403 (no post created). For valid tokens: write posts.circle_id + posts.author_email + posts.submission_token_id at ingest time.\n\nFiles:\n- apps/backend/src/routes/inboundEmail.ts\n- apps/backend/src/workers/onInboundEmail.ts\n- apps/backend/test/inboundEmailAllowlist.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/routes/inboundEmail.ts, apps/backend/src/workers/onInboundEmail.ts, apps/backend/test/** (reason=roundtable-onboarding.4)\n\nDepends on Task 2 (columns) + Task 3 (token lookup helper).","acceptance_criteria":"pnpm --filter backend test test/inboundEmailAllowlist.test.ts","notes":"Enforced allowlisted submission_tokens for /inbound/email; unknown/revoked tokens 403 (no post). For valid tokens, posts now store circle_id, author_email (normalized), submission_token_id at ingest. Added Fastify inject test + updated existing worker/e2e tests to seed allowlisted tokens. Verified pnpm --filter backend test.","status":"closed","priority":1,"issue_type":"task","assignee":"BrownStone","created_at":"2025-12-28T14:40:49.517676511Z","updated_at":"2025-12-28T15:15:08.857064391Z","closed_at":"2025-12-28T15:15:08.857068491Z","source_repo":".","labels":["auth","backend","email","onboarding"],"dependencies":[{"issue_id":"roundtable-onboarding.4","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:40:54.529340581Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.4","depends_on_id":"roundtable-onboarding.2","type":"blocks","created_at":"2025-12-28T14:40:54.618753198Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.4","depends_on_id":"roundtable-onboarding.3","type":"blocks","created_at":"2025-12-28T14:40:54.692375238Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.5","content_hash":"a828e2f0d6f9b527a81cd3c1bf673d42e66cb0a8c350738f221598d9c133523a","title":"Task 5: Route approvals to circle stewards","description":"Implement Task 5 in docs/plans/onboarding-at-scale.md.\n\nApproval recipient list should be: circle stewards from DB (circle_members.role=steward, active) for the post's circle_id; fallback to STEWARD_EMAIL env var.\n\nFiles:\n- apps/backend/src/workers/onInboundEmail.ts\n- apps/backend/test/circleStewardRouting.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/workers/onInboundEmail.ts, apps/backend/test/** (reason=roundtable-onboarding.5)\n\nDepends on Task 4 (posts routed to circle_id) + Task 2 (circle_members).","acceptance_criteria":"pnpm --filter backend test test/circleStewardRouting.test.ts","notes":"Approval recipients now come from DB circle stewards (circle_members role=steward, active) for the token’s circle; fallback to STEWARD_EMAIL when none. Added circleStewardRouting test; verified pnpm --filter backend test.","status":"closed","priority":2,"issue_type":"task","assignee":"BrownStone","created_at":"2025-12-28T14:41:01.757975851Z","updated_at":"2025-12-28T15:21:00.35730223Z","closed_at":"2025-12-28T15:21:00.35730776Z","source_repo":".","labels":["approvals","backend","email","onboarding"],"dependencies":[{"issue_id":"roundtable-onboarding.5","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:41:06.914487784Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.5","depends_on_id":"roundtable-onboarding.2","type":"blocks","created_at":"2025-12-28T14:41:07.011931584Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.5","depends_on_id":"roundtable-onboarding.4","type":"blocks","created_at":"2025-12-28T14:41:07.102820784Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.6","content_hash":"b29e90e2ce6e292cc3a79613ba5001ff79f250099b8b473dd7d086796891407b","title":"Task 6: Internal admin endpoints (create circle + invites + tokens)","description":"Implement Task 6 in docs/plans/onboarding-at-scale.md.\n\nAdd minimal internal endpoints under /internal/admin (protected by x-internal-secret) to create circles and invite members (issue invite token + submission token + send invite email).\n\nFiles:\n- apps/backend/src/routes/internalAdmin.ts (new)\n- apps/backend/src/server.ts\n- apps/backend/test/internalAdmin.test.ts (new)\n- docs/operations/runbook.md\n\nFile reservation hint (exclusive, 2h): apps/backend/src/routes/**, apps/backend/src/server.ts, apps/backend/test/**, docs/operations/runbook.md (reason=roundtable-onboarding.6)\n\nDepends on Task 2 + Task 3.","acceptance_criteria":"pnpm --filter backend test test/internalAdmin.test.ts","notes":"Ready for review: internal admin endpoints (+ runbook). Verified: pnpm --filter backend test test/internalAdmin.test.ts Merged: onboarding internal admin endpoints are live.","status":"closed","priority":2,"issue_type":"task","assignee":"LilacPond","created_at":"2025-12-28T14:41:15.232180608Z","updated_at":"2025-12-28T16:40:14.861838208Z","closed_at":"2025-12-28T15:51:10.688Z","source_repo":".","labels":["api","backend","onboarding","ops"],"dependencies":[{"issue_id":"roundtable-onboarding.6","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:41:21.622977364Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.6","depends_on_id":"roundtable-onboarding.2","type":"blocks","created_at":"2025-12-28T14:41:21.717025009Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.6","depends_on_id":"roundtable-onboarding.3","type":"blocks","created_at":"2025-12-28T14:41:21.78626524Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.7","content_hash":"bc7849bfe2582d4c0706153f0a24ca2d9b4345547b8039405eb12da6e1f47157","title":"Task 7: Invite acceptance + member sessions (cookies)","description":"Implement Task 7 in docs/plans/onboarding-at-scale.md.\n\nAdd /join/:token to accept invite, activate membership, and set HttpOnly session cookie (member_sessions). No passwords.\n\nFiles:\n- apps/backend/src/routes/invites.ts (new)\n- apps/backend/src/lib/cookies.ts (new)\n- apps/backend/src/server.ts\n- apps/backend/test/inviteAcceptance.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/routes/**, apps/backend/src/lib/**, apps/backend/src/server.ts, apps/backend/test/** (reason=roundtable-onboarding.7)\n\nDepends on Task 6 (invites exist) + Task 2 (sessions tables).","acceptance_criteria":"pnpm --filter backend test apps/backend/test/inviteAcceptance.test.ts","notes":"Implemented /join/:token invite acceptance + member session cookie; added inviteAcceptance test; verified pnpm --filter backend test","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-28T14:41:29.206629892Z","updated_at":"2025-12-28T15:47:21.637256481Z","closed_at":"2025-12-28T15:45:39.758Z","source_repo":".","labels":["auth","backend","onboarding"],"dependencies":[{"issue_id":"roundtable-onboarding.7","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:41:32.889463055Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.7","depends_on_id":"roundtable-onboarding.6","type":"blocks","created_at":"2025-12-28T14:41:32.983180483Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.7","depends_on_id":"roundtable-onboarding.2","type":"blocks","created_at":"2025-12-28T14:41:33.078326054Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.8","content_hash":"4722d62d29697472cb27532a7793e61bd6bdfdde55b7a394fb2df855a0e1865d","title":"Task 8: Member auth middleware + member-only API","description":"Implement Task 8 in docs/plans/onboarding-at-scale.md.\n\nAdd session verification middleware and member-only endpoints (api/me, api/my/circles, etc). Must only expose circles the member belongs to.\n\nFiles:\n- apps/backend/src/lib/requireMember.ts (new)\n- apps/backend/src/routes/memberApi.ts (new)\n- apps/backend/src/server.ts\n- apps/backend/test/memberAuth.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/lib/**, apps/backend/src/routes/**, apps/backend/src/server.ts, apps/backend/test/** (reason=roundtable-onboarding.8)\n\nDepends on Task 7.","acceptance_criteria":"pnpm --filter backend test test/memberAuth.test.ts","notes":"Ready for review: added requireMember session middleware + member-only API routes (/api/me, /api/my/circles, /api/my/circles/:id) backed by member_sessions + circle_members; added memberAuth test; verified pnpm --filter backend test test/memberAuth.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-28T14:41:41.360900057Z","updated_at":"2025-12-28T19:36:27.276027673Z","closed_at":"2025-12-28T19:36:27.276027673Z","source_repo":".","labels":["api","authz","backend","onboarding"],"dependencies":[{"issue_id":"roundtable-onboarding.8","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:41:45.24779924Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.8","depends_on_id":"roundtable-onboarding.7","type":"blocks","created_at":"2025-12-28T14:41:45.343768207Z","created_by":"daemon"}]}
{"id":"roundtable-onboarding.9","content_hash":"07b7aad4a0ffca66bcb9d7624d5500738713080d7066a8c9535f455478d600e1","title":"Task 9: Minimal member portal pages (HTML)","description":"Implement Task 9 in docs/plans/onboarding-at-scale.md.\n\nAdd minimal member-only HTML pages served by backend: /app and /app/circles/:id. No framework. Semantic HTML + minimal CSS.\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (new)\n- apps/backend/src/server.ts\n- apps/backend/test/memberPages.test.ts (new)\n\nFile reservation hint (exclusive, 2h): apps/backend/src/routes/**, apps/backend/src/server.ts, apps/backend/test/** (reason=roundtable-onboarding.9)\n\nDepends on Task 8 (auth middleware/API exists).","acceptance_criteria":"pnpm --filter backend test test/memberPages.test.ts","notes":"Ready for review: implemented member portal pages under /app (requires rt_session cookie) and /app/circles/:id (404 if non-member); added memberPages test; verified pnpm --filter backend test test/memberPages.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-28T14:41:53.501317683Z","updated_at":"2025-12-28T18:32:00.094179599Z","closed_at":"2025-12-28T18:12:02.969148473Z","source_repo":".","labels":["backend","onboarding","ui"],"dependencies":[{"issue_id":"roundtable-onboarding.9","depends_on_id":"roundtable-onboarding","type":"parent-child","created_at":"2025-12-28T14:41:56.755770597Z","created_by":"daemon"},{"issue_id":"roundtable-onboarding.9","depends_on_id":"roundtable-onboarding.8","type":"blocks","created_at":"2025-12-28T14:41:56.850899498Z","created_by":"daemon"}]}
{"id":"roundtable-own","content_hash":"ba2c701a24b24493556a449d9c4e6bcf5378508eb25d7160e575bf67d6b0477f","title":"Phase 2: Railway deployment configuration","description":"Configure Railway deployment for the backend service.\n\nTasks:\n- Create railway.json configuration\n- Set build command (pnpm --filter backend build)\n- Set start command (pnpm --filter backend start)\n- Configure environment variables in Railway dashboard\n- Set health check endpoint (/health)\n- Configure auto-deploy on push to main\n- Test deployment\n\nFiles:\n- railway.json (new)\n- docs/operations/railway-deployment.md (new)\n\nAcceptance: Railway app deployed and healthy.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:26:32.893224738Z","updated_at":"2025-12-30T21:34:09.615359883Z","closed_at":"2025-12-30T21:34:09.615359883Z","source_repo":".","labels":["deployment","ops","railway"],"dependencies":[{"issue_id":"roundtable-own","depends_on_id":"roundtable-9ts","type":"blocks","created_at":"2025-12-30T21:26:32.898092126Z","created_by":"root"}]}
{"id":"roundtable-p4c","content_hash":"f930619ce317dd3bbda18698ad854627ebd1befc39a3895d6fce84b48400c3da","title":"Phase 3.1: Database setup with SQLite (instead of Postgres as per ADR-002)","description":"Set up SQLite database with Better-SQLite3, create initial tables for inbound_emails, post_drafts, approvals, publish_batches, and audit_log. Include migration system and connection pool setup.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:43:00.734427132Z","updated_at":"2025-12-16T08:50:15.80638419Z","closed_at":"2025-12-16T08:50:15.80638419Z","source_repo":".","labels":["backend","db"]}
{"id":"roundtable-pdi","content_hash":"abf20c755d248457a1393f241a9338ac049815aa0b876f105ffeae80ebb43c08","title":"roundtable-metrics-003","description":"","acceptance_criteria":"GET /app/circles/:circleId/metrics - steward metrics dashboard; displays rooms opened vs clarity achieved percentage; average time to decision (days); qualitative feedback themes summary; repeat founder engagement rate; NO vanity metrics (views, likes); shows last 30/60/90 day trends","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T06:52:39.591340283Z","updated_at":"2026-01-04T06:56:20.767343771Z","closed_at":"2026-01-04T06:56:20.767343771Z","source_repo":".","labels":["clarity-metrics","epic-4","frontend","portal"]}
{"id":"roundtable-pe3","content_hash":"dec03a390a4cc271f83b20fd54abf78a4d85a013b4c9cb95b65079258301ec00","title":"Implement Reflection Journey timeline API","description":"","status":"closed","priority":3,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T02:53:21.380310796Z","updated_at":"2026-01-04T04:11:22.649740236Z","closed_at":"2026-01-04T04:11:22.649740236Z","source_repo":".","labels":["epic","reflection"]}
{"id":"roundtable-pf7","content_hash":"e8e68190b39a6547132282216d4c45232f1508a0829d9afedaa235f74b631506","title":"Introduction request flow","description":"Create introduction request system allowing founders to request steward-facilitated introductions to operators who resonated. POST /api/introductions/request endpoint. Stewards review requests and facilitate if aligned. Introduction tracking table to manage state.","acceptance_criteria":"introductions table created (request_id, post_id, founder_id, resonance_ids, status, created_at); POST /api/introductions/request endpoint; founder selects resonances and adds context note; stewards see pending requests; introduction states: pending, approved, rejected, completed, withdrawn; email notification to steward on new request","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T05:59:43.891654993Z","updated_at":"2026-01-04T06:11:56.109905188Z","closed_at":"2026-01-04T06:11:56.109905188Z","source_repo":".","labels":["api","backend","epic","slow-match"]}
{"id":"roundtable-portal-redesign","content_hash":"5b05f0aef624935c2762e9a26f24c77f0407b8c38fc4029e599e7889cf45d9b1","title":"Portal Redesign - Swiss-spa elegance for member portal","description":"Source of truth: docs/plan/portal-redesign-tmux.md v4.0\n\nGoal: Refactor member portal from prototype (2/10) to Swiss-spa elegance (8/10) with automated validation scripts for 85-90% autonomous success rate.\n\nPrinciples: DRY, YAGNI, TDD, frequent commits.\n\nScope:\n- Phase 0: Shared utilities (htmlUtils, dateUtils)\n- Phase 1: Design system (CSS, static serving, CSP)\n- Phase 2: Component CSS (5 blocks)\n- Phase 3: Page template system\n- Phase 4: Email templates\n- Phase 5: Login page\n- Phase 6: Dashboard\n- Phase 7: Circle detail\n- Phase 8: Steward queue\n- Phase 9: Testing \u0026 docs\n\nCritical Coordination:\n- Bead 3 (CSS) MUST be single-agent - all 5 components in one bead\n- Beads 7, 8, 9 modify memberPages.ts - must execute serially\n- Bead 5 (Email) changes sendInviteEmail interface - verify call sites\n\nAcceptance: All roundtable-portal-redesign.* tasks closed, validation scripts pass, and pnpm test/build green.","acceptance_criteria":"All child tasks closed; validation scripts pass; pnpm test/build green.","status":"closed","priority":1,"issue_type":"epic","assignee":"FuchsiaCreek","created_at":"2025-12-30T00:00:00Z","updated_at":"2026-01-01T14:36:44.325937596Z","closed_at":"2026-01-01T14:36:44.325937596Z","source_repo":".","labels":["backend","css","email","epic","portal","test","ux"]}
{"id":"roundtable-portal-redesign.1","content_hash":"401fe85adf285b24a7bb4f0edd4fceccac24210d013ea022a6ee3e4119960802","title":"Phase 0: Shared utilities (htmlUtils, dateUtils)","description":"Implement Phase 0 from docs/plan/portal-redesign-tmux.md.\n\nCreate shared utility modules for HTML escaping and date formatting.\n\nTasks:\n1. Create apps/backend/src/lib/htmlUtils.ts with:\n   - escapeHtml(text: string): string - XSS prevention\n   - escapeHtmlAttr(value: string): string - attribute escaping\n   - NewlineToBr(text: string): string - convert newlines to \u003cbr\u003e\n   - stripTags(text: string): string - remove HTML tags\n   - truncate(text: string, maxLength: number): string - safe truncate\n   - Include unit tests for each function\n\n2. Create apps/backend/src/lib/dateUtils.ts with:\n   - formatDateRelative(date: Date): string - '2 hours ago'\n   - formatDateFull(date: Date): string - 'January 15, 2025'\n   - formatDateShort(date: Date): string - 'Jan 15'\n   - formatTime(date: Date): string - '3:45 PM'\n   - Include unit tests for each function\n\n3. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 1\n\nFiles:\n- apps/backend/src/lib/htmlUtils.ts (new)\n- apps/backend/src/lib/dateUtils.ts (new)\n- apps/backend/test/htmlUtils.test.ts (new)\n- apps/backend/test/dateUtils.test.ts (new)\n\nDependencies: None\nEstimated time: 30 minutes","acceptance_criteria":"pnpm --filter backend test htmlUtils \u0026\u0026 pnpm --filter backend test dateUtils","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T13:40:34.770116727Z","closed_at":"2025-12-30T13:40:34.770116727Z","source_repo":".","labels":["backend","portal","test","utils"],"dependencies":[{"issue_id":"roundtable-portal-redesign.1","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.10","content_hash":"ed23d30bb5d3cc76cab16fa7be672660966aebdabc5aa41a42772687e7a8ae34","title":"Phase 9: Testing \u0026 documentation","description":"Implement Phase 9 from docs/plan/portal-redesign-tmux.md.\n\nComplete testing, documentation, and final verification.\n\nTasks:\n1. Run all validation scripts:\n   ./apps/backend/scripts/portal-redesign/css-integrity-check.sh --check-sections\n   ./apps/backend/scripts/portal-redesign/call-site-verifier.sh escapeHtml\n   ./apps/backend/scripts/portal-redesign/call-site-verifier.sh sendInviteEmail\n\n2. Run full test suite:\n   pnpm --filter backend test\n   pnpm test:e2e\n\n3. Update documentation:\n   - CLAUDE.md with new portal architecture\n   - Add screenshots to docs (optional)\n   - Update any relevant operation docs\n\n4. Manual verification:\n   - Login → dashboard → circle detail → steward queue flow\n   - Alpine.js interactions work\n   - Email templates render in multiple clients\n   - Static CSS loads at /public/css/portal.css\n   - No duplicate escapeHtml definitions\n   - All pages use renderPage()\n   - CSP headers present\n\n5. Run final validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 10\n\n6. Show bead state:\n   ./apps/backend/scripts/portal-redesign/bead-state.sh show\n   Expected: All beads (1-10) showing \"completed\" (green)\n\nDependencies: All previous beads\nEstimated time: 2 hours","acceptance_criteria":"All tests pass; documentation updated; manual verification complete","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T15:40:58.005301037Z","closed_at":"2025-12-30T15:41:00Z","source_repo":".","labels":["backend","docs","portal","test"],"dependencies":[{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.3","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.4","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.5","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.6","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.7","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.8","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.10","depends_on_id":"roundtable-portal-redesign.9","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.2","content_hash":"ffac5bc4d86c65f6f5e9e2db60a2b694f1123d23229f7f42c2205057268ab9c7","title":"Phase 1: Design system (CSS, static serving, CSP)","description":"Implement Phase 1 from docs/plan/portal-redesign-tmux.md.\n\nCreate the design system foundation including CSS framework, static file serving, and CSP headers.\n\nTasks:\n1. Install @fastify/static if not already installed:\n   cd apps/backend \u0026\u0026 pnpm add @fastify/static \u0026\u0026 cd ../..\n\n2. Create apps/backend/src/public/css/portal.css with:\n   - CSS variables (colors, typography, spacing)\n   - Reset/normalize\n   - Base element styles\n   - Utility classes (container, flex, grid)\n   - Responsive breakpoints\n   - Run: ./apps/backend/scripts/portal-redesign/css-integrity-check.sh\n\n3. Register static file serving in apps/backend/src/server.ts:\n   - Import @fastify/static\n   - Register with prefix '/public'\n   - Serve files from 'public' directory\n\n4. Add CSP headers to all /app routes:\n   - default-src 'self'\n   - script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net (for Alpine.js)\n   - style-src 'self' 'unsafe-inline'\n   - img-src 'self' data: https:\n   - font-src 'self'\n\n5. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 2\n\nFiles:\n- apps/backend/src/public/css/portal.css (new)\n- apps/backend/src/server.ts (modify)\n- apps/backend/src/routes/memberPages.ts (add CSP)\n\nDependencies: roundtable-portal-redesign.1 (for htmlUtils)\nEstimated time: 1 hour","acceptance_criteria":"CSS loads at /public/css/portal.css; CSP headers present on /app routes","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T14:18:52.048309344Z","closed_at":"2025-12-30T14:18:52.048309344Z","source_repo":".","labels":["backend","css","portal","security"],"dependencies":[{"issue_id":"roundtable-portal-redesign.2","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.2","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.3","content_hash":"161f3438501cae0ae6ecc691b33ffb11b975abda6807864afd288e3c8bb67494","title":"Phase 2: Component CSS (all 5 blocks) - SINGLE AGENT ONLY","description":"Implement Phase 2 from docs/plan/portal-redesign-tmux.md.\n\nCRITICAL: This bead MUST be done by ONE agent (CSS shepherd). All other agents must wait.\n\nAdd component CSS styles to portal.css (append to existing file).\n\nTasks:\nAppend these 5 component blocks to apps/backend/src/public/css/portal.css:\n\n1. Header component:\n   - .portal-header (fixed top, backdrop blur)\n   - .portal-logo (typography)\n   - .portal-nav (flex layout)\n   - .portal-nav-link (hover states)\n\n2. Cards:\n   - .card (base container)\n   - .card-title, .card-subtitle (typography)\n   - .card-body (spacing)\n   - .card-footer (actions)\n\n3. Forms:\n   - .form-group (spacing)\n   - .form-label (typography)\n   - .form-input (border, focus states)\n   - .form-button (primary/secondary variants)\n\n4. Tables:\n   - .data-table (responsive wrapper)\n   - .data-table thead (background)\n   - .data-table tr (hover states)\n   - .data-table td (padding, borders)\n\n5. Status badges:\n   - .badge (base)\n   - .badge-pending, .badge-active, .badge-removed (colors)\n   - .badge-steward, .badge-founder, .badge-operator (role colors)\n\nAfter appending, run:\n./apps/backend/scripts/portal-redesign/css-integrity-check.sh --check-sections\n\nThen run validation:\n./apps/backend/scripts/portal-redesign/validate-bead.sh 3\n\nFiles:\n- apps/backend/src/public/css/portal.css (append only)\n\nDependencies: roundtable-portal-redesign.2\nEstimated time: 2 hours\n\nCRITICAL: No parallel edits to portal.css during this bead.","acceptance_criteria":"CSS integrity check passes; all 5 components present","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T13:39:13.767900152Z","closed_at":"2025-12-30T13:39:13.767900152Z","source_repo":".","labels":["backend","css","portal","ux"],"dependencies":[{"issue_id":"roundtable-portal-redesign.3","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.3","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.4","content_hash":"c7d53500abe836339eab676e44061384e15a98cd45299ba4340abc94ce12cc7b","title":"Phase 3: Page template system","description":"Implement Phase 3 from docs/plan/portal-redesign-tmux.md.\n\nCreate a reusable page template system with renderPage() function.\n\nTasks:\n1. Create renderPage() in apps/backend/src/routes/memberPages.ts:\n   ```typescript\n   interface PageOptions {\n     title: string;\n     content: string;\n     member?: { displayName: string };\n   }\n   \n   function renderPage(opts: PageOptions): string {\n     return `\n       \u003c!DOCTYPE html\u003e\n       \u003chtml lang=\"en\"\u003e\n       \u003chead\u003e\n         \u003cmeta charset=\"UTF-8\"\u003e\n         \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n         \u003ctitle\u003e${escapeHtml(opts.title)} | Roundtable\u003c/title\u003e\n         \u003clink rel=\"stylesheet\" href=\"/public/css/portal.css\"\u003e\n         \u003cscript defer src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.14.0/dist/cdn.min.js\"\u003e\u003c/script\u003e\n       \u003c/head\u003e\n       \u003cbody\u003e\n         \u003cheader class=\"portal-header\"\u003e\n           \u003cdiv class=\"container\"\u003e\n             \u003cdiv class=\"portal-logo\"\u003eRoundtable\u003c/div\u003e\n             ${opts.member ? `\n               \u003cnav class=\"portal-nav\"\u003e\n                 \u003cspan\u003e${escapeHtml(opts.member.displayName)}\u003c/span\u003e\n                 \u003ca href=\"/logout\"\u003eSign out\u003c/a\u003e\n               \u003c/nav\u003e\n             ` : ''}\n           \u003c/div\u003e\n         \u003c/header\u003e\n         \u003cmain\u003e${opts.content}\u003c/main\u003e\n       \u003c/body\u003e\n       \u003c/html\u003e\n     `;\n   }\n   ```\n\n2. Update existing /app routes to use renderPage()\n3. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 4\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (modify)\n\nDependencies: roundtable-portal-redesign.1, roundtable-portal-redesign.2, roundtable-portal-redesign.3\nEstimated time: 1 hour","acceptance_criteria":"All /app routes use renderPage(); consistent layout","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T14:24:55.431629404Z","closed_at":"2025-12-30T14:24:55.431629404Z","source_repo":".","labels":["backend","portal","ux"],"dependencies":[{"issue_id":"roundtable-portal-redesign.4","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.4","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.4","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.4","depends_on_id":"roundtable-portal-redesign.3","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.5","content_hash":"c5d34a43932ca7c9b193de8389cf186f93ebcb46d9160f353a8df5475a9fddf8","title":"Phase 4: Email templates with sendInviteEmail interface change","description":"Implement Phase 4 from docs/plan/portal-redesign-tmux.md.\n\nCreate elegant HTML email templates for member communications.\n\nTasks:\n1. Create email template functions:\n   - apps/backend/src/email/sendInviteEmail.ts - circle invitation\n   - apps/backend/src/email/sendWelcomeEmail.ts - new member welcome\n   - apps/backend/src/email/sendStewardInvite.ts - steward invitation\n   - apps/backend/src/email/sendApprovalEmail.ts - post approval notification\n   - apps/backend/src/email/templates.ts - shared email utilities\n\n2. IMPORTANT: Update sendInviteEmail signature:\n   BEFORE: sendInviteEmail({ to, from, joinUrl, submissionEmail })\n   AFTER: sendInviteEmail({ to, from, circleName, joinUrl, submissionEmail })\n\n3. Verify call sites (after updating):\n   ./apps/backend/scripts/portal-redesign/call-site-verifier.sh sendInviteEmail\n\n4. Files to update for sendInviteEmail call sites:\n   - apps/backend/src/routes/internalAdmin.ts (line ~166)\n   - Any other files that call sendInviteEmail\n\n5. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 5\n\nFiles:\n- apps/backend/src/email/sendInviteEmail.ts (modify signature)\n- apps/backend/src/email/sendWelcomeEmail.ts (new)\n- apps/backend/src/email/sendStewardInvite.ts (new)\n- apps/backend/src/email/sendApprovalEmail.ts (new)\n- apps/backend/src/email/templates.ts (new)\n- apps/backend/src/routes/internalAdmin.ts (update call site)\n\nDependencies: roundtable-portal-redesign.1 (for htmlUtils)\nEstimated time: 1.5 hours\n\nCRITICAL: Must verify all sendInviteEmail call sites after signature change.","acceptance_criteria":"Email templates render correctly; all call sites updated","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T14:34:46.500024361Z","closed_at":"2025-12-30T14:34:46.500030241Z","source_repo":".","labels":["backend","email","portal"],"dependencies":[{"issue_id":"roundtable-portal-redesign.5","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.5","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.6","content_hash":"964b89d0ce83a00113b1710c73596a2093121571c37888040b33f24d8fc0119b","title":"Phase 5: Login page (Swiss-spa elegance)","description":"Implement Phase 5 from docs/plan/portal-redesign-tmux.md.\n\nRedesign the login page with elegant, minimal UI.\n\nTasks:\n1. Create GET /login route in apps/backend/src/routes/memberLogin.ts:\n   - Render elegant login form using renderPage() or inline HTML\n   - Email input field\n   - Submit button with hover states\n   - Help text below form\n   - Use portal.css component styles\n\n2. Form posts to /login/request (existing route)\n3. Ensure success/error messages are clear\n4. Add responsive design for mobile\n5. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 6\n\nFiles:\n- apps/backend/src/routes/memberLogin.ts (modify)\n- apps/backend/src/public/css/portal.css (append login-specific styles if needed)\n\nDependencies: roundtable-portal-redesign.1, roundtable-portal-redesign.2, roundtable-portal-redesign.3, roundtable-portal-redesign.4\nEstimated time: 1 hour","acceptance_criteria":"pnpm --filter backend test memberLoginPage","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T14:37:05.711236649Z","closed_at":"2025-12-30T14:37:05.711236649Z","source_repo":".","labels":["backend","portal","ux"],"dependencies":[{"issue_id":"roundtable-portal-redesign.6","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.6","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.6","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.6","depends_on_id":"roundtable-portal-redesign.3","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.6","depends_on_id":"roundtable-portal-redesign.4","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.7","content_hash":"b915eef5f06e5579da85ba35504c4c62f41ec1bd9b4b2ea6bbcd4170f178c6d4","title":"Phase 6: Dashboard (member circles list)","description":"Implement Phase 6 from docs/plan/portal-redesign-tmux.md.\n\nRedesign the dashboard (/app) with elegant card-based layout.\n\nTasks:\n1. Update GET /app route in apps/backend/src/routes/memberPages.ts:\n   - Fetch member's circles from database\n   - Render card grid layout\n   - Each card shows: circle name, description, member count, status\n   - Click card to go to /app/circles/:id\n   - Use dateUtils for relative dates\n   - Use htmlUtils for escaping\n\n2. Card design:\n   - Subtle shadows on hover\n   - Role badge (founder/steward/operator/advisor)\n   - Status badge (active/removed)\n   - Clean typography\n\n3. Add empty state when no circles\n4. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 7\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (modify)\n- apps/backend/src/public/css/portal.css (append dashboard-specific styles if needed)\n\nDependencies: roundtable-portal-redesign.1, roundtable-portal-redesign.2, roundtable-portal-redesign.3, roundtable-portal-redesign.4\nEstimated time: 1.5 hours\n\nCRITICAL: Beads 7, 8, 9 all modify memberPages.ts - must execute serially.","acceptance_criteria":"pnpm --filter backend test memberPages","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T14:37:39.928192781Z","closed_at":"2025-12-30T14:37:39.928192781Z","source_repo":".","labels":["backend","portal","ux"],"dependencies":[{"issue_id":"roundtable-portal-redesign.7","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.7","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.7","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.7","depends_on_id":"roundtable-portal-redesign.3","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.7","depends_on_id":"roundtable-portal-redesign.4","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.8","content_hash":"7b47ff7c2fd4aebba9a574e31582f267fd942bdfb68cc92396fe069c17d2b4f5","title":"Phase 7: Circle detail page","description":"Implement Phase 7 from docs/plan/portal-redesign-tmux.md.\n\nRedesign the circle detail page (/app/circles/:id) with clean, organized layout.\n\nTasks:\n1. Update GET /app/circles/:id route in apps/backend/src/routes/memberPages.ts:\n   - Fetch circle details from database\n   - Fetch circle members with roles\n   - Fetch recent posts (approved, public)\n   - Render with sections: header, members, posts\n\n2. Page sections:\n   - Header: circle name, description, purpose\n   - Members: table with name, role, status, join date\n   - Posts: card grid with title, author, date, preview\n   - Use SUBSTR(content, 1, 200) for preview (no summary column)\n\n3. Add actions based on role:\n   - Stewards: link to /app/circles/:id/steward\n   - Founders: invite link\n\n4. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 8\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (modify)\n- apps/backend/src/public/css/portal.css (append circle-specific styles if needed)\n\nDependencies: roundtable-portal-redesign.1, roundtable-portal-redesign.2, roundtable-portal-redesign.3, roundtable-portal-redesign.4\nEstimated time: 1.5 hours\n\nCRITICAL: Beads 7, 8, 9 all modify memberPages.ts - must execute serially.","acceptance_criteria":"Circle page renders with all sections; posts show author_email correctly","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T14:47:35.551370866Z","closed_at":"2025-12-30T14:47:35.551370866Z","source_repo":".","labels":["backend","portal","ux"],"dependencies":[{"issue_id":"roundtable-portal-redesign.8","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.8","depends_on_id":"roundtable-portal-redesign.7","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.8","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.8","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.8","depends_on_id":"roundtable-portal-redesign.3","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.8","depends_on_id":"roundtable-portal-redesign.4","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-portal-redesign.9","content_hash":"170285a76d61d23e5df179c946caf6ceb0d71fd1b0b52f430f4b5d1e4f3bea1b","title":"Phase 8: Steward queue with Alpine.js interactions","description":"Implement Phase 8 from docs/plan/portal-redesign-tmux.md.\n\nRedesign the steward queue (/app/circles/:id/steward) with expand/collapse interactions.\n\nTasks:\n1. Update GET /app/circles/:id/steward route in apps/backend/src/routes/memberPages.ts:\n   - Fetch pending posts for the circle\n   - Check user is steward (return 404 if not)\n   - Render with Alpine.js for interactions\n\n2. Alpine.js interactions:\n   ```html\n   \u003cdiv x-data=\"{ expanded: false }\"\u003e\n     \u003cdiv class=\"post-preview\" @click=\"expanded = !expanded\"\u003e\n       \u003c!-- Title, author, date --\u003e\n     \u003c/div\u003e\n     \u003cdiv x-show=\"expanded\" class=\"post-full\"\u003e\n       \u003c!-- Full content --\u003e\n       \u003cbutton @click=\"approve(postId)\"\u003eApprove\u003c/button\u003e\n       \u003cbutton @click=\"reject(postId)\"\u003eReject\u003c/button\u003e\n     \u003c/div\u003e\n   \u003c/div\u003e\n   ```\n\n3. POST actions for approve/reject:\n   - Update posts.status = 'approved' or 'rejected'\n   - Redirect back to queue\n\n4. Run validation:\n   ./apps/backend/scripts/portal-redesign/validate-bead.sh 9\n\nFiles:\n- apps/backend/src/routes/memberPages.ts (modify)\n- apps/backend/src/public/css/portal.css (append queue-specific styles if needed)\n\nDependencies: roundtable-portal-redesign.1, roundtable-portal-redesign.2, roundtable-portal-redesign.3, roundtable-portal-redesign.4\nEstimated time: 1 hour\n\nCRITICAL: Beads 7, 8, 9 all modify memberPages.ts - must execute serially.\nCRITICAL: Only stewards can access this route (404 for non-stewards).","acceptance_criteria":"Steward queue works with Alpine.js; approve/reject actions work","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T13:22:47.856315163Z","updated_at":"2025-12-30T15:16:02.116396591Z","closed_at":"2025-12-30T15:16:00Z","source_repo":".","labels":["backend","portal","ux"],"dependencies":[{"issue_id":"roundtable-portal-redesign.9","depends_on_id":"roundtable-portal-redesign","type":"parent-child","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.9","depends_on_id":"roundtable-portal-redesign.8","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.9","depends_on_id":"roundtable-portal-redesign.1","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.9","depends_on_id":"roundtable-portal-redesign.2","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.9","depends_on_id":"roundtable-portal-redesign.3","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"},{"issue_id":"roundtable-portal-redesign.9","depends_on_id":"roundtable-portal-redesign.4","type":"blocks","created_at":"2025-12-30T00:00:00Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles","content_hash":"0453d4e6b315d5b60146e74b96736289b7bf5ac2d3ffa6b81ebbafba1b682a87","title":"Production private circles: invite-only + portal + explicit public notes","description":"Plan: docs/plans/private-circles-production.md. Ship production-ready private circles (invite-only) with a member portal and explicit public publishing of selected notes only.","acceptance_criteria":"All roundtable-private-circles.* tasks are complete and the Definition of Done in docs/plans/private-circles-production.md is satisfied (pnpm build/test/e2e green).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-29T04:28:55.146343743Z","updated_at":"2025-12-29T07:48:36.32957688Z","closed_at":"2025-12-29T07:48:36.32957688Z","source_repo":".","labels":["auth","backend","db","docs","email","epic","onboarding","ops","publish","security"]}
{"id":"roundtable-private-circles.0","content_hash":"28ddff2e51a85be5ad56c2e866d82ad07607bd675731c508a104040c84860d71","title":"Task 0: Verify baseline is green","description":"Implements Task 0 in docs/plans/private-circles-production.md: confirm pnpm build/test/e2e are green before stacking changes.","acceptance_criteria":"pnpm build \u0026\u0026 pnpm test \u0026\u0026 pnpm test:e2e","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-29T04:30:04.350523407Z","updated_at":"2025-12-29T04:31:03.58270344Z","closed_at":"2025-12-29T04:31:03.58270344Z","source_repo":".","labels":["baseline","dx","test"],"dependencies":[{"issue_id":"roundtable-private-circles.0","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:04.354015752Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.1","content_hash":"f4ff0349e8b84582c83155e583c723ef071bf54e297cf03dfe0b0d8adc5b4a15","title":"Task 0.1: Email deliverability preflight (SPF/DKIM/DMARC)","description":"Implements Task 0.1 in docs/plans/private-circles-production.md. Configure SMTP + PUBLIC_BASE_URL and verify real inbox delivery (not spam) for invite/approval emails.","acceptance_criteria":"Deliverability verified end-to-end: invite email arrives in a real inbox, links use correct PUBLIC_BASE_URL, join link lands in /app.","status":"closed","priority":2,"issue_type":"chore","assignee":"OrangePond","created_at":"2025-12-29T04:30:11.664851581Z","updated_at":"2025-12-29T05:02:38.590842216Z","closed_at":"2025-12-29T05:02:38.590842216Z","source_repo":".","labels":["deliverability","email","ops"],"dependencies":[{"issue_id":"roundtable-private-circles.1","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:11.668308885Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.10","content_hash":"50bf87e6c1108dcd7974f8b081010d3d5f6dcdc7ec6a9fb6dc417a91ebb58ce7","title":"Task 8: Token routes send no-store/no-referrer headers","description":"Implements Task 8 in docs/plans/private-circles-production.md. Add Cache-Control no-store + Referrer-Policy no-referrer (and related headers) on invite/join and approval token routes. Touch: apps/backend/src/routes/invites.ts, apps/backend/src/routes/approvals.ts, and add/extend a test (e.g. apps/backend/test/tokenHeaders.test.ts).","acceptance_criteria":"pnpm --filter backend exec vitest run test/tokenHeaders.test.ts","notes":"Added apps/backend/test/tokenHeaders.test.ts so the acceptance command is runnable. Run the above; if green, reply APPROVED (or APPROVED roundtable-private-circles.10).","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-29T04:31:30.683636082Z","updated_at":"2025-12-29T05:43:50.211573923Z","closed_at":"2025-12-29T05:07:23.258503784Z","source_repo":".","labels":["backend","security"],"dependencies":[{"issue_id":"roundtable-private-circles.10","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:31:30.687806424Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.10","depends_on_id":"roundtable-private-circles.2","type":"blocks","created_at":"2025-12-29T04:32:27.57551113Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.10","depends_on_id":"roundtable-private-circles.8","type":"blocks","created_at":"2025-12-29T04:32:30.582536885Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.11","content_hash":"6a469b31681da529d0cce92d8c21e2523d129361ffde1bf88fbe9ff90b866d48","title":"Task 9: Rate limit inbound email + token endpoints","description":"Implements Task 9 in docs/plans/private-circles-production.md. Add basic rate limiting to protect inbound email + token endpoints (join/approval/login). Touch: apps/backend/src/server.ts and relevant route files; add at least one test proving rate limiting (e.g. apps/backend/test/rateLimit.test.ts).","acceptance_criteria":"pnpm --filter backend exec vitest run test/rateLimit.test.ts","notes":"NOTE: Use 'pnpm --filter backend exec vitest run …' for reliable single-file runs. rateLimit test file is at apps/backend/test/rateLimit.test.ts.","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-29T04:31:37.083697843Z","updated_at":"2025-12-29T06:56:10.701328723Z","closed_at":"2025-12-29T06:56:02.755986291Z","source_repo":".","labels":["backend","security"],"dependencies":[{"issue_id":"roundtable-private-circles.11","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:31:37.086752489Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.11","depends_on_id":"roundtable-private-circles.9","type":"blocks","created_at":"2025-12-29T04:32:33.532639856Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.11","depends_on_id":"roundtable-private-circles.10","type":"blocks","created_at":"2025-12-29T04:32:36.472097824Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.12","content_hash":"01ffc4fe809b8f3e095449e882250eed2ecf0c0f421181ba7ecc2a20bce3b842","title":"Task 10: Private circles onboarding + publish SOP","description":"Implements Task 10 in docs/plans/private-circles-production.md. Update runbook and add an onboarding SOP so an operator can onboard a circle + invite + mark-public + publish without reading code. Touch: docs/operations/runbook.md, docs/operations/onboarding-sop.md (new), optional scripts/onboarding/bulk-invite.ts.","acceptance_criteria":"Docs updated with copy/pastable commands; pnpm test stays green.","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-29T04:31:43.150409056Z","updated_at":"2025-12-31T13:37:10.964053692Z","closed_at":"2025-12-31T13:37:10.964053692Z","source_repo":".","labels":["docs","onboarding","ops"],"dependencies":[{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:31:43.154701387Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles.4","type":"blocks","created_at":"2025-12-29T04:32:42.059314754Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles.6","type":"blocks","created_at":"2025-12-29T04:32:44.471309152Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles.7","type":"blocks","created_at":"2025-12-29T04:32:47.357356294Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles.9","type":"blocks","created_at":"2025-12-29T04:32:49.690778904Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles.10","type":"blocks","created_at":"2025-12-29T04:32:52.537924191Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.12","depends_on_id":"roundtable-private-circles.11","type":"blocks","created_at":"2025-12-29T04:32:55.387665997Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.2","content_hash":"15e1d5883b8a750ca84661c76a9a5be1742856ac8cf893bb9c0009ea32d505f2","title":"Task 0.2: Invite acceptance redirects to /app + welcome banner","description":"Implements Task 0.2 in docs/plans/private-circles-production.md. Update GET /join/:token to 303 redirect to /app?welcome=1 (after setting rt_session) and show a friendly welcome banner in /app. Touch: apps/backend/src/routes/invites.ts, apps/backend/src/routes/memberPages.ts, apps/backend/test/invites.test.ts (new).","acceptance_criteria":"pnpm --filter backend test test/invites.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T04:30:18.156997755Z","updated_at":"2025-12-29T04:35:00.915442211Z","closed_at":"2025-12-29T04:35:00.915442211Z","source_repo":".","labels":["auth","backend","onboarding","ux"],"dependencies":[{"issue_id":"roundtable-private-circles.2","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:18.168791241Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.3","content_hash":"010880340bea5bdc11eaa8b9ba48dee34badc24828d1e0e0d5001efe86602acc","title":"Task 1: Add explicit public publish flag for posts","description":"Implements Task 1 in docs/plans/private-circles-production.md. Add a new posts column to separate private circle approval from explicit public publishing. Touch: apps/backend/data/migrations/005_public_publish_flags.sql (new), apps/backend/data/schema.sql, tests in apps/backend/test/database.test.ts.","acceptance_criteria":"pnpm --filter backend test test/database.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T04:30:32.609642165Z","updated_at":"2025-12-29T04:37:10.488701981Z","closed_at":"2025-12-29T04:37:10.488701981Z","source_repo":".","labels":["backend","db","publish","schema"],"dependencies":[{"issue_id":"roundtable-private-circles.3","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:32.621323683Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.4","content_hash":"185fa4b92fe20e834d15077c3a16f7c43b6ca7c2b8950e7ccc4aa835db5f3dcb","title":"Task 2: Member portal shows private circle feed","description":"Implements Task 2 in docs/plans/private-circles-production.md. Render approved circle posts in /app/circles/:id (private) even when nothing is publicly published. Touch: apps/backend/src/routes/memberPages.ts, apps/backend/test/memberPages.test.ts.","acceptance_criteria":"pnpm --filter backend test test/memberPages.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T04:30:40.856572107Z","updated_at":"2025-12-29T04:39:27.017954847Z","closed_at":"2025-12-29T04:39:27.017954847Z","source_repo":".","labels":["authz","backend","portal","ux"],"dependencies":[{"issue_id":"roundtable-private-circles.4","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:40.872905064Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.4","depends_on_id":"roundtable-private-circles.2","type":"blocks","created_at":"2025-12-29T04:32:05.854002127Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.5","content_hash":"cb2610906ff78ea1ad9f4a73fa5c54204f96aba9b728b80a49b295fa1d2b229a","title":"Task 3: Member API lists approved circle posts","description":"Implements Task 3 in docs/plans/private-circles-production.md. Add GET /api/my/circles/:id/posts (member-only) returning approved posts. Touch: apps/backend/src/routes/memberApi.ts and member auth tests (apps/backend/test/memberAuth.test.ts or new memberApi.test.ts).","acceptance_criteria":"pnpm --filter backend exec vitest run test/memberApiPosts.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-29T04:30:52.29907028Z","updated_at":"2025-12-29T05:54:11.021332273Z","closed_at":"2025-12-29T05:54:03.425738Z","source_repo":".","labels":["api","authz","backend"],"dependencies":[{"issue_id":"roundtable-private-circles.5","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:52.316639182Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.5","depends_on_id":"roundtable-private-circles.4","type":"blocks","created_at":"2025-12-29T04:32:08.490440251Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.6","content_hash":"9150f34975cea787feef194c66253de950cba7fb01c44dd5d06d9646f0fefd48","title":"Task 4: Steward-only mark-public endpoint","description":"Implements Task 4 in docs/plans/private-circles-production.md. Add POST /api/my/circles/:circleId/posts/:postId/make-public restricted to circle stewards; default stays private. Touch: apps/backend/src/routes/memberApi.ts (+ optional apps/backend/src/routes/memberPages.ts button) and add apps/backend/test/memberPublishControls.test.ts.","acceptance_criteria":"pnpm --filter backend exec vitest run test/memberPublishControls.test.ts","notes":"Ready for review. Test file exists at apps/backend/test/memberPublishControls.test.ts; use the above command for a reliable single-file run.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-29T04:30:59.606302912Z","updated_at":"2025-12-30T01:13:52.912034238Z","closed_at":"2025-12-30T01:13:52.912034238Z","source_repo":".","labels":["api","authz","backend","publish"],"dependencies":[{"issue_id":"roundtable-private-circles.6","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:30:59.611540788Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.6","depends_on_id":"roundtable-private-circles.3","type":"blocks","created_at":"2025-12-29T04:32:13.230518273Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.6","depends_on_id":"roundtable-private-circles.5","type":"blocks","created_at":"2025-12-29T04:32:16.060052002Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.7","content_hash":"431bb1908a97eaf0d628cc5d514ab29d18b9441aec13abdb4910ec8800c2e10f","title":"Task 5: Publish only explicit public posts","description":"Implements Task 5 in docs/plans/private-circles-production.md. Update publish selection query to include only posts explicitly marked public (in addition to approved). Touch: apps/backend/src/publish/runBatchPublish.ts, apps/backend/src/publish/serialize.ts, and publish tests (apps/backend/test/publishUsesRoutedFields.test.ts + new test).","acceptance_criteria":"pnpm --filter backend test test/publishUsesRoutedFields.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T04:31:08.999308735Z","updated_at":"2025-12-29T04:52:34.706019593Z","closed_at":"2025-12-29T04:52:34.706019593Z","source_repo":".","labels":["backend","publish"],"dependencies":[{"issue_id":"roundtable-private-circles.7","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:31:09.002309341Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.7","depends_on_id":"roundtable-private-circles.3","type":"blocks","created_at":"2025-12-29T04:32:19.790087594Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.8","content_hash":"aebf637f178746bc25ab20e797cdf284e10cb3142c41177cc647f0cf0c274c3f","title":"Task 6: Approval copy clarifies private circle visibility","description":"Implements Task 6 in docs/plans/private-circles-production.md. Update approval success copy so stewards understand approval = visible to circle members (not public). Touch: apps/backend/src/routes/approvals.ts (and optional email copy), update apps/backend/test/approvalRoutes.test.ts if needed.","acceptance_criteria":"pnpm --filter backend test test/approvalRoutes.test.ts","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-29T04:31:16.23495292Z","updated_at":"2025-12-29T04:58:52.722289746Z","closed_at":"2025-12-29T04:58:32.050356606Z","source_repo":".","labels":["backend","email","ux"],"dependencies":[{"issue_id":"roundtable-private-circles.8","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:31:16.238296845Z","created_by":"daemon"}]}
{"id":"roundtable-private-circles.9","content_hash":"3f3829ad1527da8f85266e2ee5060af449015aa03839112e56dd8abf3093d6be","title":"Task 7: Magic login links (re-login without passwords)","description":"Implements Task 7 in docs/plans/private-circles-production.md. Add member_login_tokens table + /login/request and /login/:token flow that sets rt_session and redirects to /app. Touch: apps/backend/data/migrations/006_member_login_tokens.sql (new), apps/backend/src/routes/memberLogin.ts (new or existing routes), apps/backend/src/server.ts (route registration), apps/backend/src/email/sendLoginEmail.ts (new), apps/backend/test/memberLogin.test.ts (new).","acceptance_criteria":"pnpm --filter backend test test/memberLogin.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T04:31:22.936160039Z","updated_at":"2025-12-29T04:48:28.93115897Z","closed_at":"2025-12-29T04:48:28.93115897Z","source_repo":".","labels":["auth","backend","email","security"],"dependencies":[{"issue_id":"roundtable-private-circles.9","depends_on_id":"roundtable-private-circles","type":"parent-child","created_at":"2025-12-29T04:31:22.940940478Z","created_by":"daemon"},{"issue_id":"roundtable-private-circles.9","depends_on_id":"roundtable-private-circles.3","type":"blocks","created_at":"2025-12-29T04:32:23.504469628Z","created_by":"daemon"}]}
{"id":"roundtable-private-drafting","content_hash":"556a02b035a2efc86dc1a7062136d4539e1553e17cf356740e08d8bb7a1ada4f","title":"Epic: Private Drafting - Founder Thinking Space","description":"Create a private drafting space where founders can write thoughts without anyone seeing them, iterate on language privately, and decide when to submit for steward approval.\n\nProblem: Founders currently submit posts that go directly to the steward queue. This creates pressure - they can't think freely knowing someone will evaluate their words immediately.\n\nSolution: Create a private drafting space with drafts table, CRUD API, and portal UI.\n\nUser Stories:\n- Write thoughts without anyone seeing them\n- Save drafts and come back later\n- Edit drafts until the language feels right\n- Choose when to share (if ever)\n- Have a \"thinking space\" separate from \"publishing\"\n\nKey Features:\n1. Drafts table (person_id, circle_id, title, content, status)\n2. Drafts CRUD API (/api/drafts)\n3. Portal drafts listing page\n4. Draft editor with auto-save\n5. Submit draft to queue flow\n\nAcceptance: Founder can create private drafts visible only to creator, submit to steward queue, portal UI is calm and non-pressured, all tests passing.\n\nSub-Tasks: roundtable-drafting-001 through roundtable-drafting-007","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T10:55:38.197040298Z","closed_at":"2025-12-31T10:55:38.197040298Z","source_repo":".","labels":["backend","database","epic","feature","p1","portal","ux"]}
{"id":"roundtable-qs0","content_hash":"f342c0192f16c739308195d2c238e98bb6bd084003bbdb82ae329e6271344d3f","title":"Add canonical agent topology config","description":"Create single source of truth for 'who is in which pane' and their roles.\n\nFiles:\n- Create: .maf/config/agent-topology.json\n- Update: .maf/TEAM-CONFIG.md\n\nContent: JSON encodes session/window names, pane_index, agent_name (Agent Mail identity), role, domains, aliases, start_cmd per role.\n\nAcceptance:\n- Topology file exists and matches reality\n- Referenced by TEAM-CONFIG.md as canonical","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T13:34:18.16156132Z","updated_at":"2026-01-04T14:06:50.396709019Z","closed_at":"2026-01-04T14:06:50.396709019Z","source_repo":".","labels":["config","maf"],"dependencies":[{"issue_id":"roundtable-qs0","depends_on_id":"roundtable-8rd","type":"blocks","created_at":"2026-01-04T13:34:18.168839979Z","created_by":"root"}]}
{"id":"roundtable-rc5","content_hash":"55f40ed549fc8f58e77dd01d81b4d5e117d7d6c94e2323088b6e24e94a065395","title":"Fix publish-failure-safety E2E test DB migration runner","description":"apps/backend/test/e2e/publish-failure-safety.test.ts currently loads schema + migrations by stripping comments and splitting SQL by semicolons. This breaks on multi-statement/trigger SQL and causes DB setup failures, blocking multiple publish safety E2E tests.\n\nFix: use the real migration runner logic (apps/backend/src/db/migrate.ts or the same helper used in recent DB setup fixes) instead of naive SQL splitting.\n\nNotes:\n- Avoid parsing SQL by splitting on ;\n- Reuse existing migration entrypoints/helpers if possible\n- Keep the test self-contained (temp db path) and fast.","acceptance_criteria":"- pnpm --filter backend test test/e2e/publish-failure-safety.test.ts passes (path is package-relative when using pnpm --filter)\n- No naive SQL splitting remains in test setup\n- Database schema+migrations are applied via shared runner logic (apps/backend/src/db/migrate.ts: runMigrations)","status":"closed","priority":1,"issue_type":"task","assignee":"BlueSnow","created_at":"2026-01-02T14:02:23.672101522Z","updated_at":"2026-01-02T14:07:50.759775725Z","closed_at":"2026-01-02T14:07:50.759775725Z","source_repo":".","labels":["backend","db","e2e","test"]}
{"id":"roundtable-rdc","content_hash":"f44395f53b376c725bafe9c8b05853e8a31af638429fa9f8f92cc2c44988cc91","title":"Refactor restarts + attribution to read topology config","description":"The two most failure-prone paths (restart and commit attribution) must not drift.\n\nFiles:\n- scripts/maf/context-manager-v2.sh (restart mapping + role naming)\n- scripts/maf/agent-commit.sh (role/name attribution)\n\nContext manager restarts should select correct CLI command for role from topology config. Commit attribution should match topology config.\n\nAcceptance:\n- Role names in context-manager status match topology\n- Commit attribution matches topology config","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T13:35:41.482460012Z","updated_at":"2026-01-04T14:16:18.248755794Z","closed_at":"2026-01-04T14:16:18.248759554Z","source_repo":".","labels":["maf","refactor"],"dependencies":[{"issue_id":"roundtable-rdc","depends_on_id":"roundtable-qs0","type":"blocks","created_at":"2026-01-04T13:35:41.486827923Z","created_by":"root"}]}
{"id":"roundtable-reading-001","content_hash":"7e164fa7d22a5a0294b394c1f5eaa42b2952fd64d715bc48c5c18f9f35083dfd","title":"Anonymous Reading - Database migration for reading_mode","description":"Add reading_mode column to circles table to control public access.\n\nMigration file: apps/backend/data/migrations/024_reading_mode.sql\n\nSQL:\nALTER TABLE circles ADD COLUMN reading_mode TEXT DEFAULT 'private';\nUPDATE circles SET reading_mode = 'private' WHERE reading_mode IS NULL;\n\nFiles:\n- apps/backend/data/migrations/024_reading_mode.sql (new)\n\nAcceptance: Migration runs successfully, existing circles set to 'private', new column has correct default.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.72254293Z","source_repo":".","labels":["backend","database","migration","public-reading"],"dependencies":[{"issue_id":"roundtable-reading-001","depends_on_id":"roundtable-anonymous-reading","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-reading-002","content_hash":"4bab16f1ee8d0efd0b1694a996a9811d1481b8ab91f42c48ae601fed516d2f4b","title":"Anonymous Reading - Public read API endpoints","description":"Create public read endpoints for published posts (no authentication required).\n\nEndpoints:\n- GET /published - List all published posts (paginated)\n- GET /published/:id - Read single published post\n\nFiles:\n- apps/backend/src/routes/publicRead.ts (new)\n- apps/backend/src/server.ts (register publicRead routes)\n\nAcceptance: /published endpoints work without auth, only published posts visible, author emails redacted.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.72255275Z","source_repo":".","labels":["api","backend","public-reading"],"dependencies":[{"issue_id":"roundtable-reading-002","depends_on_id":"roundtable-reading-001","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-reading-003","content_hash":"6fb48055694731be90ae4a242db9a1471d4b073990b71de199206a716bdeaab8","title":"Anonymous Reading - Public site styling adjustments","description":"Create clean, calm reading experience for public posts.\n\nFiles:\n- apps/site/_includes/public-feed.html (new)\n- apps/site/css/public.css (new)\n\nDesign: No signup prompts, no engagement metrics, typography-focused, print-friendly, mobile-responsive.\n\nAcceptance: Public feed renders at /published, clean calm design, no signup prompts.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.72256453Z","source_repo":".","labels":["css","frontend","public-reading","site"],"dependencies":[{"issue_id":"roundtable-reading-003","depends_on_id":"roundtable-reading-002","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-reading-004","content_hash":"342191ace5448bb6f464a50661d3727bc38649509c7a4e24b4c38f8916505386","title":"Anonymous Reading - Circle privacy settings","description":"Allow stewards to control reading_mode for their circles.\n\nPortal UI: Add reading_mode selector in circle settings (steward-only)\nBackend API: PUT /api/circles/:id/reading-mode\n\nFiles:\n- apps/backend/src/routes/circleSettings.ts (update)\n- apps/backend/src/public/circle-settings.html (update)\n\nAcceptance: Stewards can change reading_mode, setting persists, public-read circles appear in /published.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.72257198Z","source_repo":".","labels":["api","frontend","portal","public-reading"],"dependencies":[{"issue_id":"roundtable-reading-004","depends_on_id":"roundtable-reading-002","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-reading-005","content_hash":"ef140d7909e6def5be5829a6e683d7ae254a9fe12fa12cdbf8d06a9103f1cd5c","title":"Anonymous Reading - Portal reading mode toggle","description":"Add optional reading mode toggle in member portal.\n\nPortal UI: Add 'Preview public view' toggle in circle detail page\n\nFiles:\n- apps/backend/src/public/circle-detail.html (update)\n\nAcceptance: Toggle works, shows public view accurately, members understand visibility.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.72258457Z","source_repo":".","labels":["frontend","portal","public-reading"],"dependencies":[{"issue_id":"roundtable-reading-005","depends_on_id":"roundtable-reading-003","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-reading-006","content_hash":"fb02df1176b788692e79b1642b32b2f05099c5606986581a55688339b8cba416","title":"Anonymous Reading - E2E tests for public reading","description":"End-to-end tests for anonymous reading functionality.\n\nTest file: apps/backend/test/e2e/public-reading.test.ts\n\nTest scenarios: Anonymous access to /published, only published posts visible, private circles excluded, author emails redacted, pagination, circle privacy settings.\n\nAcceptance: All tests pass, coverage for public reading flows.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.7225914Z","source_repo":".","labels":["e2e","public-reading","test"],"dependencies":[{"issue_id":"roundtable-reading-006","depends_on_id":"roundtable-reading-004","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-reading-007","content_hash":"ca3e23ac6af4c86d60c47923fc49041d4010d509275df90c0651cdeaa7e49811","title":"Anonymous Reading - Documentation updates","description":"Update documentation for anonymous reading feature.\n\nFiles to update:\n- docs/product/public-reading.md (new)\n- CLAUDE.md - Add anonymous reading section\n- docs/operations/runbook.md - Add troubleshooting for public access\n\nAcceptance: All docs updated, feature clearly documented.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T10:00:00Z","updated_at":"2025-12-31T09:38:11.737779519Z","closed_at":"2025-12-31T09:38:11.722600139Z","source_repo":".","labels":["documentation","public-reading"],"dependencies":[{"issue_id":"roundtable-reading-007","depends_on_id":"roundtable-reading-006","type":"blocks","created_at":"2025-12-31T10:00:00Z","created_by":"root"}]}
{"id":"roundtable-rj8","content_hash":"666f581c3a5e447a5095f0c9ddda429048de24eb63476138877ab6f6ab8b8d8b","title":"Epic: Clarity Metrics \u0026 PMF Analytics","description":"PMF-aligned metrics system that measures true success: clarity, reduced regret, better decisions. Track decision outcomes, time-to-clarity, qualitative feedback. Avoid vanity metrics (views, likes). Steward-only dashboard.","status":"closed","priority":2,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-02T07:37:56.03678938Z","updated_at":"2026-01-02T07:58:45.181382725Z","closed_at":"2026-01-02T07:58:45.181382725Z","source_repo":".","labels":["analytics","epic","pmf"]}
{"id":"roundtable-rj8.1","content_hash":"4fdd5366fdb9db38b400a3155d3e82f7f792fc744e7e23d9902aa1ab97dedcc6","title":"Task 1: Database migration for decision outcomes","description":"Create decision_outcomes table to track decision results. Columns: id, room_id, outcome_type (proceed/stop/still-thinking/clarity-achieved), founder_feedback, time_to_decision_days, created_at","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T07:38:15.788928553Z","updated_at":"2026-01-02T07:58:38.904278176Z","closed_at":"2026-01-02T07:58:38.904278176Z","source_repo":".","labels":["backend","database","migration"]}
{"id":"roundtable-rj8.2","content_hash":"a91b3eb4ac0273df7f139f773b2bb66ffa62790492ae511e215b2adef852a2bb","title":"Task 2: Outcome tracking API","description":"POST /api/rooms/:id/outcome - record decision outcome for a room. Auth required (steward or room founder). Track outcome_type, feedback, time_to_decision","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-02T07:38:22.285687843Z","updated_at":"2026-01-02T07:49:08.897453088Z","closed_at":"2026-01-02T07:49:07.625037821Z","source_repo":".","labels":["analytics","api","backend"],"dependencies":[{"issue_id":"roundtable-rj8.2","depends_on_id":"roundtable-rj8.1","type":"blocks","created_at":"2026-01-02T07:38:22.287433221Z","created_by":"root"}]}
{"id":"roundtable-rj8.3","content_hash":"580a6f9fb9bc399cfd44df48fb30f65cbba7be1c2dbdf274ea2c6017d6153580","title":"Task 3: Steward metrics dashboard","description":"Portal page for stewards to view PMF-aligned metrics: Rooms opened vs clarity achieved, average time to decision, qualitative feedback themes, repeat founder engagement. NO vanity metrics","status":"closed","priority":2,"issue_type":"task","assignee":"BlackDog","created_at":"2026-01-02T07:38:28.619910391Z","updated_at":"2026-01-02T07:53:28.786845588Z","closed_at":"2026-01-02T07:53:28.786845588Z","source_repo":".","labels":["analytics","frontend","portal"],"dependencies":[{"issue_id":"roundtable-rj8.3","depends_on_id":"roundtable-rj8.2","type":"blocks","created_at":"2026-01-02T07:38:28.621379279Z","created_by":"root"}]}
{"id":"roundtable-rj8.4","content_hash":"b8883276be340c36a34a013415f0f29642016684fe44c34a35b76cf92c047e4b","title":"Task 4: Feedback collection flow","description":"Lightweight post-decision survey sent to founders. Questions: Did this help you gain clarity? (1-5), What would have made this better? Optional, no pressure. API endpoint and email template","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:38:34.957684435Z","updated_at":"2026-01-02T07:58:32.627211241Z","closed_at":"2026-01-02T07:58:32.627211241Z","source_repo":".","labels":["analytics","backend","email"]}
{"id":"roundtable-rj8.5","content_hash":"36f44f97068fc4d64f060df314d33827b23e308f363cceb128ac390f693e431c","title":"Task 5: PMF metrics calculation","description":"Calculate PMF-aligned metrics: % Rooms ending with clarity (target \u003e70%), founder feedback scores (target \u003e4/5), repeat founder rate. API endpoints for dashboard to query","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T07:38:41.231557753Z","updated_at":"2026-01-02T07:58:26.307489131Z","closed_at":"2026-01-02T07:58:26.307489131Z","source_repo":".","labels":["analytics","api","backend"],"dependencies":[{"issue_id":"roundtable-rj8.5","depends_on_id":"roundtable-rj8.2","type":"blocks","created_at":"2026-01-02T07:38:41.235884255Z","created_by":"root"},{"issue_id":"roundtable-rj8.5","depends_on_id":"roundtable-rj8.4","type":"blocks","created_at":"2026-01-02T07:38:41.237739791Z","created_by":"root"}]}
{"id":"roundtable-rj8.6","content_hash":"57736e25ac2ebdd4157e18dd65fe881c75127828d2c97cbec6c86776f6fcfba9","title":"Task 6: Documentation","description":"Document the PMF metrics system, what we measure, why these metrics matter, how stewards should use the dashboard, and how data informs product decisions","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T07:38:47.639206425Z","updated_at":"2026-01-02T07:58:19.940707061Z","closed_at":"2026-01-02T07:58:19.940707061Z","source_repo":".","labels":["analytics","docs"]}
{"id":"roundtable-s20","content_hash":"88a61c289f1767202e9556e79aad235e01e7523716e3dcfdc9bd814b680c6d23","title":"SQLite migration runner: handle triggers with internal semicolons","description":"apps/backend/src/db/migrate.ts currently splits SQL by semicolons, which breaks migrations containing CREATE TRIGGER bodies (e.g. apps/backend/migrations/042_notification_preferences.sql) and causes SQLite 'incomplete input'.","acceptance_criteria":"- Running backend migrations succeeds even when a migration file contains CREATE TRIGGER statements with internal semicolons (no 'incomplete input').\n- Add/adjust tests or a repro script to cover trigger-containing migrations.\n- Existing migrations (incl. 042_notification_preferences.sql) apply cleanly in test/dev.","status":"closed","priority":2,"issue_type":"bug","assignee":"FuchsiaCreek","created_at":"2026-01-02T11:49:03.686985357Z","updated_at":"2026-01-02T11:57:10.50548141Z","closed_at":"2026-01-02T11:57:10.50548141Z","source_repo":".","labels":["backend","db","migrations","test"]}
{"id":"roundtable-s7r","content_hash":"c28b1f8ac8eb8dd17475a3627c6d957041cd34aad28073a4cc69460a7cbcf4d6","title":"Phase 11.1: Deploy Roundtable to production","description":"","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-26T21:40:27.859149072Z","updated_at":"2025-12-26T22:27:01.531416031Z","closed_at":"2025-12-26T22:27:01.531416031Z","source_repo":".","labels":["backend","deployment","ops","site"]}
{"id":"roundtable-sb9","content_hash":"d08db1703ec2885669cba5214a1a2ac4038160d3a07e45c2a1462ebb253505ad","title":"Implement job queue for email processing","description":"","status":"closed","priority":2,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T02:53:12.970893755Z","updated_at":"2026-01-04T04:07:28.870352248Z","closed_at":"2026-01-04T04:07:28.870352248Z","source_repo":".","labels":["email","ops","performance"]}
{"id":"roundtable-sto","content_hash":"d7d7c20245257cc34d890e6a7a26e5f608d207d97e4b9be833864db99a64cb2d","title":"Phase 4.1: LLM client wrapper with schema validation","description":"Create LLM client wrapper in apps/backend/src/llm/client.ts with mockable interface. Implement prompts.ts and draftPost.ts with strict PostDraft schema validation. Output must validate against schema without inventing new data.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:44:13.100000314Z","updated_at":"2025-12-16T08:50:15.965923715Z","closed_at":"2025-12-16T08:50:15.965923715Z","source_repo":".","labels":["backend","llm"]}
{"id":"roundtable-tfh","content_hash":"a01ef3fbf2e895b5405c330c567519b718858c7d94199b3719915aac602d607b","title":"Phase 6.1: Initialize Eleventy site with templates","description":"Create Eleventy app with .eleventy.js, base layouts, CSS following PRD palette, and index/posting pages. Include robots.txt (Disallow all). Add build tests that verify dist/index.html and dist/robots.txt exist.","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-15T17:46:24.610643385Z","updated_at":"2025-12-26T04:37:17.518192133Z","closed_at":"2025-12-26T04:37:17.518200953Z","source_repo":".","labels":["frontend","site"]}
{"id":"roundtable-vf5","content_hash":"2f79995c3984830a2c1cd18449b5d291b65a81d57c16d2b6367151f11a1ccb60","title":"Phase 6.2: Circle page rendering from published JSON","description":"Implement circle pages that render published posts in strict chronological order (newest first). Show tags lightly, no interaction elements. Include sorting unit tests and HTML snapshot tests with normalized dates.","status":"closed","priority":2,"issue_type":"task","assignee":"PurpleLake","created_at":"2025-12-15T17:46:37.769776004Z","updated_at":"2025-12-23T08:05:45.016156927Z","closed_at":"2025-12-23T08:05:45.016156927Z","source_repo":".","labels":["frontend","site"]}
{"id":"roundtable-voz","content_hash":"c63513c11ab47c881ac10dab02ee12594a35091919bfd843bdceb8c944d61df7","title":"Phase 3: Database production setup","description":"Configure production database and migrations.\n\nTasks:\n- Set up persistent volume for SQLite on Railway\n- Configure database backup strategy\n- Run all migrations on production database\n- Verify migration scripts are idempotent\n- Test database failover\n- Document migration procedure\n\nFiles:\n- scripts/ops/production-migrate.sh (new)\n- docs/operations/database-setup.md (new)\n\nAcceptance: Database migrations run successfully on production.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:26:49.075779314Z","updated_at":"2025-12-30T21:39:11.095261788Z","closed_at":"2025-12-30T21:39:11.095261788Z","source_repo":".","labels":["database","deployment","ops"],"dependencies":[{"issue_id":"roundtable-voz","depends_on_id":"roundtable-own","type":"blocks","created_at":"2025-12-30T21:26:49.082833541Z","created_by":"root"}]}
{"id":"roundtable-wb2","content_hash":"2c5b0f17d8f6d33303e40413274c897ca5c679f05b600cdc453ecf14159132cd","title":"Phase 7.1: Serialize approved drafts to published JSON","description":"Implement serialize.ts to convert approved drafts to PublishedPost JSON. Write files to apps/site/src/data/posts/{post_id}.json with publishedAt ISO string. Ensure deterministic output and schema validation.","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-15T17:47:21.748963044Z","updated_at":"2025-12-26T12:10:11.204563649Z","closed_at":"2025-12-26T12:10:11.204563649Z","source_repo":".","labels":["backend","publish"]}
{"id":"roundtable-wgd","content_hash":"1f5505b544ad3aeddd2487799b77ca3e081deaaa5b284f5536f65993c1d54535","title":"Fix duplicate main landmarks on homepage","description":"Issue: Homepage has nested \u003cmain\u003e elements, confusing screen readers.\n\nbase.njk:23 has \u003cmain class=\"site-main\" id=\"main-content\" role=\"main\"\u003e\nindex.njk:8 has \u003cmain class=\"lp lp-swiss-spa\"\u003e\nImpact: Nested main landmarks violate ARIA rules - only one main landmark per page.\n\nSolution: Change \u003cmain class=\"lp lp-swiss-spa\"\u003e to \u003cdiv class=\"lp lp-swiss-spa\"\u003e in index.njk (or use \u003csection\u003e if semantically appropriate).\n\nFiles:\n- apps/site/src/index.njk:8","acceptance_criteria":"Only one \u003cmain\u003e element on homepage (verified via HTML inspector)\nScreen reader announces single main landmark\nVisual styling unchanged\nHomepage builds successfully: pnpm --filter site build","status":"closed","priority":1,"issue_type":"bug","assignee":"BlackDog","created_at":"2026-01-03T03:04:31.624214896Z","updated_at":"2026-01-03T10:22:05.095067436Z","closed_at":"2026-01-03T10:22:05.095069856Z","source_repo":".","labels":["a11y","accessibility","frontend"]}
{"id":"roundtable-wic","content_hash":"a80a87414ac5326ae1870c0aa87e157987a2d0746e7befa5b71d26b501056d3b","title":"Past self reflection template UI","description":"Create the reflection form UI for founders to write \"What would I tell my past self?\" reflections.\n\nFiles:\n- apps/site/src/reflection-form.njk - New reflection form page\n- apps/site/src/reflection-success.njk - Confirmation page\n- apps/backend/src/routes/reflectionPages.ts - Backend routes for form\n- apps/site/css/reflection.css - Reflection form styling\n\nReflection Form UI:\n\n**Page:** /posts/:id/reflect\n\n**Form Fields:**\n1. \"What clarity did you gain?\" (textarea, markdown supported)\n   - Helper text: \"What did you learn from this decision?\"\n\n2. \"What would you tell your past self?\" (textarea, markdown supported)\n   - Helper text: \"If you could go back 24 hours, what would you say?\"\n\n3. \"Surprise factor\" (optional textarea)\n   - Helper text: \"What surprised you about the outcome?\"\n\n4. Clarity slider (before/after)\n   - \"Clarity before (1-10)\"\n   - \"Clarity after (1-10)\"\n   - Visual slider with labels\n\n**Features:**\n- Markdown preview for text fields\n- Auto-save to drafts (every 30 seconds)\n- Save as draft button\n- Submit button\n- Cancel button (returns to post)\n\n**Privacy Indicators:**\n- \"This reflection is private to you\"\n- \"Only you can see your reflections\"\n- Lock icon, private badge\n\n**Success Page:**\n- Confirmation message\n- Link back to post\n- Option to view past reflections\n- Quote: \"The unexamined life is not worth living\" - Socrates\n\n**Styling:**\n- Calm, minimal design (consistent with Roundtable culture)\n- Focus on writing, no distractions\n- Large text areas for comfortable writing\n- Mobile-responsive\n\nAcceptance:\n- Reflection form renders at /posts/:id/reflect\n- Form includes all required fields\n- Markdown preview works correctly\n- Auto-save to drafts functional\n- Privacy indicators prominently displayed\n- Success page confirms submission\n- Mobile-responsive design\n- Only post author can access their own reflection form (authorization check)","status":"closed","priority":1,"issue_type":"feature","assignee":"OrangePond","created_at":"2026-01-04T15:38:45.443490592Z","updated_at":"2026-01-04T16:17:45.154402378Z","closed_at":"2026-01-04T16:17:45.154402378Z","source_repo":".","labels":["pmf reflection frontend site"]}
{"id":"roundtable-wna","content_hash":"6a86f4fc2592d1351ec51e36329f68fdb2a342d14a30828a4f5928eb4a7c9d45","title":"Phase 7: Security audit","description":"Perform security audit and hardening.\n\nTasks:\n- Review CSP headers\n- Audit authentication token security\n- Review SQL injection protections\n- Test XSS prevention\n- Review email handling security\n- Audit API rate limiting\n- Review secret management\n- Document security checklist\n\nFiles:\n- docs/operations/security-checklist.md (new)\n- docs/operations/security-audit.md (new)\n\nAcceptance: Security audit complete, critical issues resolved.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T21:27:45.943065394Z","updated_at":"2025-12-30T21:53:18.152597321Z","closed_at":"2025-12-30T21:53:18.152597321Z","source_repo":".","labels":["audit","ops","security"],"dependencies":[{"issue_id":"roundtable-wna","depends_on_id":"roundtable-81h","type":"blocks","created_at":"2025-12-30T21:27:45.950412841Z","created_by":"root"}]}
{"id":"roundtable-wvy","content_hash":"45a102cf6948e48638821d676d03aea24d1534eaea97b9bf14bc30c5edcc9981","title":"Implement Content Discovery Collections UI","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T02:52:37.718850524Z","updated_at":"2026-01-04T03:41:35.891106475Z","closed_at":"2026-01-04T03:41:35.891106475Z","source_repo":".","labels":["content-discovery","epic"]}
{"id":"roundtable-xg8","content_hash":"74f53696a1fca67da4a32de77c621645af310fb31fdda7f03dad45055b97a4c5","title":"Engagement \u0026 Analytics V2: Insights + Digests + Reports","description":"Source: docs/plans/engagement-analytics-v2.md\n\nGoals:\n- Circle analytics dashboard for stewards\n- Member engagement tracking\n- Content performance metrics\n- Daily/weekly digest notifications\n- Exportable activity data\n\nAcceptance: All roundtable-engagement-analytics-v2.* tasks closed and all tests pass.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-30T12:02:10.744662534Z","updated_at":"2025-12-30T13:21:38.831828494Z","closed_at":"2025-12-30T13:21:38.831828494Z","source_repo":".","labels":["analytics","backend","email","engagement"]}
{"id":"roundtable-xg8.1","content_hash":"14526818ea9f7d33a8ddba285435f64766605ebfe0aaec68f3a78945bd703edb","title":"Task 1: Circle analytics endpoint","description":"Add analytics endpoint for circle owners to view metrics.\n\nRequirements:\n- GET /app/circles/:id/analytics (member-only, stewards only)\n- Return: post_count (by status), active_members, avg_response_time, top_contributors\n- Cache results for 5 minutes\n- Require active member session\n\nFiles:\n- apps/backend/src/routes/circleAnalytics.ts (new)\n- apps/backend/test/circleAnalytics.test.ts (new)\n- apps/backend/src/routes/memberPages.ts (update /app route)\n\nAcceptance: pnpm --filter backend test apps/backend/test/circleAnalytics.test.ts","status":"closed","priority":1,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-30T12:02:28.894688802Z","updated_at":"2025-12-30T12:23:27.542015275Z","closed_at":"2025-12-30T12:23:27.542017745Z","source_repo":".","labels":["analytics","backend","portal"]}
{"id":"roundtable-xg8.2","content_hash":"23551f412d20b40d557e4e307803c954b9b55a1fa28372bda06f0018fa4ab5ee","title":"Task 2: Member engagement tracking","description":"Track how members interact with the system.\n\nRequirements:\n- Add member_engagement table: person_id, circle_id, last_active_at, post_count, approval_count, login_count\n- Update engagement stats on key actions (login, post, approve)\n- Add migration to create table\n\nFiles:\n- apps/backend/data/migrations/012_member_engagement.sql (new)\n- apps/backend/src/lib/engagementTracker.ts (new)\n- apps/backend/src/routes/memberLogin.ts (track logins)\n- apps/backend/src/workers/onInboundEmail.ts (track posts)\n- apps/backend/test/engagementTracking.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/engagementTracking.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T12:02:34.86073316Z","updated_at":"2025-12-30T12:18:03.810354467Z","closed_at":"2025-12-30T12:18:03.810354467Z","source_repo":".","labels":["analytics","backend"]}
{"id":"roundtable-xg8.3","content_hash":"be2f4013972d686e25f3b82c689f34e14db05a4b450547bac7908f16b8139bf4","title":"Task 3: Content performance metrics","description":"Track which posts get the most engagement.\n\nRequirements:\n- Add view count to posts (when viewed in portal)\n- Track approval latency (time from post to approval)\n- Add content_performance view: post_id, views, approval_latency, status\n- Query: GET /api/posts/performance?circle_id=:id\n\nFiles:\n- apps/backend/data/migrations/013_content_performance.sql (new)\n- apps/backend/src/routes/contentPerformance.ts (new)\n- apps/backend/src/routes/memberPages.ts (track views)\n- apps/backend/test/contentPerformance.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/contentPerformance.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T12:02:40.90058763Z","updated_at":"2025-12-30T12:23:23.487061586Z","closed_at":"2025-12-30T12:23:23.487061586Z","source_repo":".","labels":["analytics","backend"]}
{"id":"roundtable-xg8.4","content_hash":"68628b46795921d3fc5859e2bcea84daae21dc4447de4c62cf2662260265a104","title":"Task 4: Daily digest emails","description":"Send daily summary emails to active members.\n\nRequirements:\n- Worker runs daily at configurable time (default 9 AM)\n- Email includes: new posts, pending approvals, published content\n- Per-circle digest (one email per circle)\n- Unsubscribe link in each email\n\nFiles:\n- apps/backend/data/migrations/014_digest_preferences.sql (new - digest opt-in/out)\n- apps/backend/src/workers/digestWorker.ts (new)\n- apps/backend/src/email/sendDigestEmail.ts (new)\n- apps/backend/test/digestWorker.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/digestWorker.test.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T12:02:46.957628603Z","updated_at":"2025-12-30T12:13:25.702393313Z","closed_at":"2025-12-30T12:13:25.702393313Z","source_repo":".","labels":["automation","backend","email"]}
{"id":"roundtable-xg8.5","content_hash":"ef55a148f28349637f6872476b82acf8990f54e65b20009b212f845f3b0fa83a","title":"Task 5: Weekly summary reports","description":"Send weekly aggregated reports to circle stewards.\n\nRequirements:\n- Worker runs weekly (default Monday 9 AM)\n- Report includes: posts created/published, active members, top contributors\n- Sent only to stewards\n- Include week-over-week comparison\n\nFiles:\n- apps/backend/src/workers/weeklyReportWorker.ts (new)\n- apps/backend/src/email/sendWeeklyReport.ts (new)\n- apps/backend/test/weeklyReport.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/weeklyReport.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-30T12:02:52.934987591Z","updated_at":"2025-12-30T12:47:57.943938381Z","closed_at":"2025-12-30T12:47:57.943941401Z","source_repo":".","labels":["automation","backend","email"]}
{"id":"roundtable-xg8.6","content_hash":"de5ce8ed090f356a1895b66c16e2fcbf91a8b9d4d803738103ee57e9b9301f9e","title":"Task 6: Engagement API for dashboard","description":"Public API for analytics dashboards.\n\nRequirements:\n- GET /api/analytics/circles/:id (circle-level stats)\n- GET /api/analytics/trends (time-series data)\n- Support date range parameter\n- Return JSON with caching headers\n\nFiles:\n- apps/backend/src/routes/analyticsApi.ts (new)\n- apps/backend/test/analyticsApi.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/analyticsApi.test.ts","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2025-12-30T12:02:59.004864601Z","updated_at":"2025-12-30T13:10:09.381829126Z","closed_at":"2025-12-30T13:10:09.381829126Z","source_repo":".","labels":["analytics","api","backend"]}
{"id":"roundtable-xg8.7","content_hash":"a0f495c733a1bda4d1bb8c7d1f6e8ffdfe444c447277d0bf81edce1b9370dfa3","title":"Task 7: Export activity data","description":"Allow members to export their activity data.\n\nRequirements:\n- GET /api/me/export?format=csv|json\n- Include: posts, approvals, login history\n- Rate limit to 1 export per day\n- Require active session\n\nFiles:\n- apps/backend/src/routes/memberExport.ts (new)\n- apps/backend/test/memberExport.test.ts (new)\n\nAcceptance: pnpm --filter backend test apps/backend/test/memberExport.test.ts","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-30T12:03:05.036016639Z","updated_at":"2025-12-30T13:19:59.710175759Z","closed_at":"2025-12-30T13:19:59.710175759Z","source_repo":".","labels":["api","backend","privacy"]}
{"id":"roundtable-xk7","content_hash":"75b66eccec57436064b13e94982668ce787095927adf0e62b9c9ac18ead5af57","title":"Define bead completion receipt template","description":"Define the receipt template for reproducible bead completion verification.\n\nSections:\n- Bead ID, Title, Status, Assignee\n- Summary (1-3 bullets)\n- Files Changed\n- Commands Run\n- Environment Toggles\n- Screenshots (if UI)\n- Risk Notes\n- Rollback Plan\n\nDocument in docs/agents.md\n\nAcceptance:\n- Receipt template documented\n- Includes all required sections\n- Clear example provided","status":"closed","priority":2,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-04T13:36:09.869768558Z","updated_at":"2026-01-04T14:06:56.414713239Z","closed_at":"2026-01-04T14:06:56.414713239Z","source_repo":".","labels":["documentation","maf"],"dependencies":[{"issue_id":"roundtable-xk7","depends_on_id":"roundtable-8rd","type":"blocks","created_at":"2026-01-04T13:36:09.876455889Z","created_by":"root"}]}
{"id":"roundtable-xkj","content_hash":"7da8915f5c827717a1ca11d9e58aff2597e89e4342c5df187f9cba094a4f8c18","title":"roundtable-mgmt-003","description":"","acceptance_criteria":"GET /app/circles/:circleId/manage - steward dashboard; displays all circle members with roles and activity; member cards with post count and last activity; engagement heatmap visualization; role management controls (update role, remove member); activity feed of recent circle events; search/filter members by name or role","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T07:37:49.812601906Z","updated_at":"2026-01-04T07:40:51.913832756Z","closed_at":"2026-01-04T07:40:51.913832756Z","source_repo":".","labels":["circle-management","epic-5","frontend","portal"]}
{"id":"roundtable-xlh","content_hash":"b3df7e09ebf2a85e5af71557a0cf22b057b7858542753eecac2edd5028790b28","title":"Steward introduction dashboard","description":"Create steward dashboard for managing introduction requests. View pending requests, review resonance context, approve/reject, facilitate email introductions. Track introduction outcomes.","acceptance_criteria":"Steward dashboard at /app/introductions; lists pending introduction requests; shows post context and resonance signals; approve/reject actions with notes; introduction email template rendering; track introduction status; history view of past introductions; founder withdrawal option","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-04T06:00:01.054249078Z","updated_at":"2026-01-04T06:14:15.811920376Z","closed_at":"2026-01-04T06:14:15.811920376Z","source_repo":".","labels":["epic","frontend","portal","slow-match"]}
{"id":"roundtable-y","content_hash":"1cfa6a4dc131803a1e523c300dc0762f0b29b012f04d81d8d9709fbc74102cce","title":"Portal Redesign Audit Fixes","description":"Portal Redesign Audit Fixes\n\nBased on audit findings in docs/plan/portal-redesign-tmux-audit.md.\n\nOverall Assessment: 85% Compliant\n- Implementation is functional and code compiles cleanly\n- Several deviations from plan specification need to be addressed\n- High priority issues: missing CSS components (alerts, badge variants)\n- Medium priority issues: API deviations, documentation updates\n\nNon-negotiables:\n- All critical CSS components must be added\n- Remove duplicate CSS definitions\n- Document any API deviations from plan\n- All tests must pass after fixes\n\nAcceptance: All roundtable-y.* tasks closed and CSS loads without errors.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T16:37:43.068Z","updated_at":"2025-12-30T17:43:11.590780289Z","closed_at":"2025-12-30T17:43:11.590780289Z","source_repo":".","labels":["css","docs","portal","refactor"]}
{"id":"roundtable-y.1","content_hash":"56eb7758943430f5af6b59265333e52d724e93bf2b3a412dda2058fed76ee9aa","title":"Task 1: Add Alert component CSS classes","description":"Implement Task 1: Add Alert component CSS\n\nCritical Issue - Currently no way to display error/success/warning messages in the portal.\n\nPlan specification (from Phase 2, Component CSS):\n- .alert (base alert style)\n- .alert-success (green for success messages)\n- .alert-warning (yellow/orange for warnings)\n- .alert-error (red for errors)\n- .alert-info (blue for informational messages)\n\nFile: apps/backend/src/public/css/portal.css\n\nRequirements:\n- Add alert classes after the status badge section\n- Use appropriate colors for each variant\n- Include padding and border-radius for visual distinction\n- Follow existing CSS patterns in the file\n\nAcceptance criteria:\n- CSS loads without syntax errors (curl -I http://localhost:3000/public/css/portal.css returns 200)\n- All alert classes present in portal.css\n\nFile reservation hint (exclusive, 2h):\n- apps/backend/src/public/css/portal.css\n(reason=roundtable-y.1)","acceptance_criteria":"pnpm test and CSS loads with alert classes","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T16:38:42.749Z","updated_at":"2025-12-30T17:26:05.442226963Z","closed_at":"2025-12-30T17:26:05.442226963Z","source_repo":".","labels":["css","portal"],"dependencies":[{"issue_id":"roundtable-y.1","depends_on_id":"roundtable-y","type":"parent-child","created_at":"2025-12-30T16:38:42.749Z","created_by":"daemon"}]}
{"id":"roundtable-y.2","content_hash":"533707446ef354b9dcceb67fbda009af5639d81c74532be9cada751eb3a34696","title":"Task 2: Add badge-private and badge-public CSS classes","description":"Implement Task 2: Add badge-private and badge-public\n\nCritical Issue - Cannot show public/private status on posts.\n\nPlan specification:\n- .badge-private (for private posts - circle members only)\n- .badge-public (for posts that will appear on public site)\n\nFile: apps/backend/src/public/css/portal.css\n\nRequirements:\n- Add badge variants near existing .badge styles\n- Use visual distinction (e.g., color, border) between private/public\n- Follow existing badge patterns in the file\n- Ensure badges work with the status badge component\n\nAcceptance criteria:\n- CSS loads without syntax errors\n- Both badge classes present in portal.css\n\nFile reservation hint (exclusive, 2h):\n- apps/backend/src/public/css/portal.css\n(reason=roundtable-y.2)","acceptance_criteria":"pnpm test and CSS loads with badge classes","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T16:38:42.749Z","updated_at":"2025-12-30T17:30:25.638718933Z","closed_at":"2025-12-30T17:30:25.638718933Z","source_repo":".","labels":["css","portal"],"dependencies":[{"issue_id":"roundtable-y.2","depends_on_id":"roundtable-y","type":"parent-child","created_at":"2025-12-30T16:38:42.749Z","created_by":"daemon"}]}
{"id":"roundtable-y.3","content_hash":"37721356772007009c1a3f975b973c41a0db174c5e979cd1adc059d288360b81","title":"Task 3: Remove duplicate .btn and .card CSS definitions","description":"Implement Task 3: Remove duplicate .btn and .card definitions\n\nHigh Priority Issue - Maintenance risk, potential conflicts.\n\nDuplicate definitions found:\n- .btn defined at lines 488 and 735\n- .card defined at lines 479 and 621\n\nFile: apps/backend/src/public/css/portal.css\n\nRequirements:\n- Identify which definition to keep (usually the later/more complete one)\n- Remove the duplicate definitions\n- Verify no functionality is lost\n- Ensure CSS loads without errors\n\nAcceptance criteria:\n- CSS loads without syntax errors\n- Only one definition each for .btn and .card\n- All tests still pass\n\nFile reservation hint (exclusive, 2h):\n- apps/backend/src/public/css/portal.css\n(reason=roundtable-y.3)","acceptance_criteria":"pnpm test and CSS loads with no duplicate definitions","status":"closed","priority":1,"issue_type":"task","assignee":"OrangePond","created_at":"2025-12-30T16:38:42.75Z","updated_at":"2025-12-30T17:31:57.975294875Z","closed_at":"2025-12-30T17:31:00Z","source_repo":".","labels":["css","portal","refactor"],"dependencies":[{"issue_id":"roundtable-y.3","depends_on_id":"roundtable-y","type":"parent-child","created_at":"2025-12-30T16:38:42.75Z","created_by":"daemon"}]}
{"id":"roundtable-y.4","content_hash":"ac6f6c55f9f00e35376f2b735e4fae93a8bcb4ec0a03ef3c821667cee69a32c2","title":"Task 4: Document dateUtils API deviation","description":"Implement Task 4: Document dateUtils API deviation\n\nMedium Priority - Documentation update needed.\n\nPlan spec:\nfunction formatDate(isoDate: string): string\n\nActual implementation:\nfunction formatDateRelative(date: Date): string\n\nFile: apps/backend/src/lib/dateUtils.ts\n\nRequirements:\n- Add JSDoc comment explaining the deviation\n- Document why the current API is used\n- Update plan or create a deviation log\n- The implementation works (tests pass), just needs documentation\n\nAcceptance criteria:\n- Documentation added to dateUtils.ts\n- All tests still pass","acceptance_criteria":"pnpm test and documentation added","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T16:38:42.75Z","updated_at":"2025-12-30T17:35:35.333119627Z","closed_at":"2025-12-30T17:35:35.333119627Z","source_repo":".","labels":["docs","typescript"],"dependencies":[{"issue_id":"roundtable-y.4","depends_on_id":"roundtable-y","type":"parent-child","created_at":"2025-12-30T16:38:42.75Z","created_by":"daemon"}]}
{"id":"roundtable-y.5","content_hash":"20b59e02ebbe894cf14d83ef6209e3df558e59fa458910748360ce1468d53493","title":"Task 5: Add vi import or document manual mocking","description":"Implement Task 5: Add vi import OR document why manual mocking is preferred\n\nMedium Priority - Test code pattern.\n\nPlan spec: import { ..., vi } from 'vitest';\n\nActual: import { describe, it, expect, beforeEach, afterEach } from 'vitest';\n\nFile: apps/backend/test/dateUtils.test.ts line 4\n\nRequirements:\n- Either add vi import and use vi.spyOn() for Date mocking\n- Or add comment explaining why manual Date mocking is preferred\n- Ensure consistency across test files\n\nAcceptance criteria:\n- Tests use vi import OR have explanatory comment\n- All tests still pass","acceptance_criteria":"pnpm test and pattern documented/updated","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T16:38:42.75Z","updated_at":"2025-12-30T17:37:41.991821099Z","closed_at":"2025-12-30T17:38:00Z","source_repo":".","labels":["test","typescript"],"dependencies":[{"issue_id":"roundtable-y.5","depends_on_id":"roundtable-y","type":"parent-child","created_at":"2025-12-30T16:38:42.75Z","created_by":"daemon"}]}
{"id":"roundtable-y.6","content_hash":"c7be90719a7990bd2dee273a52a4119fdcab64052f3928a0a44f23c9de7c96d7","title":"Task 6: Decide on accent color","description":"Implement Task 6: Decide on accent color\n\nMedium Priority - Design decision.\n\nPlan spec: Gold accent (#b59a5b)\nActual: Gray-scale (#404040)\n\nFile: apps/backend/src/public/css/portal.css\n\nRequirements:\n- Decide whether to use gold or gray-scale accent\n- Update CSS to match decision\n- Document the decision in plan or project docs\n- If keeping gray-scale, add comment explaining deviation\n\nAcceptance criteria:\n- Accent color decision made and documented\n- CSS reflects the decision\n- All tests still pass","acceptance_criteria":"Decision made and documented","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T16:38:42.75Z","updated_at":"2025-12-30T17:43:03.693208231Z","closed_at":"2025-12-30T17:43:03.693208231Z","source_repo":".","labels":["css","design","docs"],"dependencies":[{"issue_id":"roundtable-y.6","depends_on_id":"roundtable-y","type":"parent-child","created_at":"2025-12-30T16:38:42.75Z","created_by":"daemon"}]}
{"id":"roundtable-yd3","content_hash":"b6c68c56d3a22d7534aa9fcdb67fe024d257a68932938be5f20d6890f5f04c29","title":"Reflection Journey Epic (roundtable-reflection)","description":"**Epic:** Reflection Journey for Founders\n\n**Priority:** P3 (Low)\n**Complexity:** Low\n**PMF Impact:** \"I realised what I dont","acceptance_criteria":"Timeline API complete; Reflection notes working; Portal UI implemented","status":"closed","priority":3,"issue_type":"epic","assignee":"BlackDog","created_at":"2026-01-01T18:46:36.786103746Z","updated_at":"2026-01-01T19:46:14.950423317Z","closed_at":"2026-01-01T19:46:14.950423317Z","source_repo":"."}
{"id":"roundtable-yd3.1","content_hash":"07838eb1911b576f84a8e7fbe2af3f9460736068302efda5bd1b4ea150fe71ab","title":"Timeline API - Get founder complete thinking history","description":"**Task:** Timeline API for Reflection Journey\n\n**Priority:** P3 (Low)\n**Assignee:** FuchsiaCreek (Backend)\n\n## What\nCreate API endpoint for retrieving a founder's complete thinking timeline.\n\n## Endpoint\nGET /api/timeline\n\nResponse:\n```json\n{\n  \"periods\": [\n    {\n      \"period\": \"2025-12\",\n      \"posts\": [\n        {\n          \"id\": 123,\n          \"title\": \"Post title\",\n          \"content\": \"Post excerpt...\",\n          \"status\": \"published\",\n          \"created_at\": \"2025-12-15T10:00:00Z\",\n          \"reflection\": \"My reflection notes...\"\n        }\n      ],\n      \"drafts\": [\n        {\n          \"id\": 456,\n          \"title\": \"Draft title\",\n          \"content\": \"Draft excerpt...\",\n          \"created_at\": \"2025-12-20T14:00:00Z\",\n          \"reflection\": \"Still thinking about this...\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n## Implementation\nFile: apps/backend/src/routes/timelineApi.ts\n\n- Group by month (YYYY-MM format)\n- Include published posts\n- Include private drafts\n- Include reflection notes\n- Reverse chronological within each period\n- Auth required (must be authenticated)\n\n## Acceptance\n- [ ] Timeline API endpoint created\n- [ ] Returns posts grouped by month\n- [ ] Includes private drafts\n- [ ] Includes reflection notes\n- [ ] Tests passing","acceptance_criteria":"Timeline API created; Posts grouped by month; Drafts included; Reflection notes included; Tests passing","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T18:47:18.41091578Z","updated_at":"2026-01-01T19:46:14.952575418Z","closed_at":"2026-01-01T19:46:14.952575418Z","source_repo":"."}
{"id":"roundtable-yd3.2","content_hash":"c86e75aa6ed3fdc9865d7c7afdf6389f7e741dab2160be8e4bbf59559d0a5fdc","title":"Reflection notes - Add private notes to posts and drafts","description":"**Task:** Reflection Notes for Reflection Journey\n\n**Priority:** P3 (Low)\n**Assignee:** FuchsiaCreek (Backend)\n\n## What\nAllow founders to add private reflection notes to their posts and drafts.\n\n## API Endpoints\n- POST /api/posts/:id/reflection - Add reflection to published post\n- POST /api/drafts/:id/reflection - Add reflection to draft\n- PATCH /api/posts/:id/reflection - Update reflection\n- PATCH /api/drafts/:id/reflection - Update reflection\n\n## Request Body\n```json\n{\n  \"reflection\": \"What's changed since I wrote this? I now realise...\"\n}\n```\n\n## Database Migration\nAdd reflection column to posts and drafts tables:\n```sql\nALTER TABLE posts ADD COLUMN reflection TEXT;\nALTER TABLE drafts ADD COLUMN reflection TEXT;\n```\n\n## Implementation\n- Add reflection columns to posts and drafts\n- Create API endpoints for managing reflections\n- Validate ownership (only post/draft author can add reflection)\n- Reflections are private (never shown to others)\n\n## Acceptance\n- [ ] Migration adds reflection columns\n- [ ] POST endpoints create reflections\n- [ ] PATCH endpoints update reflections\n- [ ] Only author can manage their reflections\n- [ ] Tests passing","acceptance_criteria":"Migration adds reflection columns; Endpoints working; Authorization enforced; Tests passing","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T18:47:57.799578341Z","updated_at":"2026-01-01T19:46:14.952900867Z","closed_at":"2026-01-01T19:46:14.952900867Z","source_repo":"."}
{"id":"roundtable-yd3.3","content_hash":"b5da7f0cb2cc8556b944dffdb8206b1d3954660bf65c96c6943f0230f7009e32","title":"Portal UI - Reflection timeline page","description":"**Task:** Portal UI for Reflection Journey\n\n**Priority:** P3 (Low)\n**Assignee:** OrangePond (Frontend)\n\n## What\nCreate a private, calm timeline page for founders to review their thinking journey.\n\n## Page Route\n/app/timeline - Private reflection timeline\n\n## UI Components\n\n### 1. Timeline Header\n- Title: \"My Thinking Journey\"\n- Subtitle: Private reflection on your posts and drafts over time\n\n### 2. Period Sections (grouped by month)\n- Month heading (e.g., \"December 2025\")\n- Post/draft cards with:\n  - Title and excerpt\n  - Date created\n  - Current status (published/draft)\n  - Reflection notes section\n\n### 3. Reflection Notes\n- Text area for adding reflection\n- Reflection prompts:\n  - \"What's changed since you wrote this?\"\n  - \"What would you tell your past self?\"\n- Save button\n- Character counter (optional, maybe 500 chars)\n\n### 4. Swiss-spa Styling\n- Calm, minimal design\n- Typography-focused\n- Warm neutral palette\n- Print-friendly\n- Mobile-responsive\n\n## Files\n- apps/backend/src/public/timeline.html (new page)\n- apps/backend/src/routes/timelinePage.ts (route handler)\n\n## Acceptance\n- [ ] Timeline page created at /app/timeline\n- [ ] Posts and drafts grouped by month\n- [ ] Reflection notes displayed\n- [ ] Add/edit reflection functionality\n- [ ] Swiss-spa calm styling\n- [ ] Mobile responsive","acceptance_criteria":"Timeline page at /app/timeline; Posts grouped by month; Reflection notes shown; Add/edit working; Swiss-spa styling; Mobile responsive","status":"closed","priority":3,"issue_type":"task","assignee":"FuchsiaCreek","created_at":"2026-01-01T18:48:17.390265638Z","updated_at":"2026-01-01T19:46:14.953223816Z","closed_at":"2026-01-01T19:46:14.953223816Z","source_repo":"."}
{"id":"roundtable-ymd","content_hash":"b221e752d99e4e7ea6c638ac6feb69b9a8be8e996896dd552b0431d4afab6918","title":"Post-decision reflection trigger workflow","description":"Implement automatic reflection prompts after post publication to help founders capture their decision outcomes.\n\nFiles:\n- apps/backend/src/lib/reflectionTrigger.ts - New file\n- apps/backend/src/routes/postsApi.ts - Update publish workflow\n- apps/backend/src/email/templates/reflectionPrompt.md - Email template\n\nWorkflow:\n1. When post is published (moved from draft → published)\n2. Wait 24 hours (or configurable delay)\n3. Send reflection prompt email to author\n4. Email includes link to reflection form\n5. Reflection saved to reflections table\n\nEmail Template Content:\nSubject: \"What would you tell your past self? - Reflection on [post title]\"\n\nBody:\n\"Hi {{member_name}},\n\nIt's been 24 hours since you published \"{{post_title}}\".\n\nTake a moment to reflect:\n1. What clarity did you gain?\n2. What would you tell your past self before making this decision?\n3. What surprised you?\n\n[Link to reflection form]\n\nThis reflection will help you (and only you) see your journey over time.\n\n- Roundtable\"\n\nConfiguration:\n- REFLECTION_DELAY_HOURS env variable (default: 24)\n- Opt-out per member\n- Circle-level configuration\n\nAcceptance:\n- Reflection trigger implemented with 24h delay\n- Email template uses post title and member name\n- Opt-out mechanism works\n- Reflection link lands on form pre-populated with post_id\n- Only triggers for published posts (not drafts)\n- Configurable delay via environment variable","status":"closed","priority":1,"issue_type":"feature","assignee":"FuchsiaCreek","created_at":"2026-01-04T15:38:24.320685436Z","updated_at":"2026-01-04T16:17:39.101589282Z","closed_at":"2026-01-04T16:17:39.101589282Z","source_repo":".","labels":["pmf reflection backend workflow"]}
{"id":"roundtable-yop","content_hash":"2b3e624d8ff27450fcb2ba1afb467dd44004c0f8a0fff1b533b86da72e67eb4c","title":"Remove DEBUG console.logs from supervisor.ts","description":"","status":"closed","priority":2,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-03T22:52:39.010518107Z","updated_at":"2026-01-03T23:56:05.871942431Z","closed_at":"2026-01-03T23:56:05.871942431Z","source_repo":".","labels":["code-hygiene"]}
{"id":"roundtable-yp5","content_hash":"1eafaed1c1c4894a0c377bec72bbff884e5d3eac405c49fe2b39aabc7bf7aa02","title":"Implement supervisor uptime tracking","description":"Track actual supervisor uptime instead of hardcoding uptimeMs to 0.\n\nLocation: scripts/maf/supervisor.ts:1196\n\nShould track the actual time since the supervisor started, providing real uptime data for monitoring and health checks.","status":"closed","priority":3,"issue_type":"task","assignee":"OrangePond","created_at":"2026-01-03T18:20:47.463414284Z","updated_at":"2026-01-03T20:26:01.488591258Z","closed_at":"2026-01-03T20:26:01.488594268Z","source_repo":".","labels":["maf","metrics","supervisor"]}
{"id":"roundtable-zc2","content_hash":"490acd86f6afe9231675ffe91b25a76f8885949a16868108d2e9d899174c74d8","title":"roundtable-mgmt-004","description":"","acceptance_criteria":"GET /app/circles/:circleId/settings - enhanced settings page; circle name and description editing; member management quick-actions (invite, remove, change roles); reading mode toggle (private/public-read); circle deletion with confirmation; stewards list management; settings persistence with proper validation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T07:38:07.29953344Z","updated_at":"2026-01-04T07:40:51.916167914Z","closed_at":"2026-01-04T07:40:51.916167914Z","source_repo":".","labels":["circle-management","epic-5","frontend","portal"]}
